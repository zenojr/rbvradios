"use strict";(function(e,t,n){function r(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(e?e+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return o.length>n?$t(o[n]):e}),s+="\nhttp://errors.angularjs.org/1.5.3/"+(e?e+"/":"")+a,r=i,n="?";o.length>r;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent($t(o[r]));return new t(s)}}function i(e){if(null==e||T(e))return!1;if(Wi(e)||C(e)||Oi&&e instanceof Oi)return!0;var t="length"in Object(e)&&e.length;return S(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function o(e,t,n){var r,a;if(e)if(_(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r,e);else if(Wi(e)||i(e)){var s="object"!=typeof e;for(r=0,a=e.length;a>r;r++)(s||r in e)&&t.call(n,e[r],r,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(w(e))for(r in e)t.call(n,e[r],r,e);else if("function"==typeof e.hasOwnProperty)for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e);else for(r in e)Ai.call(e,r)&&t.call(n,e[r],r,e);return e}function a(e,t,n){for(var r=Object.keys(e).sort(),i=0;r.length>i;i++)t.call(n,e[r[i]],r[i]);return r}function s(e){return function(t,n){e(n,t)}}function l(){return++qi}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function c(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;o>i;++i){var a=t[i];if(x(a)||_(a))for(var s=Object.keys(a),l=0,d=s.length;d>l;l++){var f=s[l],h=a[f];n&&x(h)?E(h)?e[f]=new Date(h.valueOf()):k(h)?e[f]=RegExp(h):h.nodeName?e[f]=h.cloneNode(!0):I(h)?e[f]=h.clone():(x(e[f])||(e[f]=Wi(h)?[]:{}),c(e[f],[h],!0)):e[f]=h}}return u(e,r),e}function d(e){return c(e,Li.call(arguments,1),!1)}function f(e){return c(e,Li.call(arguments,1),!0)}function h(e){return parseInt(e,10)}function p(e,t){return d(Object.create(e),t)}function m(){}function g(e){return e}function v(e){return function(){return e}}function y(e){return _(e.toString)&&e.toString!==Ui}function b(e){return e===n}function $(e){return e!==n}function x(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!ji(e)}function C(e){return"string"==typeof e}function S(e){return"number"==typeof e}function E(e){return"[object Date]"===Ui.call(e)}function _(e){return"function"==typeof e}function k(e){return"[object RegExp]"===Ui.call(e)}function T(e){return e&&e.window===e}function A(e){return e&&e.$evalAsync&&e.$watch}function N(e){return"[object File]"===Ui.call(e)}function R(e){return"[object FormData]"===Ui.call(e)}function D(e){return"[object Blob]"===Ui.call(e)}function M(e){return"boolean"==typeof e}function P(e){return e&&_(e.then)}function O(e){return e&&S(e.length)&&Gi.test(Ui.call(e))}function B(e){return"[object ArrayBuffer]"===Ui.call(e)}function I(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function L(e){var t,n={},r=e.split(",");for(t=0;r.length>t;t++)n[r[t]]=!0;return n}function H(e){return Ni(e.nodeName||e[0]&&e[0].nodeName)}function F(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function U(e,t){function r(e,t){var n,r=t.$$hashKey;if(Wi(e))for(var o=0,a=e.length;a>o;o++)t.push(i(e[o]));else if(w(e))for(n in e)t[n]=i(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=i(e[n]));else for(n in e)Ai.call(e,n)&&(t[n]=i(e[n]));return u(t,r),t}function i(e){if(!x(e))return e;var t=s.indexOf(e);if(-1!==t)return l[t];if(T(e)||A(e))throw zi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,o=a(e);return o===n&&(o=Wi(e)?[]:Object.create(ji(e)),i=!0),s.push(e),l.push(o),i?r(e,o):o}function a(e){switch(Ui.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(i(e.buffer));case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var r=RegExp(e.source,(""+e).match(/[^\/]*$/)[0]);return r.lastIndex=e.lastIndex,r;case"[object Blob]":return new e.constructor([e],{type:e.type})}return _(e.cloneNode)?e.cloneNode(!0):n}var s=[],l=[];if(t){if(O(t)||B(t))throw zi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw zi("cpi","Can't copy! Source and destination are identical.");return Wi(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),s.push(e),l.push(t),r(e,t)}return i(e)}function j(e,t){if(Wi(e)){t=t||[];for(var n=0,r=e.length;r>n;n++)t[n]=e[n]}else if(x(e)){t=t||{};for(var i in e)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(t[i]=e[i])}return t||e}function z(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,a=typeof t;if(o==a&&"object"==o){if(!Wi(e)){if(E(e))return E(t)?z(e.getTime(),t.getTime()):!1;if(k(e))return k(t)?""+e==""+t:!1;if(A(e)||A(t)||T(e)||T(t)||Wi(t)||E(t)||k(t))return!1;i=vt();for(r in e)if("$"!==r.charAt(0)&&!_(e[r])){if(!z(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&$(t[r])&&!_(t[r]))return!1;return!0}if(!Wi(t))return!1;if((n=e.length)==t.length){for(r=0;n>r;r++)if(!z(e[r],t[r]))return!1;return!0}}return!1}function V(e,t,n){return e.concat(Li.call(t,n))}function q(e,t){return Li.call(e,t||0)}function W(e,t){var n=arguments.length>2?q(arguments,2):[];return!_(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,V(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function G(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?i=n:T(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":A(r)&&(i="$SCOPE"),i}function X(e,t){return b(e)?n:(S(t)||(t=t?2:null),JSON.stringify(e,G,t))}function K(e){return C(e)?JSON.parse(e):e}function Y(e,t){e=e.replace(Qi,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function J(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Q(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=Y(t,r);return J(e,n*(i-r))}function Z(e){e=Oi(e).clone();try{e.empty()}catch(t){}var n=Oi("<div>").append(e).html();try{return e[0].nodeType===io?Ni(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Ni(t)})}catch(t){return Ni(n)}}function et(e){try{return decodeURIComponent(e)}catch(t){}}function tt(e){var t={};return o((e||"").split("&"),function(e){var n,r,i;e&&(r=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(r=e.substring(0,n),i=e.substring(n+1)),r=et(r),$(r)&&(i=$(i)?et(i):!0,Ai.call(t,r)?Wi(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i))}),t}function nt(e){var t=[];return o(e,function(e,n){Wi(e)?o(e,function(e){t.push(it(n,!0)+(e===!0?"":"="+it(e,!0)))}):t.push(it(n,!0)+(e===!0?"":"="+it(e,!0)))}),t.length?t.join("&"):""}function rt(e){return it(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function it(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ot(e,t){var n,r,i=Zi.length;for(r=0;i>r;++r)if(n=Zi[r]+t,C(n=e.getAttribute(n)))return n;return null}function at(e,t){var n,r,i={};o(Zi,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),o(Zi,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==ot(n,"strict-di"),t(n,r?[r]:[],i))}function st(r,i,a){x(a)||(a={});var s={strictDi:!1};a=d(s,a);var l=function(){if(r=Oi(r),r.injector()){var e=r[0]===t?"document":Z(r);throw zi("btstrpd","App Already Bootstrapped with this Element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}i=i||[],i.unshift(["$provide",function(e){e.value("$rootElement",r)}]),a.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var n=on(i,a.strictDi);return n.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),n},u=/^NG_ENABLE_DEBUG_INFO!/,c=/^NG_DEFER_BOOTSTRAP!/;return e&&u.test(e.name)&&(a.debugInfoEnabled=!0,e.name=e.name.replace(u,"")),e&&!c.test(e.name)?l():(e.name=e.name.replace(c,""),Vi.resumeBootstrap=function(e){return o(e,function(e){i.push(e)}),l()},_(Vi.resumeDeferredBootstrap)&&Vi.resumeDeferredBootstrap(),n)}function lt(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function ut(e){var t=Vi.element(e).injector();if(!t)throw zi("test","no injector found for element argument to getTestability");return t.get("$$testability")}function ct(e,t){return t=t||"_",e.replace(eo,function(e,n){return(n?t:"")+e.toLowerCase()})}function dt(){var t;if(!to){var r=Ji();Bi=b(r)?e.jQuery:r?e[r]:n,Bi&&Bi.fn.on?(Oi=Bi,d(Bi.fn,{scope:So.scope,isolateScope:So.isolateScope,controller:So.controller,injector:So.injector,inheritedData:So.inheritedData}),t=Bi.cleanData,Bi.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=Bi._data(r,"events"),n&&n.$destroy&&Bi(r).triggerHandler("$destroy");t(e)}):Oi=Rt,Vi.element=Oi,to=!0}}function ft(e,t,n){if(!e)throw zi("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function ht(e,t,n){return n&&Wi(e)&&(e=e[e.length-1]),ft(_(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function pt(e,t){if("hasOwnProperty"===e)throw zi("badname","hasOwnProperty is not a valid {0} name",t)}function mt(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,a=i.length,s=0;a>s;s++)r=i[s],e&&(e=(o=e)[r]);return!n&&_(e)?W(o,e):e}function gt(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=Oi(Li.call(e,0,i))),t.push(n));return t||e}function vt(){return Object.create(null)}function yt(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=r("$injector"),i=r("ng"),o=t(e,"angular",Object);return o.$$minErr=o.$$minErr||r,t(o,"module",function(){var e={};return function(r,o,a){var s=function(e,t){if("hasOwnProperty"===e)throw i("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),o&&e.hasOwnProperty(r)&&(e[r]=null),t(e,r,function(){function e(e,t,n,r){return r||(r=i),function(){return r[n||"push"]([e,t,arguments]),c}}function t(e,t){return function(n,o){return o&&_(o)&&(o.$$moduleName=r),i.push([e,t,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],l=[],u=e("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:r,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator"),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:u,run:function(e){return l.push(e),this}};return a&&u(a),c})}})}function bt(e){var t=[];return JSON.stringify(e,function(e,n){if(n=G(e,n),x(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function $t(e){return"function"==typeof e?(""+e).replace(/ \{[\s\S]*$/,""):b(e)?"undefined":"string"!=typeof e?bt(e):e}function xt(t){d(t,{bootstrap:st,copy:U,extend:d,merge:f,equals:z,element:Oi,forEach:o,injector:on,noop:m,bind:W,toJson:X,fromJson:K,identity:g,isUndefined:b,isDefined:$,isString:C,isFunction:_,isObject:x,isNumber:S,isElement:I,isArray:Wi,version:lo,isDate:E,lowercase:Ni,uppercase:Ri,callbacks:{counter:0},getTestability:ut,$$minErr:r,$$csp:Yi,reloadWithDebugInfo:lt}),Ii=yt(e),Ii("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Cr}),e.provider("$compile",mn).directive({a:Na,input:Ka,textarea:Ka,form:Oa,script:Vs,select:Gs,style:Ks,option:Xs,ngBind:Qa,ngBindHtml:es,ngBindTemplate:Za,ngClass:ns,ngClassEven:is,ngClassOdd:rs,ngCloak:os,ngController:as,ngForm:Ba,ngHide:Is,ngIf:us,ngInclude:cs,ngInit:fs,ngNonBindable:Ts,ngPluralize:Ds,ngRepeat:Ms,ngShow:Bs,ngStyle:Ls,ngSwitch:Hs,ngSwitchWhen:Fs,ngSwitchDefault:Us,ngOptions:Rs,ngTransclude:zs,ngModel:Es,ngList:hs,ngChange:ts,pattern:Js,ngPattern:Js,required:Ys,ngRequired:Ys,minlength:Zs,ngMinlength:Zs,maxlength:Qs,ngMaxlength:Qs,ngValue:Ja,ngModelOptions:ks}).directive({ngInclude:ds}).directive(Ra).directive(ss),e.provider({$anchorScroll:an,$animate:Fo,$animateCss:zo,$$animateJs:Lo,$$animateQueue:Ho,$$AnimateRunner:jo,$$animateAsyncRun:Uo,$browser:fn,$cacheFactory:hn,$controller:$n,$document:xn,$exceptionHandler:wn,$filter:Ir,$$forceReflow:Xo,$interpolate:Bn,$interval:In,$http:Dn,$httpParamSerializer:Sn,$httpParamSerializerJQLike:En,$httpBackend:Pn,$xhrFactory:Mn,$location:Jn,$log:Qn,$parse:vr,$rootScope:wr,$q:yr,$$q:br,$sce:kr,$sceDelegate:_r,$sniffer:Tr,$templateCache:pn,$templateRequest:Ar,$$testability:Nr,$timeout:Rr,$window:Pr,$$rAF:xr,$$jqLite:Qt,$$HashMap:To,$$cookieReader:Br})}])}function wt(){return++co}function Ct(e){return e.replace(po,function(e,t,n,r){return r?n.toUpperCase():n}).replace(mo,"Moz$1")}function St(e){return!bo.test(e)}function Et(e){var t=e.nodeType;return t===no||!t||t===ao}function _t(e){for(var t in uo[e.ng339])return!0;return!1}function kt(e){for(var t=0,n=e.length;n>t;t++)Ot(e[t])}function Tt(e,t){var n,r,i,a,s=t.createDocumentFragment(),l=[];if(St(e))l.push(t.createTextNode(e));else{for(n=n||s.appendChild(t.createElement("div")),r=($o.exec(e)||["",""])[1].toLowerCase(),i=wo[r]||wo._default,n.innerHTML=i[1]+e.replace(xo,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=V(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(e){s.appendChild(e)}),s}function At(e,n){n=n||t;var r;return(r=yo.exec(e))?[n.createElement(r[1])]:(r=Tt(e,n))?r.childNodes:[]}function Nt(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Rt(e){if(e instanceof Rt)return e;var t;if(C(e)&&(e=Xi(e),t=!0),!(this instanceof Rt)){if(t&&"<"!=e.charAt(0))throw vo("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Rt(e)}t?Ut(this,At(e)):Ut(this,e)}function Dt(e){return e.cloneNode(!0)}function Mt(e,t){if(t||Ot(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Ot(n[r])}function Pt(e,t,n,r){if($(r))throw vo("offargs","jqLite#off() does not support the `selector` argument");var i=Bt(e),a=i&&i.events,s=i&&i.handle;if(s)if(t){var l=function(t){var r=a[t];$(n)&&F(r||[],n),$(n)&&r&&r.length>0||(ho(e,t,s),delete a[t])};o(t.split(" "),function(e){l(e),go[e]&&l(go[e])})}else for(t in a)"$destroy"!==t&&ho(e,t,s),delete a[t]}function Ot(e,t){var r=e.ng339,i=r&&uo[r];if(i){if(t)return delete i.data[t],n;i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Pt(e)),delete uo[r],e.ng339=n}}function Bt(e,t){var r=e.ng339,i=r&&uo[r];return t&&!i&&(e.ng339=r=wt(),i=uo[r]={events:{},data:{},handle:n}),i}function It(e,t,n){if(Et(e)){var r=$(n),i=!r&&t&&!x(t),o=!t,a=Bt(e,!i),s=a&&a.data;if(r)s[t]=n;else{if(o)return s;if(i)return s&&s[t];d(s,t)}}}function Lt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function Ht(e,t){t&&e.setAttribute&&o(t.split(" "),function(t){e.setAttribute("class",Xi((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Xi(t)+" "," ")))})}function Ft(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(t.split(" "),function(e){e=Xi(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",Xi(n))}}function Ut(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;n>r;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function jt(e,t){return zt(e,"$"+(t||"ngController")+"Controller")}function zt(e,t,n){e.nodeType==ao&&(e=e.documentElement);for(var r=Wi(t)?t:[t];e;){for(var i=0,o=r.length;o>i;i++)if($(n=Oi.data(e,r[i])))return n;e=e.parentNode||e.nodeType===so&&e.host}}function Vt(e){for(Mt(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function qt(e,t){t||Mt(e);var n=e.parentNode;n&&n.removeChild(e)}function Wt(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):Oi(n).on("load",t)}function Gt(e,t){var n=Eo[t.toLowerCase()];return n&&_o[H(e)]&&n}function Xt(e){return ko[e]}function Kt(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||Yt;o>1&&(i=j(i));for(var l=0;o>l;l++)n.isImmediatePropagationStopped()||s(e,n,i[l])}};return n.elem=e,n}function Yt(e,t,n){n.call(e,t)}function Jt(e,t,n){var r=t.relatedTarget;(!r||r!==e&&!Co.call(e,r))&&n.call(e,t)}function Qt(){this.$get=function(){return d(Rt,{hasClass:function(e,t){return e.attr&&(e=e[0]),Lt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ft(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Ht(e,t)}})}}function Zt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||l)():r+":"+e}function en(e,t){if(t){var n=0;this.nextUid=function(){return++n}}o(e,this.put,this)}function tn(e){var t=(""+e).replace(Mo,""),n=t.match(Ao)||t.match(No);return n}function nn(e){var t=tn(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function rn(e,t,n){var r,i,a;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw C(n)&&n||(n=e.name||nn(e)),Po("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=tn(e),o(i[1].split(Ro),function(e){e.replace(Do,function(e,t,n){r.push(n)})})}e.$inject=r}}else Wi(e)?(a=e.length-1,ht(e[a],"fn"),r=e.slice(0,a)):ht(e,"fn",!0);return r}function on(e,t){function r(e){return function(t,r){return x(t)?(o(t,s(e)),n):e(t,r)}}function i(e,t){if(pt(e,"service"),(_(t)||Wi(t))&&(t=S.instantiate(t)),!t.$get)throw Po("pget","Provider '{0}' must define $get factory method.",e);return w[e+g]=t}function a(e,t){return function(){var n=T.invoke(t,this);if(b(n))throw Po("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function l(e,t,n){return i(e,{$get:n!==!1?a(e,t):t})}function u(e,t){return l(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return l(e,v(t),!1)}function d(e,t){pt(e,"constant"),w[e]=t,E[e]=t}function f(e,t){var n=S.get(e+g),r=n.$get;n.$get=function(){var e=T.invoke(r,n);return T.invoke(t,null,{$delegate:e})}}function h(e){ft(b(e)||Wi(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function r(e){var t,n;for(t=0,n=e.length;n>t;t++){var r=e[t],i=S.get(r[0]);i[r[1]].apply(i,r[2])}}if(!$.get(e)){$.put(e,!0);try{C(e)?(t=Ii(e),n=n.concat(h(t.requires)).concat(t._runBlocks),r(t._invokeQueue),r(t._configBlocks)):_(e)?n.push(S.invoke(e)):Wi(e)?n.push(S.invoke(e)):ht(e,"module")}catch(i){throw Wi(e)&&(e=e[e.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Po("modulerr","Failed to instantiate module {0} due to:\n{1}",e,i.stack||i.message||i)}}}),n}function p(e,n){function r(t,r){if(e.hasOwnProperty(t)){if(e[t]===m)throw Po("cdep","Circular dependency found: {0}",t+" <- "+y.join(" <- "));return e[t]}try{return y.unshift(t),e[t]=m,e[t]=n(t,r)}catch(i){throw e[t]===m&&delete e[t],i}finally{y.shift()}}function i(e,n,i){for(var o=[],a=on.$$annotate(e,t,i),s=0,l=a.length;l>s;s++){var u=a[s];if("string"!=typeof u)throw Po("itkn","Incorrect injection token! Expected service name as string, got {0}",u);o.push(n&&n.hasOwnProperty(u)?n[u]:r(u,i))}return o}function o(e){return 11>=Pi?!1:"function"==typeof e&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(e))}function a(e,t,n,r){"string"==typeof n&&(r=n,n=null);var a=i(e,n,r);return Wi(e)&&(e=e[e.length-1]),o(e)?(a.unshift(null),new(Function.prototype.bind.apply(e,a))):e.apply(t,a)}function s(e,t,n){var r=Wi(e)?e[e.length-1]:e,o=i(e,t,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:on.$$annotate,has:function(t){return w.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=t===!0;var m={},g="Provider",y=[],$=new en([],!0),w={$provide:{provider:r(i),factory:r(l),service:r(u),value:r(c),constant:r(d),decorator:f}},S=w.$injector=p(w,function(e,t){throw Vi.isString(t)&&y.push(t),Po("unpr","Unknown provider: {0}",y.join(" <- "))}),E={},k=p(E,function(e,t){var r=S.get(e+g,t);return T.invoke(r.$get,r,n,e)}),T=k;w["$injector"+g]={$get:v(k)};var A=h(e);return T=k.get("$injector"),T.strictDi=t,o(A,function(e){e&&T.invoke(e)}),T}function an(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,r,i){function o(e){var t=null;return Array.prototype.some.call(e,function(e){return"a"===H(e)?(t=e,!0):n}),t}function a(){var e=l.yOffset;if(_(e))e=e();else if(I(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else S(e)||(e=0);return e}function s(e){if(e){e.scrollIntoView();var n=a();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function l(e){e=C(e)?e:r.hash();var t;e?(t=u.getElementById(e))?s(t):(t=o(u.getElementsByName(e)))?s(t):"top"===e&&s(null):s(null)}var u=t.document;return e&&i.$watch(function(){return r.hash()},function(e,t){(e!==t||""!==e)&&Wt(function(){i.$evalAsync(l)})}),l}]}function sn(e,t){return e||t?e?t?(Wi(e)&&(e=e.join(" ")),Wi(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ln(e){for(var t=0;e.length>t;t++){var n=e[t];if(n.nodeType===Bo)return n}}function un(e){C(e)&&(e=e.split(" "));var t=vt();return o(e,function(e){e.length&&(t[e]=!0)}),t}function cn(e){return x(e)?e:{}}function dn(e,t,n,r){function i(e){try{e.apply(null,q(arguments,1))}finally{if(v--,0===v)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){S=null,l(),u()}function l(){$=E(),$=b($)?null:$,z($,T)&&($=T),T=$}function u(){(w!==c.url()||x!==$)&&(w=c.url(),x=$,o(_,function(e){e(c.url(),$)}))}var c=this,d=e.location,f=e.history,h=e.setTimeout,p=e.clearTimeout,g={};c.isMock=!1;var v=0,y=[];c.$$completeOutstandingRequest=i,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(e){0===v?e():y.push(e)};var $,x,w=d.href,C=t.find("base"),S=null,E=r.history?function E(){try{return f.state}catch(e){}}:m;l(),x=$,c.url=function(t,n,i){if(b(i)&&(i=null),d!==e.location&&(d=e.location),f!==e.history&&(f=e.history),t){var o=x===i;if(w===t&&(!r.history||o))return c;var s=w&&jn(w)===jn(t);return w=t,x=i,!r.history||s&&o?((!s||S)&&(S=t),n?d.replace(t):s?d.hash=a(t):d.href=t,d.href!==t&&(S=t)):(f[n?"replaceState":"pushState"](i,"",t),l(),x=$),c}return S||d.href.replace(/%27/g,"'")},c.state=function(){return $};var _=[],k=!1,T=null;c.onUrlChange=function(t){return k||(r.history&&Oi(e).on("popstate",s),Oi(e).on("hashchange",s),k=!0),_.push(t),t},c.$$applicationDestroyed=function(){Oi(e).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var e=C.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(e,t){var n;return v++,n=h(function(){delete g[n],i(e)},t||0),g[n]=!0,n},c.defer.cancel=function(e){return g[e]?(delete g[e],p(e),i(m),!0):!1}}function fn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new dn(e,r,t,n)}]}function hn(){this.$get=function(){function e(e,n){function i(e){e!=f&&(h?h==e&&(h=e.n):h=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var a=0,s=d({},n,{id:e}),l=vt(),u=n&&n.capacity||Number.MAX_VALUE,c=vt(),f=null,h=null;return t[e]={put:function(e,t){if(!b(t)){if(Number.MAX_VALUE>u){var n=c[e]||(c[e]={key:e});i(n)}return e in l||a++,l[e]=t,a>u&&this.remove(h.key),t}},get:function(e){if(Number.MAX_VALUE>u){var t=c[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(Number.MAX_VALUE>u){var t=c[e];if(!t)return;t==f&&(f=t.p),t==h&&(h=t.n),o(t.n,t.p),delete c[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=vt(),a=0,c=vt(),f=h=null},destroy:function(){l=null,s=null,c=null,delete t[e]},info:function(){return d({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function pn(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function mn(e,r){function i(e,t,r){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,a={};return o(e,function(e,o){if(e in E)return a[o]=E[e],n;var s=e.match(i);if(!s)throw Vo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,r?"controller bindings definition":"isolate scope definition");a[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(E[e]=a[o])}),a}function a(e,t){var n={isolateScope:null,bindToController:null};if(x(e.scope)&&(e.bindToController===!0?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),x(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),x(n.bindToController)){var r=e.controller,o=e.controllerAs;if(!r)throw Vo("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!bn(r,o))throw Vo("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function l(e){var t=e.charAt(0);if(!t||t!==Ni(t))throw Vo("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw Vo("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}var u={},c="Directive",f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=L("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,E=vt();this.directive=function k(t,n){return pt(t,"directive"),C(t)?(l(t),ft(n,"directiveFactory"),u.hasOwnProperty(t)||(u[t]=[],e.factory(t+c,["$injector","$exceptionHandler",function(e,n){var r=[];return o(u[t],function(i,o){try{var a=e.invoke(i);_(a)?a={compile:v(a)}:!a.compile&&a.link&&(a.compile=v(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA",a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),u[t].push(n)):o(t,s(k)),this},this.component=function(e,t){function n(e){function n(t){return _(t)||Wi(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var i=t.template||t.templateUrl?t.template:"";return{controller:r,controllerAs:bn(t.controller)||t.controllerAs||"$ctrl",template:n(i),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require}}var r=t.controller||m;return o(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,r[t]=e)}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return $(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()};var T=!0;this.debugInfoEnabled=function(e){return $(e)?(T=e,this):T};var N=10;this.onChangesTtl=function(e){return arguments.length?(N=e,this):N},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,r,i,s,l,v,$,E,k,R){function D(){try{if(!--$t)throw gt=n,Vo("infchng","{0} $onChanges() iterations reached. Aborting!\n",N);$.$apply(function(){for(var e=0,t=gt.length;t>e;++e)gt[e]();gt=n})}finally{$t++}}function P(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function O(e,t,n){bt.innerHTML="<span "+t+">";var r=bt.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function B(e,t){try{e.addClass(t)}catch(n){}}function I(e,n,r,i,o){e instanceof Oi||(e=Oi(e));for(var a=/\S+/,s=0,l=e.length;l>s;s++){var u=e[s];u.nodeType===io&&u.nodeValue.match(a)&&Nt(u,e[s]=t.createElement("span"))}var c=U(e,n,e,r,i,o);I.$$addScopeClass(e);var d=null;return function(t,n,r){ft(t,"scope"),o&&o.needsNewScope&&(t=t.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,a=r.transcludeControllers,s=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),d||(d=L(s));var l;if(l="html"!==d?Oi(st(d,Oi("<div>").append(e).html())):n?So.clone.call(e):e,a)for(var u in a)l.data("$"+u+"Controller",a[u].instance);return I.$$addScopeInfo(l,t),n&&n(l,t),c&&c(t,l,l,i),l}}function L(e){var t=e&&e[0];return t?"foreignobject"!==H(t)&&Ui.call(t).match(/SVG/)?"svg":"html":"html"}function U(e,t,r,i,o,a){function s(e,r,i,o){var a,s,l,u,c,d,f,h,g;if(p){var v=r.length;for(g=Array(v),c=0;m.length>c;c+=3)f=m[c],g[f]=r[f]}else g=r;for(c=0,d=m.length;d>c;)l=g[m[c++]],a=m[c++],s=m[c++],a?(a.scope?(u=e.$new(),I.$$addScopeInfo(Oi(l),u)):u=e,h=a.transcludeOnThisElement?j(e,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&t?j(e,t):null,a(s,u,l,i,h)):s&&s(e,l.childNodes,n,o)}for(var l,u,c,d,f,h,p,m=[],g=0;e.length>g;g++)l=new P,u=V(e[g],[],l,0===g?i:n,o),c=u.length?K(u,e[g],l,t,r,null,[],[],a):null,c&&c.scope&&I.$$addScopeClass(l.$$element),f=c&&c.terminal||!(d=e[g].childNodes)||!d.length?null:U(d,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||f)&&(m.push(g,c,f),h=!0,p=p||c),a=null;return h?s:null}function j(e,t,n){function r(r,i,o,a,s){return r||(r=e.$new(!1,s),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=vt();for(var o in t.$$slots)i[o]=t.$$slots[o]?j(e,t.$$slots[o],n):null;return r}function V(e,t,n,r,i){var o,a,s=e.nodeType,l=n.$attr;switch(s){case no:et(t,gn(H(e)),"E",r,i);for(var u,c,d,p,m,g,v=e.attributes,y=0,b=v&&v.length;b>y;y++){var $=!1,w=!1;u=v[y],c=u.name,m=Xi(u.value),p=gn(c),(g=Et.test(p))&&(c=c.replace(qo,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=p.match(_t);S&&tt(S[1])&&($=c,w=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),d=gn(c.toLowerCase()),l[d]=c,(g||!n.hasOwnProperty(d))&&(n[d]=m,Gt(e,d)&&(n[d]=!0)),ut(e,t,m,d,g),et(t,d,"A",r,i,$,w)}if(a=e.className,x(a)&&(a=a.animVal),C(a)&&""!==a)for(;o=h.exec(a);)d=gn(o[2]),et(t,d,"C",r,i)&&(n[d]=Xi(o[3])),a=a.substr(o.index+o[0].length);break;case io:if(11===Pi)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===io;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);at(t,e.nodeValue);break;case oo:try{o=f.exec(e.nodeValue),o&&(d=gn(o[1]),et(t,d,"M",r,i)&&(n[d]=Xi(o[2])))}catch(E){}}return t.sort(it),t}function W(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Vo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==no&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Oi(r)}function G(e,t,n){return function(r,i,o,a,s){return i=W(i[0],t,n),e(r,i,o,a,s)}}function X(e,t,n,r,i,o){var a;return e?I(t,n,r,i,o):function(){return a||(a=I(t,n,r,i,o),t=n=o=null),a.apply(this,arguments)
}}function K(e,t,r,a,s,l,u,c,f){function h(e,t,n,r){e&&(n&&(e=G(e,n,r)),e.require=m.require,e.directiveName=g,(E===m||m.$$isolateScope)&&(e=ht(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=G(t,n,r)),t.require=m.require,t.directiveName=g,(E===m||m.$$isolateScope)&&(t=ht(t,{isolateScope:!0})),c.push(t))}function p(e,i,a,s,l){function f(e,t,r,i){var o;if(A(e)||(i=r,r=t,t=e,e=n),D&&(o=y),r||(r=D?w.parent():w),!i)return l(e,t,o,r,F);var a=l.$$slots[i];if(a)return a(e,t,o,r,F);if(b(a))throw Vo("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Z(w))}var h,p,m,g,v,y,$,w,T,N,R;t===a?(T=r,w=r.$$element):(w=Oi(a),T=new P(w,r)),v=i,E?g=i.$new(!0):C&&(v=i.$parent),l&&($=f,$.$$boundTransclude=l,$.isSlotFilled=function(e){return!!l.$$slots[e]}),S&&(y=J(w,T,$,S,g,i,E)),E&&(I.$$addScopeInfo(w,g,!0,!(k&&(k===E||k===E.$$originalDirective))),I.$$addScopeClass(w,!0),g.$$isolateBindings=E.$$isolateBindings,N=mt(i,T,g,g.$$isolateBindings,E),N&&g.$on("$destroy",N));for(var M in y){var O=S[M],B=y[M],L=O.$$bindings.bindToController;B.identifier&&L&&(R=mt(v,T,B.instance,L,O));var H=B();H!==B.instance&&(B.instance=H,w.data("$"+O.name+"Controller",H),R&&R(),R=mt(v,T,B.instance,L,O))}for(o(S,function(e,t){var n=e.require;e.bindToController&&!Wi(n)&&x(n)&&d(y[t].instance,Y(t,n,w,y))}),o(y,function(e){var t=e.instance;_(t.$onInit)&&t.$onInit(),_(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),h=0,p=u.length;p>h;h++)m=u[h],pt(m,m.isolateScope?g:i,w,T,m.require&&Y(m.directiveName,m.require,w,y),$);var F=i;for(E&&(E.template||null===E.templateUrl)&&(F=g),e&&e(F,a.childNodes,n,l),h=c.length-1;h>=0;h--)m=c[h],pt(m,m.isolateScope?g:i,w,T,m.require&&Y(m.directiveName,m.require,w,y),$);o(y,function(e){var t=e.instance;_(t.$postLink)&&t.$postLink()})}f=f||{};for(var m,g,v,y,$,w=-Number.MAX_VALUE,C=f.newScopeDirective,S=f.controllerDirectives,E=f.newIsolateScopeDirective,k=f.templateDirective,T=f.nonTlbTranscludeDirective,N=!1,R=!1,D=f.hasElementTranscludeDirective,M=r.$$element=Oi(t),O=l,B=a,L=!1,F=!1,U=0,j=e.length;j>U;U++){m=e[U];var z=m.$$start,K=m.$$end;if(z&&(M=W(t,z,K)),v=n,w>m.priority)break;if(($=m.scope)&&(m.templateUrl||(x($)?(ot("new/isolated scope",E||C,m,M),E=m):ot("new/isolated scope",E,m,M)),C=C||m),g=m.name,!L&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(var et,tt=U+1;et=e[tt++];)if(et.transclude&&!et.$$tlb||et.replace&&(et.templateUrl||et.template)){F=!0;break}L=!0}if(!m.templateUrl&&m.controller&&($=m.controller,S=S||vt(),ot("'"+g+"' controller",S[g],m,M),S[g]=m),$=m.transclude)if(N=!0,m.$$tlb||(ot("transclusion",T,m,M),T=m),"element"==$)D=!0,w=m.priority,v=M,M=r.$$element=Oi(I.$$createComment(g,r[g])),t=M[0],dt(s,q(v),t),v[0].$$parentNode=v[0].parentNode,B=X(F,v,a,w,O&&O.name,{nonTlbTranscludeDirective:T});else{var it=vt();if(v=Oi(Dt(t)).contents(),x($)){v=[];var at=vt(),lt=vt();o($,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,at[e]=t,it[t]=null,lt[t]=n}),o(M.contents(),function(e){var t=at[gn(H(e))];t?(lt[t]=!0,it[t]=it[t]||[],it[t].push(e)):v.push(e)}),o(lt,function(e,t){if(!e)throw Vo("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var ut in it)it[ut]&&(it[ut]=X(F,it[ut],a))}M.empty(),B=X(F,v,a,n,n,{needsNewScope:m.$$isolateScope||m.$$newScope}),B.$$slots=it}if(m.template)if(R=!0,ot("template",k,m,M),k=m,$=_(m.template)?m.template(M,r):m.template,$=Ct($),m.replace){if(O=m,v=St($)?[]:yn(st(m.templateNamespace,Xi($))),t=v[0],1!=v.length||t.nodeType!==no)throw Vo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");dt(s,M,t);var ct={$attr:{}},ft=V(t,[],ct),gt=e.splice(U+1,e.length-(U+1));(E||C)&&Q(ft,E,C),e=e.concat(ft).concat(gt),nt(r,ct),j=e.length}else M.html($);if(m.templateUrl)R=!0,ot("template",k,m,M),k=m,m.replace&&(O=m),p=rt(e.splice(U,e.length-U),M,r,s,N&&B,u,c,{controllerDirectives:S,newScopeDirective:C!==m&&C,newIsolateScopeDirective:E,templateDirective:k,nonTlbTranscludeDirective:T}),j=e.length;else if(m.compile)try{y=m.compile(M,r,B),_(y)?h(null,y,z,K):y&&h(y.pre,y.post,z,K)}catch(yt){i(yt,Z(M))}m.terminal&&(p.terminal=!0,w=Math.max(w,m.priority))}return p.scope=C&&C.scope===!0,p.transcludeOnThisElement=N,p.templateOnThisElement=R,p.transclude=B,f.hasElementTranscludeDirective=D,p}function Y(e,t,n,r){var i;if(C(t)){var a=t.match(w),s=t.substring(a[0].length),l=a[1]||a[3],u="?"===a[2];if("^^"===l?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var c="$"+s+"Controller";i=l?n.inheritedData(c):n.data(c)}if(!i&&!u)throw Vo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(Wi(t)){i=[];for(var d=0,f=t.length;f>d;d++)i[d]=Y(e,t[d],n,r)}else x(t)&&(i={},o(t,function(t,o){i[o]=Y(e,t,n,r)}));return i||null}function J(e,t,n,r,i,o,a){var s=vt();for(var l in r){var u=r[l],c={$scope:u===a||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"==d&&(d=t[u.name]);var f=v(d,c,!0,u.controllerAs);s[u.name]=f,e.data("$"+u.name+"Controller",f.instance)}return s}function Q(e,t,n){for(var r=0,i=e.length;i>r;r++)e[r]=p(e[r],{$$isolateScope:t,$$newScope:n})}function et(t,n,r,o,s,l,d){if(n===s)return null;var f=null;if(u.hasOwnProperty(n))for(var h,m=e.get(n+c),g=0,v=m.length;v>g;g++)try{if(h=m[g],(b(o)||o>h.priority)&&-1!=h.restrict.indexOf(r)){if(l&&(h=p(h,{$$start:l,$$end:d})),!h.$$bindings){var y=h.$$bindings=a(h,h.name);x(y.isolateScope)&&(h.$$isolateBindings=y.isolateScope)}t.push(h),f=h}}catch($){i($)}return f}function tt(t){if(u.hasOwnProperty(t))for(var n,r=e.get(t+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function nt(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;o(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),o(t,function(t,o){"class"==o?(B(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==o?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==o.charAt(0)||e.hasOwnProperty(o)||(e[o]=t,r[o]=n[o])})}function rt(e,t,n,r,i,a,l,u){var c,d,f=[],h=t[0],m=e.shift(),g=p(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),v=_(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),s(v).then(function(s){var p,b,$,w;if(s=Ct(s),m.replace){if($=St(s)?[]:yn(st(y,Xi(s))),p=$[0],1!=$.length||p.nodeType!==no)throw Vo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,v);b={$attr:{}},dt(r,t,p);var C=V(p,[],b);x(m.scope)&&Q(C,!0),e=C.concat(e),nt(n,b)}else p=h,t.html(s);for(e.unshift(g),c=K(e,p,n,i,t,m,a,l,u),o(r,function(e,n){e==p&&(r[n]=t[0])}),d=U(t[0].childNodes,i);f.length;){var S=f.shift(),E=f.shift(),_=f.shift(),k=f.shift(),T=t[0];if(!S.$$destroyed){if(E!==h){var A=E.className;u.hasElementTranscludeDirective&&m.replace||(T=Dt(p)),dt(_,Oi(E),T),B(Oi(T),A)}w=c.transcludeOnThisElement?j(S,c.transclude,k):k,c(d,S,T,r,w)}}f=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(f?f.push(t,n,r,o):(c.transcludeOnThisElement&&(o=j(t,c.transclude,i)),c(d,t,n,r,o)))}}function it(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ot(e,t,n,r){function i(e){return e?" (module: "+e+")":""}if(t)throw Vo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,i(t.$$moduleName),n.name,i(n.$$moduleName),e,Z(r))}function at(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:function(e){var t=e.parent(),r=!!t.length;return r&&I.$$addBindingClass(t),function(e,t){var i=t.parent();r||I.$$addBindingClass(i),I.$$addBindingInfo(i,n.expressions),e.$watch(n,function(e){t[0].nodeValue=e})}}})}function st(e,n){switch(e=Ni(e||"html")){case"svg":case"math":var r=t.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function lt(e,t){if("srcdoc"==t)return E.HTML;var r=H(e);return"xlinkHref"==t||"form"==r&&"action"==t||"img"!=r&&("src"==t||"ngSrc"==t)?E.RESOURCE_URL:n}function ut(e,t,n,i,o){var a=lt(e,i);o=y[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===H(e))throw Vo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(e));t.push({priority:100,compile:function(){return{pre:function(e,t,l){var u=l.$$observers||(l.$$observers=vt());if(S.test(i))throw Vo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(e),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||e).$watch(s,function(e,t){"class"===i&&e!=t?l.$updateClass(e,t):l.$set(i,e)}))}}}})}}function dt(e,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(e)for(i=0,o=e.length;o>i;i++)if(e[i]==a){e[i++]=r;for(var u=i,c=u+s-1,d=e.length;d>u;u++,c++)d>c?e[u]=e[c]:delete e[u];e.length-=s-1,e.context===a&&(e.context=r);break}l&&l.replaceChild(r,a);var f=t.createDocumentFragment();for(i=0;s>i;i++)f.appendChild(n[i]);for(Oi.hasData(a)&&(Oi.data(r,Oi.data(a)),Oi(a).off("$destroy")),Oi.cleanData(f.querySelectorAll("*")),i=1;s>i;i++)delete n[i];n[0]=r,n.length=1}function ht(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function pt(e,t,n,r,o,a){try{e(t,n,r,o,a)}catch(s){i(s,Z(n))}}function mt(e,t,i,a,s){function u(t,n,r){_(i.$onChanges)&&n!==r&&(gt||(e.$$postDigest(D),gt=[]),d||(d={},gt.push(c)),d[t]&&(r=d[t].previousValue),d[t]={previousValue:r,currentValue:n})}function c(){i.$onChanges(d),d=n}var d,f=[];return o(a,function(n,o){var a,c,d,h,p,g=n.attrName,v=n.optional,y=n.mode;switch(y){case"@":v||Ai.call(t,g)||(i[o]=t[g]=void 0),t.$observe(g,function(e){if(C(e)){var t=i[o];u(o,e,t),i[o]=e}}),t.$$observers[g].$$scope=e,a=t[g],C(a)?i[o]=r(a)(e):M(a)&&(i[o]=a);break;case"=":if(!Ai.call(t,g)){if(v)break;t[g]=void 0}if(v&&!t[g])break;c=l(t[g]),h=c.literal?z:function(e,t){return e===t||e!==e&&t!==t},d=c.assign||function(){throw a=i[o]=c(e),Vo("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[g],g,s.name)},a=i[o]=c(e);var b=function b(t){return h(t,i[o])||(h(t,a)?d(e,t=i[o]):i[o]=t),a=t};b.$stateful=!0,p=n.collection?e.$watchCollection(t[g],b):e.$watch(l(t[g],b),null,c.literal),f.push(p);break;case"<":if(!Ai.call(t,g)){if(v)break;t[g]=void 0}if(v&&!t[g])break;c=l(t[g]),i[o]=c(e),p=e.$watch(c,function(e){var t=i[o];u(o,e,t),i[o]=e},c.literal),f.push(p);break;case"&":if(c=t.hasOwnProperty(g)?l(t[g]):m,c===m&&v)break;i[o]=function(t){return c(e,t)}}}),f.length&&function(){for(var e=0,t=f.length;t>e;++e)f[e]()}}var gt,yt=/^\w/,bt=t.createElement("div"),$t=N;P.prototype={$normalize:gn,$addClass:function(e){e&&e.length>0&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=vn(e,t);n&&n.length&&k.addClass(this.$$element,n);var r=vn(t,e);r&&r.length&&k.removeClass(this.$$element,r)},$set:function(e,t,n,r){var a,s=this.$$element[0],l=Gt(s,e),u=Xt(e),c=e;if(l?(this.$$element.prop(e,t),r=l):u&&(this[u]=t,c=u),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=ct(e,"-"))),a=H(this.$$element),"a"===a&&("href"===e||"xlinkHref"===e)||"img"===a&&"src"===e)this[e]=t=R(t,"src"===e);else if("img"===a&&"srcset"===e){for(var d="",f=Xi(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,p=/\s/.test(f)?h:/(,)/,m=f.split(p),g=Math.floor(m.length/2),v=0;g>v;v++){var y=2*v;d+=R(Xi(m[y]),!0),d+=" "+Xi(m[y+1])}var $=Xi(m[2*v]).split(/\s/);d+=R(Xi($[0]),!0),2===$.length&&(d+=" "+Xi($[1])),this[e]=t=d}n!==!1&&(null===t||b(t)?this.$$element.removeAttr(r):yt.test(r)?this.$$element.attr(r,t):O(this.$$element[0],r,t));var x=this.$$observers;x&&o(x[c],function(e){try{e(t)}catch(n){i(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=vt()),i=r[e]||(r[e]=[]);return i.push(t),$.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){F(i,t)}}};var xt=r.startSymbol(),wt=r.endSymbol(),Ct="{{"==xt&&"}}"==wt?g:function Ct(e){return e.replace(/\{\{/g,xt).replace(/}}/g,wt)},Et=/^ngAttr[A-Z]/,_t=/^(.+)Start$/;return I.$$addBindingInfo=T?function(e,t){var n=e.data("$binding")||[];Wi(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:m,I.$$addBindingClass=T?function(e){B(e,"ng-binding")}:m,I.$$addScopeInfo=T?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:m,I.$$addScopeClass=T?function(e,t){B(e,t?"ng-isolate-scope":"ng-scope")}:m,I.$$createComment=function(e,n){var r="";return T&&(r=" "+(e||"")+": "+(n||"")+" "),t.createComment(r)},I}]}function gn(e){return Ct(e.replace(qo,""))}function vn(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;r.length>o;o++){for(var a=r[o],s=0;i.length>s;s++)if(a==i[s])continue e;n+=(n.length>0?" ":"")+a}return n}function yn(e){e=Oi(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];n.nodeType===oo&&Hi.call(e,t,1)}return e}function bn(e,t){if(t&&C(t))return t;if(C(e)){var n=Go.exec(e);if(n)return n[3]}}function $n(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){pt(t,"controller"),x(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(i,o){function a(e,t,n,i){if(!e||!x(e.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}return function(r,s,l,u){var c,f,h,p;if(l=l===!0,u&&C(u)&&(p=u),C(r)){if(f=r.match(Go),!f)throw Wo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);h=f[1],p=p||f[3],r=e.hasOwnProperty(h)?e[h]:mt(s.$scope,h,!0)||(t?mt(o,h,!0):n),ht(r,h,!0)}if(l){var m=(Wi(r)?r[r.length-1]:r).prototype;c=Object.create(m||null),p&&a(s,p,c,h||r.name);var g;return g=d(function(){var e=i.invoke(r,c,s,h);return e!==c&&(x(e)||_(e))&&(c=e,p&&a(s,p,c,h||r.name)),c},{instance:c,identifier:p})}return c=i.instantiate(r,s,h),p&&a(s,p,c,h||r.name),c}}]}function xn(){this.$get=["$window",function(e){return Oi(e.document)}]}function wn(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Cn(e){return x(e)?E(e)?e.toISOString():X(e):e}function Sn(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||(Wi(e)?o(e,function(e){t.push(it(n)+"="+it(Cn(e)))}):t.push(it(n)+"="+it(Cn(e))))}),t.join("&")}}}function En(){this.$get=function(){return function(e){function t(e,r,i){null===e||b(e)||(Wi(e)?o(e,function(e,n){t(e,r+"["+(x(e)?n:"")+"]")}):x(e)&&!E(e)?a(e,function(e,n){t(e,r+(i?"":"[")+n+(i?"":"]"))}):n.push(it(r)+"="+it(Cn(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function _n(e,t){if(C(e)){var n=e.replace(Zo,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Ko)||kn(n))&&(e=K(n))}}return e}function kn(e){var t=e.match(Jo);return t&&Qo[t[0]].test(e)}function Tn(e){function t(e,t){e&&(r[e]=r[e]?r[e]+", "+t:t)}var n,r=vt();return C(e)?o(e.split("\n"),function(e){n=e.indexOf(":"),t(Ni(Xi(e.substr(0,n))),Xi(e.substr(n+1)))}):x(e)&&o(e,function(e,n){t(Ni(n),Xi(e))}),r}function An(e){var t;return function(n){if(t||(t=Tn(e)),n){var r=t[Ni(n)];return r===void 0&&(r=null),r}return t}}function Nn(e,t,n,r){return _(r)?r(e,t,n):(o(r,function(r){e=r(e,t,n)}),e)}function Rn(e){return e>=200&&300>e}function Dn(){var e=this.defaults={transformResponse:[_n],transformRequest:[function(e){return!x(e)||N(e)||D(e)||R(e)?e:X(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:j(Yo),put:j(Yo),patch:j(Yo)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return $(e)?(t=!!e,this):t};var i=!0;this.useLegacyPromiseExtensions=function(e){return $(e)?(i=!!e,this):i};var a=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,l,u,c,f,h){function p(t){function a(e){var t=d({},e);return t.data=Nn(e.data,e.headers,e.status,u.transformResponse),Rn(e.status)?t:f.reject(t)}function s(e,t){var n,r={};return o(e,function(e,i){_(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function l(t){var n,r,i,o=e.headers,a=d({},t.headers);o=d({},o.common,o[Ni(t.method)]);e:for(n in o){r=Ni(n);for(i in a)if(Ni(i)===r)continue e;a[n]=o[n]}return s(a,j(t))}if(!x(t))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!C(t.url))throw r("$http")("badreq","Http request configuration url must be a string.  Received: {0}",t.url);var u=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);u.headers=l(t),u.method=Ri(u.method),u.paramSerializer=C(u.paramSerializer)?h.get(u.paramSerializer):u.paramSerializer;var c=function(t){var r=t.headers,i=Nn(t.data,An(r),n,t.transformRequest);return b(i)&&o(r,function(e,t){"content-type"===Ni(t)&&delete r[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(a,a)},p=[c,n],m=f.when(u);for(o(S,function(e){(e.request||e.requestError)&&p.unshift(e.request,e.requestError),(e.response||e.responseError)&&p.push(e.response,e.responseError)});p.length;){var g=p.shift(),y=p.shift();m=m.then(g,y)}return i?(m.success=function(e){return ht(e,"fn"),m.then(function(t){e(t.data,t.status,t.headers,u)}),m},m.error=function(e){return ht(e,"fn"),m.then(null,function(t){e(t.data,t.status,t.headers,u)}),m}):(m.success=ta("success"),m.error=ta("error")),m}function m(){o(arguments,function(e){p[e]=function(t,n){return p(d({},n||{},{method:e,url:t}))}})}function g(){o(arguments,function(e){p[e]=function(t,n,r){return p(d({},r||{},{method:e,url:t,data:n}))}})}function v(r,i){function o(e,n,r,i){function o(){a(n,e,r,i)}h&&(Rn(e)?h.put(S,[e,n,Tn(r),i]):h.remove(S)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function a(e,t,n,i){t=t>=-1?t:0,(Rn(t)?g.resolve:g.reject)({data:e,status:t,headers:An(n),config:r,statusText:i})}function u(e){a(e.data,e.status,j(e.headers()),e.statusText)}function d(){var e=p.pendingRequests.indexOf(r);-1!==e&&p.pendingRequests.splice(e,1)}var h,m,g=f.defer(),v=g.promise,C=r.headers,S=y(r.url,r.paramSerializer(r.params));if(p.pendingRequests.push(r),v.then(d,d),!r.cache&&!e.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(h=x(r.cache)?r.cache:x(e.cache)?e.cache:w),h&&(m=h.get(S),$(m)?P(m)?m.then(u,u):Wi(m)?a(m[1],m[0],j(m[2]),m[3]):a(m,200,{},"OK"):h.put(S,v)),b(m)){var E=Mr(r.url)?l()[r.xsrfCookieName||e.xsrfCookieName]:n;E&&(C[r.xsrfHeaderName||e.xsrfHeaderName]=E),s(r.method,S,i,o,C,r.timeout,r.withCredentials,r.responseType)}return v}function y(e,t){return t.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+t),e}var w=u("$http");e.paramSerializer=C(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var S=[];return o(a,function(e){S.unshift(C(e)?h.get(e):h.invoke(e))}),p.pendingRequests=[],m("get","delete","head","jsonp"),g("post","put","patch"),p.defaults=e,p}]}function Mn(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Pn(){this.$get=["$browser","$window","$document","$xhrFactory",function(e,t,n,r){return On(e,r,e.defer,t.angular.callbacks,n[0])}]}function On(e,t,n,r,i){function a(e,t,n){var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){ho(o,"load",a),ho(o,"error",a),i.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||r[t].called||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},fo(o,"load",a),fo(o,"error",a),i.body.appendChild(o),a}return function(i,s,l,u,c,d,f,h){function p(){y&&y(),x&&x.abort()}function g(t,r,i,o,a){$(S)&&n.cancel(S),y=x=null,t(r,i,o,a),e.$$completeOutstandingRequest(m)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"==Ni(i)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e,r[v].called=!0};var y=a(s.replace("JSON_CALLBACK","angular.callbacks."+v),v,function(e,t){g(u,e,r[v].data,"",t),r[v]=m})}else{var x=t(i,s);x.open(i,s,!0),o(c,function(e,t){$(e)&&x.setRequestHeader(t,e)}),x.onload=function(){var e=x.statusText||"",t="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=t?200:"file"==Dr(s).protocol?404:0),g(u,n,t,x.getAllResponseHeaders(),e)};var w=function(){g(u,-1,null,null,"")};if(x.onerror=w,x.onabort=w,f&&(x.withCredentials=!0),h)try{x.responseType=h}catch(C){if("json"!==h)throw C}x.send(b(l)?null:l)}if(d>0)var S=n(p,d);else P(d)&&d.then(p)}}function Bn(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(e){return"\\\\\\"+e}function a(n){return n.replace(h,e).replace(p,t)}function s(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=X(e)}return e}function l(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function u(o,u,h,p){function m(e){try{return e=D(e),p&&!$(e)?e:s(e)}catch(t){r(na.interr(o,t))}}if(!o.length||-1===o.indexOf(e)){var g;if(!u){var y=a(o);g=v(y),g.exp=o,g.expressions=[],g.$$watchDelegate=l}return g}p=!!p;for(var x,w,C,S=0,E=[],k=[],T=o.length,A=[],N=[];T>S;){if(-1==(x=o.indexOf(e,S))||-1==(w=o.indexOf(t,x+c))){S!==T&&A.push(a(o.substring(S)));break}S!==x&&A.push(a(o.substring(S,x))),C=o.substring(x+c,w),E.push(C),k.push(n(C,m)),S=w+f,N.push(A.length),A.push("")}if(h&&A.length>1&&na.throwNoconcat(o),!u||E.length){var R=function(e){for(var t=0,n=E.length;n>t;t++){if(p&&b(e[t]))return;A[N[t]]=e[t]}return A.join("")},D=function(e){return h?i.getTrusted(h,e):i.valueOf(e)};return d(function(e){var t=0,n=E.length,i=Array(n);try{for(;n>t;t++)i[t]=k[t](e);return R(i)}catch(a){r(na.interr(o,a))}},{exp:o,expressions:E,$$watchDelegate:function(e,t){var n;return e.$watchGroup(k,function(r,i){var o=R(r);_(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var c=e.length,f=t.length,h=RegExp(e.replace(/./g,o),"g"),p=RegExp(t.replace(/./g,o),"g");return u.startSymbol=function(){return e},u.endSymbol=function(){return t},u}]}function In(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function o(o,s,l,u){function c(){d?o.apply(null,f):o(m)}var d=arguments.length>4,f=d?q(arguments,4):[],h=t.setInterval,p=t.clearInterval,m=0,g=$(u)&&!u,v=(g?r:n).defer(),y=v.promise;return l=$(l)?l:0,y.$$intervalId=h(function(){g?i.defer(c):e.$evalAsync(c),v.notify(m++),l>0&&m>=l&&(v.resolve(m),p(y.$$intervalId),delete a[y.$$intervalId]),g||e.$apply()},s),a[y.$$intervalId]=v,y}var a={};return o.cancel=function(e){return e&&e.$$intervalId in a?(a[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete a[e.$$intervalId],!0):!1},o}]}function Ln(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=rt(t[n]);return t.join("/")}function Hn(e,t){var n=Dr(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=h(n.port)||ia[n.protocol]||null}function Fn(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=Dr(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=tt(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Un(e,t){return 0===t.indexOf(e)?t.substr(e.length):n}function jn(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function zn(e){return e.replace(/(#.+)|#$/,"$1")}function Vn(e){return e.substr(0,jn(e).lastIndexOf("/")+1)}function qn(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function Wn(e,t,n){this.$$html5=!0,n=n||"",Hn(e,this),this.$$parse=function(e){var n=Un(t,e);if(!C(n))throw oa("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Fn(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=nt(this.$$search),n=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=Ln(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return $(o=Un(e,r))?(a=o,s=$(o=Un(n,o))?t+(Un("/",o)||o):e+a):$(o=Un(t,r))?s=t+o:t==r+"/"&&(s=t),s&&this.$$parse(s),!!s}}function Gn(e,t,n){Hn(e,this),this.$$parse=function(r){function i(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===t.indexOf(n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var o,a=Un(e,r)||Un(t,r);b(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",b(a)&&(e=r,this.replace())):(o=Un(n,a),b(o)&&(o=a)),Fn(o,this),this.$$path=i(this.$$path,o,e),this.$$compose()},this.$$compose=function(){var t=nt(this.$$search),r=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=Ln(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t){return jn(e)==jn(t)?(this.$$parse(t),!0):!1}}function Xn(e,t,n){this.$$html5=!0,Gn.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return e==jn(r)?o=r:(a=Un(t,r))?o=e+n+a:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=nt(this.$$search),r=this.$$hash?"#"+rt(this.$$hash):"";this.$$url=Ln(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function Kn(e){return function(){return this[e]}}function Yn(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Jn(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return $(t)?(e=t,this):e},this.html5Mode=function(e){return M(e)?(t.enabled=e,this):x(e)?(M(e.enabled)&&(t.enabled=e.enabled),M(e.requireBase)&&(t.requireBase=e.requireBase),M(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(r,i,o,a,s){function l(e,t,n){var r=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(a){throw c.url(r),c.$$state=o,a}}function u(e,t){r.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,d,f,h=i.baseHref(),p=i.url();if(t.enabled){if(!h&&t.requireBase)throw oa("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=qn(p)+(h||"/"),d=o.history?Wn:Xn}else f=jn(p),d=Gn;var m=Vn(f);c=new d(f,m,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=i.state();var g=/^\s*(javascript|mailto):/i;a.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var n=Oi(e.target);"a"!==H(n[0]);)if(n[0]===a[0]||!(n=n.parent())[0])return;var o=n.prop("href"),l=n.attr("href")||n.attr("xlink:href");x(o)&&"[object SVGAnimatedString]"==""+o&&(o=Dr(o.animVal).href),g.test(o)||!o||n.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(o,l)&&(e.preventDefault(),c.absUrl()!=i.url()&&(r.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),zn(c.absUrl())!=zn(p)&&i.url(c.absUrl(),!0);var v=!0;return i.onUrlChange(function(e,t){return b(Un(m,e))?(s.location.href=e,n):(r.$evalAsync(function(){var n,i=c.absUrl(),o=c.$$state;e=zn(e),c.$$parse(e),c.$$state=t,n=r.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,c.absUrl()===e&&(n?(c.$$parse(i),c.$$state=o,l(i,!1,o)):(v=!1,u(i,o)))}),r.$$phase||r.$digest(),n)}),r.$watch(function(){var e=zn(i.url()),t=zn(c.absUrl()),n=i.state(),a=c.$$replace,s=e!==t||c.$$html5&&o.history&&n!==c.$$state;(v||s)&&(v=!1,r.$evalAsync(function(){var t=c.absUrl(),i=r.$broadcast("$locationChangeStart",t,e,c.$$state,n).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=n):(s&&l(t,a,n===c.$$state?null:c.$$state),u(e,n)))})),c.$$replace=!1}),c}]}function Qn(){var e=!0,t=this;this.debugEnabled=function(t){return $(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||m,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var e=[];return o(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Zn(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw sa("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function er(e){return e+""}function tr(e,t){if(e){if(e.constructor===e)throw sa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw sa("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw sa("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw sa("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function nr(e,t){if(e){if(e.constructor===e)throw sa("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===la||e===ua||e===ca)throw sa("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function rr(e,t){if(e&&(e===0..constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw sa("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function ir(e,t){return e!==n?e:t}function or(e,t){return e===n?t:t===n?e:e+t}function ar(e,t){var n=e(t);return!n.$stateful}function sr(e,t){var n,r;switch(e.type){case pa.Program:n=!0,o(e.body,function(e){sr(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case pa.Literal:e.constant=!0,e.toWatch=[];break;case pa.UnaryExpression:sr(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case pa.BinaryExpression:sr(e.left,t),sr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case pa.LogicalExpression:sr(e.left,t),sr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case pa.ConditionalExpression:sr(e.test,t),sr(e.alternate,t),sr(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case pa.Identifier:e.constant=!1,e.toWatch=[e];break;case pa.MemberExpression:sr(e.object,t),e.computed&&sr(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case pa.CallExpression:n=e.filter?ar(t,e.callee.name):!1,r=[],o(e.arguments,function(e){sr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&ar(t,e.callee.name)?r:[e];break;case pa.AssignmentExpression:sr(e.left,t),sr(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case pa.ArrayExpression:n=!0,r=[],o(e.elements,function(e){sr(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case pa.ObjectExpression:n=!0,r=[],o(e.properties,function(e){sr(e.value,t),n=n&&e.value.constant,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case pa.ThisExpression:e.constant=!1,e.toWatch=[];break;case pa.LocalsExpression:e.constant=!1,e.toWatch=[]}}function lr(e){if(1==e.length){var t=e[0].expression,r=t.toWatch;return 1!==r.length?r:r[0]!==t?r:n}}function ur(e){return e.type===pa.Identifier||e.type===pa.MemberExpression}function cr(e){return 1===e.body.length&&ur(e.body[0].expression)?{type:pa.AssignmentExpression,left:e.body[0].expression,right:{type:pa.NGValueParameter},operator:"="}:n}function dr(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===pa.Literal||e.body[0].expression.type===pa.ArrayExpression||e.body[0].expression.type===pa.ObjectExpression)}function fr(e){return e.constant}function hr(e,t){this.astBuilder=e,this.$filter=t}function pr(e,t){this.astBuilder=e,this.$filter=t
}function mr(e){return"constructor"==e}function gr(e){return _(e.valueOf)?e.valueOf():ga.call(e)}function vr(){var e=vt(),t=vt(),r={"true":!0,"false":!1,"null":null,undefined:n};this.addLiteral=function(e,t){r[e]=t},this.$get=["$filter",function(i){function a(n,r,o){var a,l,p;switch(o=o||y,typeof n){case"string":n=n.trim(),p=n;var b=o?t:e;if(a=b[p],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(l=!0,n=n.substring(2));var $=o?v:g,x=new ha($),w=new ma(x,i,$);a=w.parse(n),a.constant?a.$$watchDelegate=f:l?a.$$watchDelegate=a.literal?d:c:a.inputs&&(a.$$watchDelegate=u),o&&(a=s(a)),b[p]=a}return h(a,r);case"function":return h(n,r);default:return h(m,r)}}function s(e){function t(t,n,r,i){var o=y;y=!0;try{return e(t,n,r,i)}finally{y=o}}if(!e)return e;t.$$watchDelegate=e.$$watchDelegate,t.assign=s(e.assign),t.constant=e.constant,t.literal=e.literal;for(var n=0;e.inputs&&e.inputs.length>n;++n)e.inputs[n]=s(e.inputs[n]);return t.inputs=e.inputs,t}function l(e,t){return null==e||null==t?e===t:"object"==typeof e&&(e=gr(e),"object"==typeof e)?!1:e===t||e!==e&&t!==t}function u(e,t,r,i,o){var a,s=i.inputs;if(1===s.length){var u=l;return s=s[0],e.$watch(function(e){var t=s(e);return l(t,u)||(a=i(e,n,n,[t]),u=t&&gr(t)),a},t,r,o)}for(var c=[],d=[],f=0,h=s.length;h>f;f++)c[f]=l,d[f]=null;return e.$watch(function(e){for(var t=!1,r=0,o=s.length;o>r;r++){var u=s[r](e);(t||(t=!l(u,c[r])))&&(d[r]=u,c[r]=u&&gr(u))}return t&&(a=i(e,n,n,d)),a},t,r,o)}function c(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,_(t)&&t.apply(this,arguments),$(e)&&r.$$postDigest(function(){$(o)&&i()})},n)}function d(e,t,n,r){function i(e){var t=!0;return o(e,function(e){$(e)||(t=!1)}),t}var a,s;return a=e.$watch(function(e){return r(e)},function(e,n,r){s=e,_(t)&&t.call(this,e,n,r),i(e)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function h(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==d&&n!==c,o=i?function(n,i,o,a){var s=r&&a?a[0]:e(n,i,o,a);return t(s,n,i)}:function(n,r,i,o){var a=e(n,r,i,o),s=t(a,n,r);return $(a)?s:a};return e.$$watchDelegate&&e.$$watchDelegate!==u?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=u,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var p=Yi().noUnsafeEval,g={csp:p,expensiveChecks:!1,literals:U(r)},v={csp:p,expensiveChecks:!0,literals:U(r)},y=!1;return a.$$runningExpensiveChecks=function(){return y},a}]}function yr(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return $r(function(t){e.$evalAsync(t)},t)}]}function br(){this.$get=["$browser","$exceptionHandler",function(e,t){return $r(function(t){e.defer(t)},t)}]}function $r(e,t){function i(){this.$$state={status:0}}function a(e,t){return function(n){t.call(e,n)}}function s(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][e.status];try{_(r)?i.resolve(r(e.value)):1===e.status?i.resolve(e.value):i.reject(e.value)}catch(l){i.reject(l),t(l)}}}function l(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){s(t)}))}function u(){this.promise=new i}function c(e){var t=new u,n=0,r=Wi(e)?[]:{};return o(e,function(e,i){n++,v(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var f=r("$q",TypeError),h=function(){var e=new u;return e.resolve=a(e,e.resolve),e.reject=a(e,e.reject),e.notify=a(e,e.notify),e};d(i.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var r=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&l(this.$$state),r.promise},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return g(t,!0,e)},function(t){return g(t,!1,e)},t)}}),d(u.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function n(e){s||(s=!0,o.$$resolve(e))}function r(e){s||(s=!0,o.$$reject(e))}var i,o=this,s=!1;try{(x(e)||_(e))&&(i=e&&e.then),_(i)?(this.promise.$$state.status=-1,i.call(e,n,r,a(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,l(this.promise.$$state))}catch(u){r(u),t(u)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&e(function(){for(var e,i,o=0,a=r.length;a>o;o++){i=r[o][0],e=r[o][3];try{i.notify(_(e)?e(n):n)}catch(s){t(s)}}})}});var p=function(e){var t=new u;return t.reject(e),t.promise},m=function m(e,t){var n=new u;return t?n.resolve(e):n.reject(e),n.promise},g=function g(e,t,n){var r=null;try{_(n)&&(r=n())}catch(i){return m(i,!1)}return P(r)?r.then(function(){return m(e,t)},function(e){return m(e,!1)}):m(e,t)},v=function(e,t,n,r){var i=new u;return i.resolve(e),i.promise.then(t,n,r)},y=v,$=function(e){function t(e){r.resolve(e)}function n(e){r.reject(e)}if(!_(e))throw f("norslvr","Expected resolverFn, got '{0}'",e);var r=new u;return e(t,n),r.promise};return $.prototype=i.prototype,$.defer=h,$.reject=p,$.when=v,$.resolve=y,$.all=c,$}function xr(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function wr(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(r,u,c){function d(e){e.currentScope.$$destroyed=!0}function f(e){9===Pi&&(e.$$childHead&&f(e.$$childHead),e.$$nextSibling&&f(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function h(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(e){if(S.$$phase)throw n("inprog","{0} already in progress",S.$$phase);S.$$phase=e}function g(){S.$$phase=null}function v(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function y(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function $(){}function w(){for(;T.length;)try{T.shift()()}catch(e){r(e)}s=null}function C(){null===s&&(s=c.defer(function(){S.$apply(w)}))}h.prototype={constructor:h,$new:function(t,n){var r;return n=n||this,t?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(t||n!=this)&&r.$on("$destroy",d),r},$watch:function(e,t,n,r){var i=u(e);if(i.$$watchDelegate)return i.$$watchDelegate(this,t,n,i,e);var o=this,s=o.$$watchers,l={fn:t,last:$,get:i,exp:r||e,eq:!!n};return a=null,_(t)||(l.fn=m),s||(s=o.$$watchers=[]),s.unshift(l),v(this,1),function(){F(s,l)>=0&&v(o,-1),a=null}},$watchGroup:function(e,t){function n(){l=!1,u?(u=!1,t(i,i,s)):t(i,r,s)}var r=Array(e.length),i=Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(i,i,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function n(e,n,o){i[0]=e,r[0]=n,t(i,e===n?i:r,o)}):(o(e,function(e,t){var o=s.$watch(e,function(e,o){i[t]=e,r[t]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){o=e;var t,n,r,s,l;if(!b(o)){if(x(o))if(i(o)){a!==h&&(a=h,g=a.length=0,d++),t=o.length,g!==t&&(d++,a.length=g=t);for(var u=0;t>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(d++,a[u]=s)}else{a!==p&&(a=p={},g=0,d++),t=0;for(n in o)Ai.call(o,n)&&(t++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(d++,a[n]=s)):(g++,a[n]=s,d++));if(g>t){d++;for(n in a)Ai.call(o,n)||(g--,delete a[n])}}else a!==o&&(a=o,d++);return d}}function r(){if(m?(m=!1,t(o,o,l)):t(o,s,l),c)if(x(o))if(i(o)){s=Array(o.length);for(var e=0;o.length>e;e++)s[e]=o[e]}else{s={};for(var n in o)Ai.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,c=t.length>1,d=0,f=u(e,n),h=[],p={},m=!0,g=0;return this.$watch(f,r)},$digest:function(){var e,i,o,l,u,d,f,h,m,v,y,b,x=t,C=this,T=[];p("$digest"),c.$$checkUrlChange(),this===S&&null!==s&&(c.defer.cancel(s),w()),a=null;do{for(h=!1,v=C;E.length;){try{b=E.shift(),b.scope.$eval(b.expression,b.locals)}catch(A){r(A)}a=null}e:do{if(d=v.$$watchers)for(f=d.length;f--;)try{if(e=d[f])if(u=e.get,(i=u(v))===(o=e.last)||(e.eq?z(i,o):"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))){if(e===a){h=!1;break e}}else h=!0,a=e,e.last=e.eq?U(i,null):i,l=e.fn,l(i,o===$?i:o,v),5>x&&(y=4-x,T[y]||(T[y]=[]),T[y].push({msg:_(e.exp)?"fn: "+(e.exp.name||""+e.exp):e.exp,newVal:i,oldVal:o}))}catch(A){r(A)}if(!(m=v.$$watchersCount&&v.$$childHead||v!==C&&v.$$nextSibling))for(;v!==C&&!(m=v.$$nextSibling);)v=v.$parent}while(v=m);if((h||E.length)&&!x--)throw g(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,T)}while(h||E.length);for(g();k.length;)try{k.shift()()}catch(A){r(A)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&c.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)y(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=m,this.$on=this.$watch=this.$watchGroup=function(){return m},this.$$listeners={},this.$$nextSibling=null,f(this)}},$eval:function(e,t){return u(e)(this,t)},$evalAsync:function(e,t){S.$$phase||E.length||c.defer(function(){E.length&&S.$digest()}),E.push({scope:this,expression:u(e),locals:t})},$$postDigest:function(e){k.push(e)},$apply:function(e){try{p("$apply");try{return this.$eval(e)}finally{g()}}catch(t){r(t)}finally{try{S.$digest()}catch(t){throw r(t),t}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=u(e),C()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);-1!==r&&(n[r]=null,y(i,1,e))}},$emit:function(e){var t,n,i,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=V([l],arguments,1);do{for(t=a.$$listeners[e]||o,l.currentScope=a,n=0,i=t.length;i>n;n++)if(t[n])try{t[n].apply(null,u)}catch(c){r(c)}else t.splice(n,1),n--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e){var t=this,n=t,i=t,o={name:e,targetScope:t,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!t.$$listenerCount[e])return o;for(var a,s,l,u=V([o],arguments,1);n=i;){for(o.currentScope=n,a=n.$$listeners[e]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,u)}catch(c){r(c)}else a.splice(s,1),s--,l--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(i=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var S=new h,E=S.$$asyncQueue=[],k=S.$$postDigestQueue=[],T=S.$$applyAsyncQueue=[];return S}]}function Cr(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return $(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return $(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=Dr(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Sr(e){if("self"===e)return e;if(C(e)){if(e.indexOf("***")>-1)throw va("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=Ki(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+e+"$")}if(k(e))return RegExp("^"+e.source+"$");throw va("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Er(e){var t=[];return $(e)&&o(e,function(e){t.push(Sr(e))}),t}function _r(){this.SCE_CONTEXTS=ya;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Er(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Er(e)),t},this.$get=["$injector",function(n){function r(e,t){return"self"===e?Mr(t):!!e.exec(t.href)}function i(n){var i,o,a=Dr(""+n),s=!1;for(i=0,o=e.length;o>i;i++)if(r(e[i],a)){s=!0;break}if(s)for(i=0,o=t.length;o>i;i++)if(r(t[i],a)){s=!1;break}return s}function o(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return""+this.$$unwrapTrustedValue()},t}function a(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw va("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw va("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof c?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||b(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===ya.RESOURCE_URL){if(i(t))return t;throw va("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",""+t)}if(e===ya.HTML)return u(t);throw va("unsafe","Attempting to use an unsafe value in a safe context.")}var u=function u(){throw va("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(u=n.get("$sanitize"));var c=o(),d={};return d[ya.HTML]=o(c),d[ya.CSS]=o(c),d[ya.URL]=o(c),d[ya.JS]=o(c),d[ya.RESOURCE_URL]=o(d[ya.URL]),{trustAs:a,getTrusted:l,valueOf:s}}]}function kr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>Pi)throw va("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=j(ya);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=g),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(ya,function(e,t){var n=Ni(t);r[Ct("parse_as_"+n)]=function(t){return i(e,t)},r[Ct("get_trusted_"+n)]=function(t){return a(e,t)},r[Ct("trust_as_"+n)]=function(t){return s(e,t)}}),r}]}function Tr(){this.$get=["$window","$document",function(e,t){var n,r,i={},o=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!o&&e.history&&e.history.pushState,s=h((/android (\d+)/.exec(Ni((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),u=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,d=u.body&&u.body.style,f=!1,p=!1;if(d){for(var m in d)if(r=c.exec(m)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in d&&"webkit"),f=!!("transition"in d||n+"Transition"in d),p=!!("animation"in d||n+"Animation"in d),!s||f&&p||(f=C(d.webkitTransition),p=C(d.webkitAnimation))}return{history:!(!a||4>s||l),hasEvent:function(e){if("input"===e&&11>=Pi)return!1;if(b(i[e])){var t=u.createElement("div");i[e]="on"+e in t}return i[e]},csp:Yi(),vendorPrefix:n,transitions:f,animations:p,android:s}}]}function Ar(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function o(a,s){function l(e){if(!s)throw ba("tpload","Failed to load template: {0} (HTTP status: {1} {2})",a,e.status,e.statusText);return r.reject(e)}o.totalPendingRequests++,C(a)&&t.get(a)||(a=i.getTrustedResourceUrl(a));var u=n.defaults&&n.defaults.transformResponse;return Wi(u)?u=u.filter(function(e){return e!==_n}):u===_n&&(u=null),n.get(a,d({cache:t,transformResponse:u},e))["finally"](function(){o.totalPendingRequests--}).then(function(e){return t.put(a,e.data),e.data},l)}return o.totalPendingRequests=0,o}]}function Nr(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return o(r,function(e){var r=Vi.element(e).data("$binding");r&&o(r,function(r){if(n){var o=RegExp("(^|\\s)"+Ki(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else-1!=r.indexOf(t)&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;r.length>i;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+t+'"]',s=e.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function Rr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function o(o,s,l){_(o)||(l=s,s=o,o=m);var u,c=q(arguments,3),d=$(l)&&!l,f=(d?r:n).defer(),h=f.promise;return u=t.defer(function(){try{f.resolve(o.apply(null,c))}catch(t){f.reject(t),i(t)}finally{delete a[h.$$timeoutId]}d||e.$apply()},s),h.$$timeoutId=u,a[u]=f,h}var a={};return o.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},o}]}function Dr(e){var t=e;return Pi&&($a.setAttribute("href",t),t=$a.href),$a.setAttribute("href",t),{href:$a.href,protocol:$a.protocol?$a.protocol.replace(/:$/,""):"",host:$a.host,search:$a.search?$a.search.replace(/^\?/,""):"",hash:$a.hash?$a.hash.replace(/^#/,""):"",hostname:$a.hostname,port:$a.port,pathname:"/"===$a.pathname.charAt(0)?$a.pathname:"/"+$a.pathname}}function Mr(e){var t=C(e)?Dr(e):e;return t.protocol===xa.protocol&&t.host===xa.host}function Pr(){this.$get=v(e)}function Or(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},r={},i="";return function(){var e,o,a,s,l,u=n.cookie||"";if(u!==i)for(i=u,e=i.split("; "),r={},a=0;e.length>a;a++)o=e[a],s=o.indexOf("="),s>0&&(l=t(o.substring(0,s)),b(r[l])&&(r[l]=t(o.substring(s+1))));return r}}function Br(){this.$get=Or}function Ir(e){function t(r,i){if(x(r)){var a={};return o(r,function(e,n){a[n]=t(n,e)}),a}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",jr),t("date",ri),t("filter",Lr),t("json",ii),t("limitTo",oi),t("lowercase",Ta),t("number",zr),t("orderBy",ai),t("uppercase",Aa)}function Lr(){return function(e,t,n){if(!i(e)){if(null==e)return e;throw r("filter")("notarray","Expected array but received: {0}",e)}var o,a,s=Ur(t);switch(s){case"function":o=t;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Hr(t,n,a);break;default:return e}return Array.prototype.filter.call(e,o)}}function Hr(e,t,n){var r,i=x(e)&&"$"in e;return t===!0?t=z:_(t)||(t=function(e,t){return b(e)?!1:null===e||null===t?e===t:x(t)||x(e)&&!y(e)?!1:(e=Ni(""+e),t=Ni(""+t),-1!==e.indexOf(t))}),r=function(r){return i&&!x(r)?Fr(r,e.$,t,!1):Fr(r,e,t,n)}}function Fr(e,t,n,r,i){var o=Ur(e),a=Ur(t);if("string"===a&&"!"===t.charAt(0))return!Fr(e,t.substring(1),n,r);if(Wi(e))return e.some(function(e){return Fr(e,t,n,r)});switch(o){case"object":var s;if(r){for(s in e)if("$"!==s.charAt(0)&&Fr(e[s],t,n,!0))return!0;return i?!1:Fr(e,t,n,!1)}if("object"===a){for(s in t){var l=t[s];if(!_(l)&&!b(l)){var u="$"===s,c=u?e:e[s];if(!Fr(c,l,n,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Ur(e){return null===e?"null":typeof e}function jr(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return b(n)&&(n=t.CURRENCY_SYM),b(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:Wr(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function zr(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Wr(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Vr(e){var t,n,r,i,o,a=0;for((n=e.indexOf(Ca))>-1&&(e=e.replace(Ca,"")),(r=e.search(/e/i))>0?(0>n&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):0>n&&(n=e.length),r=0;e.charAt(r)==Sa;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==Sa;)o--;for(n-=r,t=[],i=0;o>=r;r++,i++)t[i]=+e.charAt(r)}return n>wa&&(t=t.splice(0,wa-1),a=n-1,n=1),{d:t,e:a,i:n}}function qr(e,t,n,r){var i=e.d,o=i.length-e.i;t=b(t)?Math.min(Math.max(n,o),r):+t;var a=t+e.i,s=i[a];if(a>0){i.splice(Math.max(e.i,a));for(var l=a;i.length>l;l++)i[l]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,a=t+1),i[0]=0;for(var u=1;a>u;u++)i[u]=0}if(s>=5)if(0>a-1){for(var c=0;c>a;c--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[a-1]++;for(;Math.max(0,t)>o;o++)i.push(0);var d=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);d&&(i.unshift(d),e.i++)}function Wr(e,t,n,r,i){if(!C(e)&&!S(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",u="";if(a)u="";else{o=Vr(l),qr(o,i,t.minFrac,t.maxFrac);var c=o.d,d=o.i,f=o.e,h=[];for(s=c.reduce(function(e,t){return e&&!t},!0);0>d;)c.unshift(0),d++;d>0?h=c.splice(d):(h=c,c=[0]);var p=[];for(c.length>=t.lgSize&&p.unshift(c.splice(-t.lgSize).join(""));c.length>t.gSize;)p.unshift(c.splice(-t.gSize).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),h.length&&(u+=r+h.join("")),f&&(u+="e+"+f)}return 0>e&&!s?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function Gr(e,t,n,r){var i="";for((0>e||r&&0>=e)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;t>e.length;)e=Sa+e;return n&&(e=e.substr(e.length-t)),i+e}function Xr(e,t,n,r,i){return n=n||0,function(o){var a=o["get"+e]();return(n>0||a>-n)&&(a+=n),0===a&&-12==n&&(a=12),Gr(a,t,r,i)}}function Kr(e,t,n){return function(r,i){var o=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),s=Ri(a+e);return i[s][o]}}function Yr(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=Gr(Math[r>0?"floor":"ceil"](r/60),2)+Gr(Math.abs(r%60),2)}function Jr(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Qr(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function Zr(e){return function(t){var n=Jr(t.getFullYear()),r=Qr(t),i=+r-+n,o=1+Math.round(i/6048e5);return Gr(o,e)}}function ei(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]}function ti(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function ni(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}function ri(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),i=0,o=0,a=t[8]?r.setUTCFullYear:r.setFullYear,s=t[8]?r.setUTCHours:r.setHours;t[9]&&(i=h(t[9]+t[10]),o=h(t[9]+t[11])),a.call(r,h(t[1]),h(t[2])-1,h(t[3]));var l=h(t[4]||0)-i,u=h(t[5]||0)-o,c=h(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(r,l,u,c,d),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,C(n)&&(n=ka.test(n)?h(n):t(n)),S(n)&&(n=new Date(n)),!E(n)||!isFinite(n.getTime()))return n;for(;r;)s=_a.exec(r),s?(u=V(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=Y(i,c),n=Q(n,i,!0)),o(u,function(t){a=Ea[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function ii(){return function(e,t){return b(t)&&(t=2),X(e,t)}}function oi(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):h(t),isNaN(t)?e:(S(e)&&(e=""+e),Wi(e)||C(e)?(n=!n||isNaN(n)?0:h(n),n=0>n?Math.max(0,e.length+n):n,t>=0?e.slice(n,n+t):0===n?e.slice(t,e.length):e.slice(Math.max(0,n+t),n)):e)}}function ai(e){function t(t,n){return n=n?-1:1,t.map(function(t){var r=1,i=g;if(_(t))i=t;else if(C(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(r="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var o=i();i=function(e){return e[o]}}return{get:i,descending:r*n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){return"function"==typeof e.valueOf&&(e=e.valueOf(),n(e))?e:y(e)&&(e=""+e,n(e))?e:t}function a(e,t){var n=typeof e;return null===e?(n="string",e="null"):"string"===n?e=e.toLowerCase():"object"===n&&(e=o(e,t)),{value:e,type:n}}function s(e,t){var n=0;return e.type===t.type?e.value!==t.value&&(n=e.value<t.value?-1:1):n=e.type<t.type?-1:1,n}return function(e,n,o){function l(e,t){return{value:e,predicateValues:c.map(function(n){return a(n.get(e),t)})}}function u(e,t){for(var n=0,r=0,i=c.length;i>r&&!(n=s(e.predicateValues[r],t.predicateValues[r])*c[r].descending);++r);return n}if(null==e)return e;if(!i(e))throw r("orderBy")("notarray","Expected array but received: {0}",e);Wi(n)||(n=[n]),0===n.length&&(n=["+"]);var c=t(n,o);c.push({get:function(){return{}},descending:o?-1:1});var d=Array.prototype.map.call(e,l);return d.sort(u),e=d.map(function(e){return e.value})}}function si(e){return _(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function li(e,t){e.$name=t}function ui(e,t,r,i,a){var s=this,l=[];s.$error={},s.$$success={},s.$pending=n,s.$name=a(t.name||t.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,s.$$parentForm=Da,s.$rollbackViewValue=function(){o(l,function(e){e.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(e){e.$commitViewValue()})},s.$addControl=function(e){pt(e.$name,"input"),l.push(e),e.$name&&(s[e.$name]=e),e.$$parentForm=s},s.$$renameControl=function(e,t){var n=e.$name;s[n]===e&&delete s[n],s[t]=e,e.$name=t},s.$removeControl=function(e){e.$name&&s[e.$name]===e&&delete s[e.$name],o(s.$pending,function(t,n){s.$setValidity(n,null,e)}),o(s.$error,function(t,n){s.$setValidity(n,null,e)}),o(s.$$success,function(t,n){s.$setValidity(n,null,e)}),F(l,e),e.$$parentForm=Da},Si({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(F(r,n),0===r.length&&delete e[t])},$animate:i}),s.$setDirty=function(){i.removeClass(e,gs),i.addClass(e,vs),s.$dirty=!0,s.$pristine=!1,s.$$parentForm.$setDirty()},s.$setPristine=function(){i.setClass(e,gs,vs+" "+Ma),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(e){e.$setPristine()})},s.$setUntouched=function(){o(l,function(e){e.$setUntouched()})},s.$setSubmitted=function(){i.addClass(e,Ma),s.$submitted=!0,s.$$parentForm.$setSubmitted()}}function ci(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:""+t})}function di(e,t,n,r,i,o){fi(e,t,n,r,i,o),ci(r)}function fi(e,t,n,r,i,o){var a=Ni(t[0].type);if(!i.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var i=t.val(),u=e&&e.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Xi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,u)}};if(i.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||c(e,this,this.value)}),i.hasEvent("paste")&&t.on("paste cut",c)}t.on("change",u),Ga[a]&&r.$$hasNativeValidators&&a===n.type&&t.on(Wa,function(e){if(!l){var t=this[Ti],n=t.badInput,r=t.typeMismatch;l=o.defer(function(){l=null,(t.badInput!==n||t.typeMismatch!==r)&&u(e)})}}),r.$render=function(){var e=r.$isEmpty(r.$viewValue)?"":r.$viewValue;t.val()!==e&&t.val(e)}}function hi(e,t){if(E(e))return e;if(C(e)){za.lastIndex=0;var n=za.exec(e);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=Jr(r),c=7*(i-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return 0/0}function pi(e,t){return function(n,r){var i,a;if(E(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ia.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(e,n){t.length>n&&(a[t[n]]=+e)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function mi(e,t,r,i){return function(o,a,s,l,u,c,d){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return $(e)&&!E(e)?r(e)||n:e}gi(o,a,s,l),fi(o,a,s,l,u,c);var p,m=l&&l.$options&&l.$options.timezone;if(l.$$parserName=e,l.$parsers.push(function(e){if(l.$isEmpty(e))return null;if(t.test(e)){var i=r(e,p);return m&&(i=Q(i,m)),i}return n}),l.$formatters.push(function(e){if(e&&!E(e))throw Cs("datefmt","Expected `{0}` to be a date",e);return f(e)?(p=e,p&&m&&(p=Q(p,m,!0)),d("date")(e,i,m)):(p=null,"")}),$(s.min)||s.ngMin){var g;l.$validators.min=function(e){return!f(e)||b(g)||r(e)>=g},s.$observe("min",function(e){g=h(e),l.$validate()})}if($(s.max)||s.ngMax){var v;l.$validators.max=function(e){return!f(e)||b(v)||v>=r(e)},s.$observe("max",function(e){v=h(e),l.$validate()})}}}function gi(e,t,r,i){var o=t[0],a=i.$$hasNativeValidators=x(o.validity);a&&i.$parsers.push(function(e){var r=t.prop(Ti)||{};return r.badInput||r.typeMismatch?n:e})}function vi(e,t,r,i,o,a){if(gi(e,t,r,i),fi(e,t,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(e){return i.$isEmpty(e)?null:Fa.test(e)?parseFloat(e):n}),i.$formatters.push(function(e){if(!i.$isEmpty(e)){if(!S(e))throw Cs("numfmt","Expected `{0}` to be a number",e);e=""+e}return e}),$(r.min)||r.ngMin){var s;i.$validators.min=function(e){return i.$isEmpty(e)||b(s)||e>=s},r.$observe("min",function(e){$(e)&&!S(e)&&(e=parseFloat(e,10)),s=S(e)&&!isNaN(e)?e:n,i.$validate()})}if($(r.max)||r.ngMax){var l;i.$validators.max=function(e){return i.$isEmpty(e)||b(l)||l>=e},r.$observe("max",function(e){$(e)&&!S(e)&&(e=parseFloat(e,10)),l=S(e)&&!isNaN(e)?e:n,i.$validate()})}}function yi(e,t,n,r,i,o){fi(e,t,n,r,i,o),ci(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||La.test(n)}}function bi(e,t,n,r,i,o){fi(e,t,n,r,i,o),ci(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||Ha.test(n)}}function $i(e,t,n,r){b(n.name)&&t.attr("name",l());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function xi(e,t,n,r,i){var o;if($(r)){if(o=e(r),!o.constant)throw Cs("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function wi(e,t,n,r,i,o,a,s){var l=xi(s,e,"ngTrueValue",n.ngTrueValue,!0),u=xi(s,e,"ngFalseValue",n.ngFalseValue,!1),c=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",c),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return z(e,l)}),r.$parsers.push(function(e){return e?l:u
})}function Ci(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[];e:for(var r=0;e.length>r;r++){for(var i=e[r],o=0;t.length>o;o++)if(i==t[o])continue e;n.push(i)}return n}function i(e){var t=[];return Wi(e)?(o(e,function(e){t=t.concat(i(e))}),t):C(e)?e.split(" "):x(e)?(o(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(a,s,l){function u(e){var t=d(e,1);l.$addClass(t)}function c(e){var t=d(e,-1);l.$removeClass(t)}function d(e,t){var n=s.data("$classCounts")||vt(),r=[];return o(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function f(e,t){var i=r(t,e),o=r(e,t);i=d(i,1),o=d(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function h(e){if(t===!0||a.$index%2===t){var n=i(e||[]);if(p){if(!z(e,p)){var r=i(p);f(r,n)}}else u(n)}p=j(e)}var p;a.$watch(l[e],h,!0),l.$observe("class",function(){h(a.$eval(l[e]))}),"ngClass"!==e&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[e]));o===t?u(s):c(s)}})}}}]}function Si(e){function t(e,t,l){b(t)?r("$pending",e,l):i("$pending",e,l),M(t)?t?(d(s.$error,e,l),c(s.$$success,e,l)):(c(s.$error,e,l),d(s.$$success,e,l)):(d(s.$error,e,l),d(s.$$success,e,l)),s.$pending?(o($s,!0),s.$valid=s.$invalid=n,a("",null)):(o($s,!1),s.$valid=Ei(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[e]?n:s.$error[e]?!1:s.$$success[e]?!0:null,a(e,u),s.$$parentForm.$setValidity(e,u,s)}function r(e,t,n){s[e]||(s[e]={}),c(s[e],t,n)}function i(e,t,r){s[e]&&d(s[e],t,r),Ei(s[e])&&(s[e]=n)}function o(e,t){t&&!u[e]?(f.addClass(l,e),u[e]=!0):!t&&u[e]&&(f.removeClass(l,e),u[e]=!1)}function a(e,t){e=e?"-"+ct(e,"-"):"",o(ps+e,t===!0),o(ms+e,t===!1)}var s=e.ctrl,l=e.$element,u={},c=e.set,d=e.unset,f=e.$animate;u[ms]=!(u[ps]=l.hasClass(ps)),s.$setValidity=t}function Ei(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function _i(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var ki=/^\/(.+)\/([a-z]*)$/,Ti="validity",Ai=Object.prototype.hasOwnProperty,Ni=function(e){return C(e)?e.toLowerCase():e},Ri=function(e){return C(e)?e.toUpperCase():e},Di=function(e){return C(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Mi=function(e){return C(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Ni=Di,Ri=Mi);var Pi,Oi,Bi,Ii,Li=[].slice,Hi=[].splice,Fi=[].push,Ui=Object.prototype.toString,ji=Object.getPrototypeOf,zi=r("ng"),Vi=e.angular||(e.angular={}),qi=0;Pi=t.documentMode,m.$inject=[],g.$inject=[];var Wi=Array.isArray,Gi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Xi=function(e){return C(e)?e.trim():e},Ki=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Yi=function(){function e(){try{return Function(""),!1}catch(e){return!0}}if(!$(Yi.rules)){var n=t.querySelector("[ng-csp]")||t.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Yi.rules={noUnsafeEval:!r||-1!==r.indexOf("no-unsafe-eval"),noInlineStyle:!r||-1!==r.indexOf("no-inline-style")}}else Yi.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Yi.rules},Ji=function(){if($(Ji.name_))return Ji.name_;var e,n,r,i,o=Zi.length;for(n=0;o>n;++n)if(r=Zi[n],e=t.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return Ji.name_=i},Qi=/:/g,Zi=["ng-","data-ng-","ng:","x-ng-"],eo=/[A-Z]/g,to=!1,no=1,ro=2,io=3,oo=8,ao=9,so=11,lo={full:"1.5.3",major:1,minor:5,dot:3,codeName:"diplohaplontic-meiosis"};Rt.expando="ng339";var uo=Rt.cache={},co=1,fo=function(e,t,n){e.addEventListener(t,n,!1)},ho=function(e,t,n){e.removeEventListener(t,n,!1)};Rt._data=function(e){return this.cache[e[this.expando]]||{}};var po=/([\:\-\_]+(.))/g,mo=/^moz([A-Z])/,go={mouseleave:"mouseout",mouseenter:"mouseover"},vo=r("jqLite"),yo=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,bo=/<|&#?\w+;/,$o=/<([\w:-]+)/,xo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wo={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wo.optgroup=wo.option,wo.tbody=wo.tfoot=wo.colgroup=wo.caption=wo.thead,wo.th=wo.td;var Co=Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},So=Rt.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),Rt(e).on("load",r))},toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?Oi(this[e]):Oi(this[this.length+e])},length:0,push:Fi,sort:[].sort,splice:[].splice},Eo={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Eo[Ni(e)]=e});var _o={};o("input,select,option,textarea,button,form,details".split(","),function(e){_o[e]=!0});var ko={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:It,removeData:Ot,hasData:_t,cleanData:kt},function(e,t){Rt[t]=e}),o({data:It,inheritedData:zt,scope:function(e){return Oi.data(e,"$scope")||zt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Oi.data(e,"$isolateScope")||Oi.data(e,"$isolateScopeNoTemplate")},controller:jt,injector:function(e){return zt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Lt,css:function(e,t,r){return t=Ct(t),$(r)?(e.style[t]=r,n):e.style[t]},attr:function(e,t,r){var i=e.nodeType;if(i!==io&&i!==ro&&i!==oo){var o=Ni(t);if(Eo[o]){if(!$(r))return e[t]||(e.attributes.getNamedItem(t)||m).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if($(r))e.setAttribute(t,r);else if(e.getAttribute){var a=e.getAttribute(t,2);return null===a?n:a}}},prop:function(e,t,r){return $(r)?(e[t]=r,n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return n===no||n===io?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===H(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(Mt(e,!0),e.innerHTML=t,n)},empty:Vt},function(e,t){Rt.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==Vt&&b(2==e.length&&e!==Lt&&e!==jt?t:n)){if(x(t)){for(r=0;o>r;r++)if(e===It)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var a=e.$dv,s=b(a)?Math.min(o,1):o,l=0;s>l;l++){var u=e(this[l],t,n);a=a?a+u:u}return a}for(r=0;o>r;r++)e(this[r],t,n);return this}}),o({removeData:Ot,on:function(e,t,r,i){if($(i))throw vo("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Et(e)){var o=Bt(e,!0),a=o.events,s=o.handle;s||(s=o.handle=Kt(e,a));for(var l=t.indexOf(" ")>=0?t.split(" "):[t],u=l.length,c=function(t,n,i){var o=a[t];o||(o=a[t]=[],o.specialHandlerWrapper=n,"$destroy"===t||i||fo(e,t,s)),o.push(r)};u--;)t=l[u],go[t]?(c(go[t],Jt),c(t,n,!0)):c(t)}},off:Pt,one:function(e,t,n){e=Oi(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;Mt(e),o(new Rt(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){e.nodeType===no&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===no||n===so){t=new Rt(t);for(var r=0,i=t.length;i>r;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===no){var n=e.firstChild;o(new Rt(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Nt(e,Oi(t).eq(0).clone()[0])},remove:qt,detach:function(e){qt(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new Rt(t);for(var i=0,o=t.length;o>i;i++){var a=t[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Ft,removeClass:Ht,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var r=n;b(r)&&(r=!Lt(e,t)),(r?Ft:Ht)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==so?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Dt,triggerHandler:function(e,t,n){var r,i,a,s=t.type||t,l=Bt(e),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:m,type:s,target:e},t.type&&(r=d(r,t)),i=j(c),a=n?[r].concat(n):[r],o(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(e,t){Rt.prototype[t]=function(t,n,r){for(var i,o=0,a=this.length;a>o;o++)b(i)?(i=e(this[o],t,n,r),$(i)&&(i=Oi(i))):Ut(i,e(this[o],t,n,r));return $(i)?i:this},Rt.prototype.bind=Rt.prototype.on,Rt.prototype.unbind=Rt.prototype.off}),en.prototype={put:function(e,t){this[Zt(e,this.nextUid)]=t},get:function(e){return this[Zt(e,this.nextUid)]},remove:function(e){var t=this[e=Zt(e,this.nextUid)];return delete this[e],t}};var To=[function(){this.$get=[function(){return en}]}],Ao=/^([^\(]+?)=>/,No=/^[^\(]*\(\s*([^\)]*)\)/m,Ro=/,/,Do=/^\s*(_?)(\S+?)\1\s*$/,Mo=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Po=r("$injector");on.$$annotate=rn;var Oo=r("$animate"),Bo=1,Io="ng-animate",Lo=function(){this.$get=m},Ho=function(){var e=new en,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(e,t,n){var r=!1;return t&&(t=C(t)?t.split(" "):Wi(t)?t:[],o(t,function(t){t&&(r=!0,e[t]=n)})),r}function a(){o(t,function(t){var n=e.get(t);if(n){var r=un(t.attr("class")),i="",a="";o(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){i&&Ft(e,i),a&&Ht(e,a)}),e.remove(t)}}),t.length=0}function s(n,o,s){var l=e.get(n)||{},u=i(l,o,!0),c=i(l,s,!1);(u||c)&&(e.put(n,l),t.push(n),1===t.length&&r.$$postDigest(a))}return{enabled:m,on:m,off:m,pin:m,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&s(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},Fo=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Oo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=RegExp("(\\s+|\\/)"+Io+"(\\s+|\\/)");if(t.test(""+this.$$classNameFilter))throw Oo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Io)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var r=ln(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,r,i,o){return r=r&&Oi(r),i=i&&Oi(i),r=r||i.parent(),t(n,r,i),e.push(n,"enter",cn(o))},move:function(n,r,i,o){return r=r&&Oi(r),i=i&&Oi(i),r=r||i.parent(),t(n,r,i),e.push(n,"move",cn(o))},leave:function(t,n){return e.push(t,"leave",cn(n),function(){t.remove()})},addClass:function(t,n,r){return r=cn(r),r.addClass=sn(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=cn(r),r.removeClass=sn(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=cn(i),i.addClass=sn(i.addClass,n),i.removeClass=sn(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=cn(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=sn(o.tempClasses,i),e.push(t,"animate",o)}}}]}],Uo=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;n.length>e;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},jo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,r,i,a){function s(e){this.setHost(e);var t=r(),n=function(e){a(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var r=i[0];r&&r.hidden?n(e):t(e)},this._state=0}var l=0,u=1,c=2;return s.chain=function(e,t){function r(){return i===e.length?(t(!0),n):(e[i](function(e){return e===!1?(t(!1),n):(i++,r(),n)}),n)}var i=0;r()},s.all=function(e,t){function n(n){i=i&&n,++r===e.length&&t(i)}var r=0,i=!0;o(e,function(e){e.done(n)})},s.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===c?e():this._doneCallbacks.push(e)},progress:m,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===l&&(t._state=u,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==c&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=c)}},s}]},zo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function i(){return e(function(){o(),s||l.complete(),s=!0}),l}function o(){a.addClass&&(t.addClass(a.addClass),a.addClass=null),a.removeClass&&(t.removeClass(a.removeClass),a.removeClass=null),a.to&&(t.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=U(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(t.css(a.from),a.from=null);var s,l=new n;return{start:i,end:i}}}]},Vo=r("$compile");mn.$inject=["$provide","$$sanitizeUriProvider"];var qo=/^((?:x|data)[\:\-_])/i,Wo=r("$controller"),Go=/^(\S+)(\s+as\s+([\w$]+))?$/,Xo=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof Oi&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Ko="application/json",Yo={"Content-Type":Ko+";charset=utf-8"},Jo=/^\[|^\{(?!\{)/,Qo={"[":/]$/,"{":/}$/},Zo=/^\)\]\}',?\n/,ea=r("$http"),ta=function(e){return function(){throw ea("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},na=Vi.$interpolateMinErr=r("$interpolate");na.throwNoconcat=function(e){throw na("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},na.interr=function(e,t){return na("interr","Can't interpolate: {0}\n{1}",e,""+t)};var ra=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ia={http:80,https:443,ftp:21},oa=r("$location"),aa={$$html5:!1,$$replace:!1,absUrl:Kn("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=ra.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Kn("$$protocol"),host:Kn("$$host"),port:Kn("$$port"),path:Yn("$$path",function(e){return e=null!==e?""+e:"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||S(e))e=""+e,this.$$search=tt(e);else{if(!x(e))throw oa("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=U(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Yn("$$hash",function(e){return null!==e?""+e:""}),replace:function(){return this.$$replace=!0,this}};o([Xn,Gn,Wn],function(e){e.prototype=Object.create(aa),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Wn||!this.$$html5)throw oa("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=b(t)?null:t,this}});var sa=r("$parse"),la=Function.prototype.call,ua=Function.prototype.apply,ca=Function.prototype.bind,da=vt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){da[e]=!0});var fa={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},ha=function(e){this.options=e};ha.prototype={constructor:ha,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=da[t],o=da[n],a=da[r];if(i||o||a){var s=a?r:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length?this.text.charAt(this.index+t):!1},isNumber:function(e){return e>="0"&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=$(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw sa("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Ni(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){for(var e=this.index;this.index<this.text.length;){var t=this.text.charAt(this.index);if(!this.isIdent(t)&&!this.isNumber(t))break;this.index++}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var r="",i=e,o=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i+=a,o){if("u"===a){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,r+=String.fromCharCode(parseInt(s,16))}else{var l=fa[a];r+=l||a}o=!1}else if("\\"===a)o=!0;else{if(a===e)return this.index++,this.tokens.push({index:t,text:i,constant:!0,value:r}),n;r+=a}this.index++}this.throwError("Unterminated quote",t)}};var pa=function(e,t){this.lexer=e,this.options=t};pa.Program="Program",pa.ExpressionStatement="ExpressionStatement",pa.AssignmentExpression="AssignmentExpression",pa.ConditionalExpression="ConditionalExpression",pa.LogicalExpression="LogicalExpression",pa.BinaryExpression="BinaryExpression",pa.UnaryExpression="UnaryExpression",pa.CallExpression="CallExpression",pa.MemberExpression="MemberExpression",pa.Identifier="Identifier",pa.Literal="Literal",pa.ArrayExpression="ArrayExpression",pa.Property="Property",pa.ObjectExpression="ObjectExpression",pa.ThisExpression="ThisExpression",pa.LocalsExpression="LocalsExpression",pa.NGValueParameter="NGValueParameter",pa.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:pa.Program,body:e}},expressionStatement:function(){return{type:pa.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:pa.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:pa.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:pa.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:pa.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:pa.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:pa.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:pa.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:pa.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:pa.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=U(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:pa.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:pa.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:pa.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:pa.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:pa.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.expression());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:pa.Identifier,name:e.text}},constant:function(){return{type:pa.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:pa.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:pa.Property,kind:"init"},this.peek().constant?e.key=this.constant():this.peek().identifier?e.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),e.value=this.expression(),t.push(e)}while(this.expect(","));return this.consume("}"),{type:pa.ObjectExpression,properties:t}},throwError:function(e,t){throw sa("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw sa("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw sa("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===r||a===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return i?(this.tokens.shift(),i):!1},selfReferential:{"this":{type:pa.ThisExpression},$locals:{type:pa.LocalsExpression}}},hr.prototype={compile:function(e,t){var r=this,i=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},sr(i,r.$filter);var a,s="";if(this.stage="assign",a=cr(i)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),this.return_(l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=lr(i.body);r.stage="inputs",o(u,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",d=Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,Zn,tr,nr,er,rr,ir,or,e);return this.state=this.stage=n,d.literal=dr(i),d.constant=fr(i),d},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,r,i,a,s){var l,u,c,d,f=this;if(i=i||m,!s&&$(e.watchId))return t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,r,i,a,!0)),n;switch(e.type){case pa.Program:o(e.body,function(t,r){f.recurse(t.expression,n,n,function(e){u=e}),r!==e.body.length-1?f.current().body.push(u,";"):f.return_(u)});break;case pa.Literal:d=this.escape(e.value),this.assign(t,d),i(d);break;case pa.UnaryExpression:this.recurse(e.argument,n,n,function(e){u=e}),d=e.operator+"("+this.ifDefined(u,0)+")",this.assign(t,d),i(d);break;case pa.BinaryExpression:this.recurse(e.left,n,n,function(e){l=e}),this.recurse(e.right,n,n,function(e){u=e}),d="+"===e.operator?this.plus(l,u):"-"===e.operator?this.ifDefined(l,0)+e.operator+this.ifDefined(u,0):"("+l+")"+e.operator+"("+u+")",this.assign(t,d),i(d);break;case pa.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),i(t);break;case pa.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),i(t);break;case pa.Identifier:t=t||this.nextId(),r&&(r.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),r.computed=!1,r.name=e.name),Zn(e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){a&&1!==a&&f.if_(f.not(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),(f.state.expensiveChecks||mr(e.name))&&f.addEnsureSafeObject(t),i(t);break;case pa.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,l,n,function(){f.if_(f.notNull(l),function(){a&&1!==a&&f.addEnsureSafeAssignContext(l),e.computed?(u=f.nextId(),f.recurse(e.property,u),f.getStringValue(u),f.addEnsureSafeMemberName(u),a&&1!==a&&f.if_(f.not(f.computedMember(l,u)),f.lazyAssign(f.computedMember(l,u),"{}")),d=f.ensureSafeObject(f.computedMember(l,u)),f.assign(t,d),r&&(r.computed=!0,r.name=u)):(Zn(e.property.name),a&&1!==a&&f.if_(f.not(f.nonComputedMember(l,e.property.name)),f.lazyAssign(f.nonComputedMember(l,e.property.name),"{}")),d=f.nonComputedMember(l,e.property.name),(f.state.expensiveChecks||mr(e.property.name))&&(d=f.ensureSafeObject(d)),f.assign(t,d),r&&(r.computed=!1,r.name=e.property.name))},function(){f.assign(t,"undefined")}),i(t)},!!a);break;case pa.CallExpression:t=t||this.nextId(),e.filter?(u=f.filter(e.callee.name),c=[],o(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),c.push(t)}),d=u+"("+c.join(",")+")",f.assign(t,d),i(t)):(u=f.nextId(),l={},c=[],f.recurse(e.callee,u,l,function(){f.if_(f.notNull(u),function(){f.addEnsureSafeFunction(u),o(e.arguments,function(e){f.recurse(e,f.nextId(),n,function(e){c.push(f.ensureSafeObject(e))})}),l.name?(f.state.expensiveChecks||f.addEnsureSafeObject(l.context),d=f.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):d=u+"("+c.join(",")+")",d=f.ensureSafeObject(d),f.assign(t,d)},function(){f.assign(t,"undefined")}),i(t)}));break;case pa.AssignmentExpression:if(u=this.nextId(),l={},!ur(e.left))throw sa("lval","Trying to assign a value to a non l-value");this.recurse(e.left,n,l,function(){f.if_(f.notNull(l.context),function(){f.recurse(e.right,u),f.addEnsureSafeObject(f.member(l.context,l.name,l.computed)),f.addEnsureSafeAssignContext(l.context),d=f.member(l.context,l.name,l.computed)+e.operator+u,f.assign(t,d),i(t||d)})},1);break;case pa.ArrayExpression:c=[],o(e.elements,function(e){f.recurse(e,f.nextId(),n,function(e){c.push(e)})}),d="["+c.join(",")+"]",this.assign(t,d),i(d);break;case pa.ObjectExpression:c=[],o(e.properties,function(e){f.recurse(e.value,f.nextId(),n,function(t){c.push(f.escape(e.key.type===pa.Identifier?e.key.name:""+e.key.value)+":"+t)})}),d="{"+c.join(",")+"}",this.assign(t,d),i(d);break;case pa.ThisExpression:this.assign(t,"s"),i("s");break;case pa.LocalsExpression:this.assign(t,"l"),i("l");break;case pa.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){return e?(this.current().body.push(e,"=",t,";"),e):n},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return e+"."+t},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")
},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var a=this;return function(){a.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(S(e))return""+e;if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if(e===n)return"undefined";throw sa("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},pr.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,sr(r,n.$filter);var i,a;(i=cr(r))&&(a=this.recurse(i));var s,l=lr(r.body);l&&(s=[],o(l,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var u=[];o(r.body,function(e){u.push(n.recurse(e.expression))});var c=0===r.body.length?m:1===r.body.length?u[0]:function(e,t){var n;return o(u,function(r){n=r(e,t)}),n};return a&&(c.assign=function(e,t,n){return a(e,n,t)}),s&&(c.inputs=s),c.literal=dr(r),c.constant=fr(r),c},recurse:function(e,t,r){var i,a,s,l=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case pa.Literal:return this.value(e.value,t);case pa.UnaryExpression:return a=this.recurse(e.argument),this["unary"+e.operator](a,t);case pa.BinaryExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case pa.LogicalExpression:return i=this.recurse(e.left),a=this.recurse(e.right),this["binary"+e.operator](i,a,t);case pa.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case pa.Identifier:return Zn(e.name,l.expression),l.identifier(e.name,l.expensiveChecks||mr(e.name),t,r,l.expression);case pa.MemberExpression:return i=this.recurse(e.object,!1,!!r),e.computed||(Zn(e.property.name,l.expression),a=e.property.name),e.computed&&(a=this.recurse(e.property)),e.computed?this.computedMember(i,a,t,r,l.expression):this.nonComputedMember(i,a,l.expensiveChecks,t,r,l.expression);case pa.CallExpression:return s=[],o(e.arguments,function(e){s.push(l.recurse(e))}),e.filter&&(a=this.$filter(e.callee.name)),e.filter||(a=this.recurse(e.callee,!0)),e.filter?function(e,r,i,o){for(var l=[],u=0;s.length>u;++u)l.push(s[u](e,r,i,o));var c=a.apply(n,l,o);return t?{context:n,name:n,value:c}:c}:function(e,n,r,i){var o,u=a(e,n,r,i);if(null!=u.value){tr(u.context,l.expression),nr(u.value,l.expression);for(var c=[],d=0;s.length>d;++d)c.push(tr(s[d](e,n,r,i),l.expression));o=tr(u.value.apply(u.context,c),l.expression)}return t?{value:o}:o};case pa.AssignmentExpression:return i=this.recurse(e.left,!0,1),a=this.recurse(e.right),function(e,n,r,o){var s=i(e,n,r,o),u=a(e,n,r,o);return tr(s.value,l.expression),rr(s.context),s.context[s.name]=u,t?{value:u}:u};case pa.ArrayExpression:return s=[],o(e.elements,function(e){s.push(l.recurse(e))}),function(e,n,r,i){for(var o=[],a=0;s.length>a;++a)o.push(s[a](e,n,r,i));return t?{value:o}:o};case pa.ObjectExpression:return s=[],o(e.properties,function(e){s.push({key:e.key.type===pa.Identifier?e.key.name:""+e.key.value,value:l.recurse(e.value)})}),function(e,n,r,i){for(var o={},a=0;s.length>a;++a)o[s[a].key]=s[a].value(e,n,r,i);return t?{value:o}:o};case pa.ThisExpression:return function(e){return t?{value:e}:e};case pa.LocalsExpression:return function(e,n){return t?{value:n}:n};case pa.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=$(a)?+a:0,t?{value:a}:a}},"unary-":function(e,t){return function(n,r,i,o){var a=e(n,r,i,o);return a=$(a)?-a:0,t?{value:a}:a}},"unary!":function(e,t){return function(n,r,i,o){var a=!e(n,r,i,o);return t?{value:a}:a}},"binary+":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=or(s,l);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a),l=t(r,i,o,a),u=($(s)?s:0)-($(l)?l:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)*t(r,i,o,a);return n?{value:s}:s}},"binary/":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)/t(r,i,o,a);return n?{value:s}:s}},"binary%":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)%t(r,i,o,a);return n?{value:s}:s}},"binary===":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)===t(r,i,o,a);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!==t(r,i,o,a);return n?{value:s}:s}},"binary==":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)==t(r,i,o,a);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)!=t(r,i,o,a);return n?{value:s}:s}},"binary<":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<t(r,i,o,a);return n?{value:s}:s}},"binary>":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>t(r,i,o,a);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)<=t(r,i,o,a);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)>=t(r,i,o,a);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)&&t(r,i,o,a);return n?{value:s}:s}},"binary||":function(e,t,n){return function(r,i,o,a){var s=e(r,i,o,a)||t(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(e,t,n,r){return function(i,o,a,s){var l=e(i,o,a,s)?t(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(e,t){return function(){return t?{context:n,name:n,value:e}:e}},identifier:function(e,t,r,i,o){return function(a,s){var l=s&&e in s?s:a;i&&1!==i&&l&&!l[e]&&(l[e]={});var u=l?l[e]:n;return t&&tr(u,o),r?{context:l,name:e,value:u}:u}},computedMember:function(e,t,n,r,i){return function(o,a,s,l){var u,c,d=e(o,a,s,l);return null!=d&&(u=t(o,a,s,l),u=er(u),Zn(u,i),r&&1!==r&&(rr(d),d&&!d[u]&&(d[u]={})),c=d[u],tr(c,i)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(e,t,r,i,o,a){return function(s,l,u,c){var d=e(s,l,u,c);o&&1!==o&&(rr(d),d&&!d[t]&&(d[t]={}));var f=null!=d?d[t]:n;return(r||mr(t))&&tr(f,a),i?{context:d,name:t,value:f}:f}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var ma=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new pa(e,n),this.astCompiler=n.csp?new pr(this.ast,t):new hr(this.ast,t)};ma.prototype={constructor:ma,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var ga=Object.prototype.valueOf,va=r("$sce"),ya={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},ba=r("$compile"),$a=t.createElement("a"),xa=Dr(e.location.href);Or.$inject=["$document"],Ir.$inject=["$provide"];var wa=22,Ca=".",Sa="0";jr.$inject=["$locale"],zr.$inject=["$locale"];var Ea={yyyy:Xr("FullYear",4,0,!1,!0),yy:Xr("FullYear",2,0,!0,!0),y:Xr("FullYear",1,0,!1,!0),MMMM:Kr("Month"),MMM:Kr("Month",!0),MM:Xr("Month",2,1),M:Xr("Month",1,1),LLLL:Kr("Month",!1,!0),dd:Xr("Date",2),d:Xr("Date",1),HH:Xr("Hours",2),H:Xr("Hours",1),hh:Xr("Hours",2,-12),h:Xr("Hours",1,-12),mm:Xr("Minutes",2),m:Xr("Minutes",1),ss:Xr("Seconds",2),s:Xr("Seconds",1),sss:Xr("Milliseconds",3),EEEE:Kr("Day"),EEE:Kr("Day",!0),a:ei,Z:Yr,ww:Zr(2),w:Zr(1),G:ti,GG:ti,GGG:ti,GGGG:ni},_a=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,ka=/^\-?\d+$/;ri.$inject=["$locale"];var Ta=v(Ni),Aa=v(Ri);ai.$inject=["$parse"];var Na=v({restrict:"E",compile:function(e,t){return t.href||t.xlinkHref?n:function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Ui.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ra={};o(Eo,function(e,t){function n(e,n,i){e.$watch(i[r],function(e){i.$set(t,!!e)})}if("multiple"!=e){var r=gn("ng-"+t),i=n;"checked"===e&&(i=function(e,t,i){i.ngModel!==i[r]&&n(e,t,i)}),Ra[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(ko,function(e,t){Ra[t]=function(){return{priority:100,link:function(e,r,i){if("ngPattern"===t&&"/"==i.ngPattern.charAt(0)){var o=i.ngPattern.match(ki);if(o)return i.$set("ngPattern",RegExp(o[1],o[2])),n}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=gn("ng-"+e);Ra[t]=function(){return{priority:99,link:function(r,i,o){var a=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Ui.call(i.prop("href"))&&(s="xlinkHref",o.$attr[s]="xlink:href",a=null),o.$observe(t,function(t){return t?(o.$set(s,t),Pi&&a&&i.prop(a,o[s]),n):("href"===e&&o.$set(s,null),n)})}}}});var Da={$addControl:m,$$renameControl:li,$removeControl:m,$setValidity:m,$setDirty:m,$setPristine:m,$setSubmitted:m},Ma="ng-submitted";ui.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Pa=function(e){return["$timeout","$parse",function(t,r){function i(e){return""===e?r('this[""]').assign:r(e).assign||m}var o={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:ui,compile:function(r,o){r.addClass(gs).addClass(ps);var a=o.name?"name":e&&o.ngForm?"ngForm":!1;return{pre:function(e,r,o,s){var l=s[0];if(!("action"in o)){var u=function(t){e.$apply(function(){l.$commitViewValue(),l.$setSubmitted()}),t.preventDefault()};fo(r[0],"submit",u),r.on("$destroy",function(){t(function(){ho(r[0],"submit",u)},0,!1)})}var c=s[1]||l.$$parentForm;c.$addControl(l);var f=a?i(l.$name):m;a&&(f(e,l),o.$observe(a,function(t){l.$name!==t&&(f(e,n),l.$$parentForm.$$renameControl(l,t),f=i(l.$name),f(e,l))})),r.on("$destroy",function(){l.$$parentForm.$removeControl(l),f(e,n),d(l,Da)})}}}};return o}]},Oa=Pa(),Ba=Pa(!0),Ia=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,La=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Ha=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Fa=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Ua=/^(\d{4,})-(\d{2})-(\d{2})$/,ja=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,za=/^(\d{4,})-W(\d\d)$/,Va=/^(\d{4,})-(\d\d)$/,qa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Wa="keydown wheel mousedown",Ga=vt();o("date,datetime-local,month,time,week".split(","),function(e){Ga[e]=!0});var Xa={text:di,date:mi("date",Ua,pi(Ua,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mi("datetimelocal",ja,pi(ja,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:mi("time",qa,pi(qa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mi("week",za,hi,"yyyy-Www"),month:mi("month",Va,pi(Va,["yyyy","MM"]),"yyyy-MM"),number:vi,url:yi,email:bi,radio:$i,checkbox:wi,hidden:m,button:m,submit:m,reset:m,file:m},Ka=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Xa[Ni(a.type)]||Xa.text)(i,o,a,s[0],t,e,n,r)}}}}],Ya=/^(true|false|\d+)$/,Ja=function(){return{restrict:"A",priority:100,compile:function(e,t){return Ya.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Qa=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=b(e)?"":e})}}}}],Za=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=b(e)?"":e})}}}}],es=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),a=t(i.ngBindHtml,function(e){return""+(e||"")});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(a,function(){r.html(e.getTrustedHtml(o(t))||"")})}}}}],ts=v({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),ns=Ci("",!0),rs=Ci("Odd",0),is=Ci("Even",1),os=si({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),as=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ss={},ls={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=gn("ng-"+e);ss[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){a(t,{$event:n})};ls[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var us=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),s={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=gt(s.clone),e.leave(u).then(function(){u=null}),s=null))})}}}],cs=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Vi.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var d,f,h,p=0,m=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).then(function(){f=null}),f=h,h=null)};r.$watch(o,function(o){var l=function(){!$(s)||s&&!r.$eval(s)||t()},f=++p;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&f===p){var t=r.$new();u.template=e;var s=c(t,function(e){m(),n.enter(e,null,i).then(l)});d=t,h=s,d.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||f===p&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],ds=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(r,i,o,a){return Ui.call(i[0]).match(/SVG/)?(i.empty(),e(Tt(a.template,t).childNodes)(r,function(e){i.append(e)},{futureParentElement:i}),n):(i.html(a.template),e(i.contents())(r),n)}}}],fs=si({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),hs=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,r,i){var a=t.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Xi(a):a,u=function(e){if(!b(e)){var t=[];return e&&o(e.split(l),function(e){e&&t.push(s?Xi(e):e)}),t}};i.$parsers.push(u),i.$formatters.push(function(e){return Wi(e)?e.join(a):n}),i.$isEmpty=function(e){return!e||!e.length}}}},ps="ng-valid",ms="ng-invalid",gs="ng-pristine",vs="ng-dirty",ys="ng-untouched",bs="ng-touched",$s="ng-pending",xs="ng-empty",ws="ng-not-empty",Cs=r("ngModel"),Ss=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,r,i,a,s,l,u,c,d){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(r.name||"",!1)(e),this.$$parentForm=Da;var f,h=a(r.ngModel),p=h.assign,g=h,v=p,y=null,x=this;this.$$setOptions=function(e){if(x.$options=e,e&&e.getterSetter){var t=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");g=function(e){var n=h(e);return _(n)&&(n=t(e)),n},v=function(e,t){_(h(e))?n(e,{$$$p:t}):p(e,t)}}else if(!h.assign)throw Cs("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Z(i))},this.$render=m,this.$isEmpty=function(e){return b(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){x.$isEmpty(e)?(s.removeClass(i,ws),s.addClass(i,xs)):(s.removeClass(i,xs),s.addClass(i,ws))};var w=0;Si({ctrl:this,$element:i,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(i,vs),s.addClass(i,gs)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(i,gs),s.addClass(i,vs),x.$$parentForm.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(i,ys,bs)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(i,bs,ys)},this.$rollbackViewValue=function(){l.cancel(y),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!S(x.$modelValue)||!isNaN(x.$modelValue)){var e=x.$$lastCommittedViewValue,t=x.$$rawModelValue,r=x.$valid,i=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(t,e,function(e){o||r===e||(x.$modelValue=e?t:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(e,t,r){function i(){var e=x.$$parserName||"parse";return b(f)?(l(e,null),!0):(f||(o(x.$validators,function(e,t){l(t,null)}),o(x.$asyncValidators,function(e,t){l(t,null)})),l(e,f),f)}function a(){var n=!0;return o(x.$validators,function(r,i){var o=r(e,t);n=n&&o,l(i,o)}),n?!0:(o(x.$asyncValidators,function(e,t){l(t,null)}),!1)}function s(){var r=[],i=!0;o(x.$asyncValidators,function(o,a){var s=o(e,t);if(!P(s))throw Cs("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},m):u(!0)}function l(e,t){d===w&&x.$setValidity(e,t)}function u(e){d===w&&r(e)}w++;var d=w;return i()?a()?(s(),n):(u(!1),n):(u(!1),n)},this.$commitViewValue=function(){var e=x.$viewValue;l.cancel(y),(x.$$lastCommittedViewValue!==e||""===e&&x.$$hasNativeValidators)&&(x.$$updateEmptyClasses(e),x.$$lastCommittedViewValue=e,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function t(){x.$modelValue!==a&&x.$$writeModelToScope()}var r=x.$$lastCommittedViewValue,i=r;if(f=b(i)?n:!0)for(var o=0;x.$parsers.length>o;o++)if(i=x.$parsers[o](i),b(i)){f=!1;break}S(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=g(e));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,s&&(x.$modelValue=i,t()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(e){s||(x.$modelValue=e?i:n,t())})},this.$$writeModelToScope=function(){v(e,x.$modelValue),o(x.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}})},this.$setViewValue=function(e,t){x.$viewValue=e,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=x.$options;i&&$(i.debounce)&&(n=i.debounce,S(n)?r=n:S(n[t])?r=n[t]:S(n["default"])&&(r=n["default"])),l.cancel(y),r?y=l(function(){x.$commitViewValue()},r):u.$$phase?x.$commitViewValue():e.$apply(function(){x.$commitViewValue()})},e.$watch(function(){var t=g(e);if(t!==x.$modelValue&&(x.$modelValue===x.$modelValue||t===t)){x.$modelValue=x.$$rawModelValue=t,f=n;for(var r=x.$formatters,i=r.length,o=t;i--;)o=r[i](o);x.$viewValue!==o&&(x.$$updateEmptyClasses(o),x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(t,o,m))}return t})}],Es=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ss,priority:1,compile:function(t){return t.addClass(gs).addClass(ys).addClass(ps),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],_s=/(\s+|^)default(\s+|$)/,ks=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=U(e.$eval(t.ngModelOptions)),$(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Xi(this.$options.updateOn.replace(_s,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},Ts=si({terminal:!0,priority:1e3}),As=r("ngOptions"),Ns=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Rs=["$compile","$parse",function(e,r){function a(e,t,n){function o(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function a(e){var t;if(!u&&i(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Ns);if(!s)throw As("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Z(t));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],d=s[9],f=r(s[2]?s[1]:l),h=c&&r(c),p=h||f,m=d&&r(d),g=d?function(e,t){return m(n,t)}:function(e){return Zt(e)},v=function(e,t){return g(e,C(e,t))},y=r(s[2]||s[1]),b=r(s[3]||""),$=r(s[4]||""),x=r(s[8]),w={},C=u?function(e,t){return w[u]=t,w[l]=e,w}:function(e){return w[l]=e,w};return{trackBy:d,getTrackByValue:v,getWatchables:r(x,function(e){var t=[];e=e||[];for(var r=a(e),i=r.length,o=0;i>o;o++){var l=e===r?o:r[o],u=e[l],c=C(u,l),d=g(u,c);if(t.push(d),s[2]||s[1]){var f=y(n,c);t.push(f)}if(s[4]){var h=$(n,c);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},r=x(n)||[],i=a(r),s=i.length,l=0;s>l;l++){var u=r===i?l:i[l],c=r[u],f=C(c,u),h=p(n,f),m=g(h,f),w=y(n,f),S=b(n,f),E=$(n,f),_=new o(m,h,w,S,E);e.push(_),t[m]=_}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?Vi.copy(e.viewValue):e.viewValue}}}}}function s(t,r,i,s){function c(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function d(e,t,n,r){var i;return t&&Ni(t.nodeName)===n?i=t:(i=r.cloneNode(!1),t?e.insertBefore(i,t):e.appendChild(i)),i}function f(e){for(var t;e;)t=e.nextSibling,qt(e),e=t}function h(e){var t=m&&m[0],n=S&&S[0];if(t||n)for(;e&&(e===t||e===n||e.nodeType===oo||"option"===H(e)&&""===e.value);)e=e.nextSibling;return e}function p(){var e=E&&g.readValue();E=_.getOptions();var t={},n=r[0].firstChild;if(C&&r.prepend(m),n=h(n),E.items.forEach(function(e){var i,o,a;$(e.group)?(i=t[e.group],i||(o=d(r[0],n,"optgroup",u),n=o.nextSibling,o.label=e.group,i=t[e.group]={groupElement:o,currentOptionElement:o.firstChild}),a=d(i.groupElement,i.currentOptionElement,"option",l),c(e,a),i.currentOptionElement=a.nextSibling):(a=d(r[0],n,"option",l),c(e,a),n=a.nextSibling)}),Object.keys(t).forEach(function(e){f(t[e].currentOptionElement)}),f(n),v.$render(),!v.$isEmpty(e)){var i=g.readValue(),o=_.trackBy||y;(o?z(e,i):e===i)||(v.$setViewValue(i),v.$render())}}for(var m,g=s[0],v=s[1],y=i.multiple,b=0,x=r.children(),w=x.length;w>b;b++)if(""===x[b].value){m=x.eq(b);break}var C=!!m,S=Oi(l.cloneNode(!1));S.val("?");var E,_=a(i.ngOptions,r,t),k=function(){C||r.prepend(m),r.val(""),m.prop("selected",!0),m.attr("selected",!0)},T=function(){C||m.remove()},A=function(){r.prepend(S),r.val("?"),S.prop("selected",!0),S.attr("selected",!0)},N=function(){S.remove()};y?(v.$isEmpty=function(e){return!e||0===e.length},g.writeValue=function(e){E.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=E.getOptionFromViewValue(e);t&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var e=r.val()||[],t=[];return o(e,function(e){var n=E.selectValueMap[e];n&&!n.disabled&&t.push(E.getViewValueFromOption(n))}),t},_.trackBy&&t.$watchCollection(function(){return Wi(v.$viewValue)?v.$viewValue.map(function(e){return _.getTrackByValue(e)}):n},function(){v.$render()})):(g.writeValue=function(e){var t=E.getOptionFromViewValue(e);t&&!t.disabled?(r[0].value!==t.selectValue&&(N(),T(),r[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||C?(N(),k()):(T(),A())},g.readValue=function(){var e=E.selectValueMap[r.val()];return e&&!e.disabled?(T(),N(),E.getViewValueFromOption(e)):null},_.trackBy&&t.$watch(function(){return _.getTrackByValue(v.$viewValue)},function(){v.$render()})),C?(m.remove(),e(m)(t),m.removeClass("ng-scope")):m=Oi(l.cloneNode(!1)),p(),t.$watchCollection(_.getWatchables,p)}var l=t.createElement("option"),u=t.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=m},post:s}}}],Ds=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,f=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,p=a.$eval(f)||{},g={},v=t.startSymbol(),y=t.endSymbol(),$=v+d+"-"+h+y,x=Vi.noop;o(l,function(e,t){var n=i.exec(t);if(n){var r=(n[1]?"-":"")+Ni(n[2]);p[r]=s.attr(l.$attr[t])}}),o(p,function(e,n){g[n]=t(e.replace(r,$))}),a.$watch(d,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in p||(r=e.pluralCat(r-h)),r!==c&&!(i&&S(c)&&isNaN(c))){x();var o=g[r];b(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),x=m,u()):x=a.$watch(o,u),c=r}})}}}],Ms=["$parse","$animate","$compile",function(e,t,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(e,t,n,r,i,o,a){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},c=function(e){return e.clone[0]},d=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var h=f.ngRepeat,p=a.$$createComment("end ngRepeat",h),m=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!m)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var g=m[1],v=m[2],y=m[3],b=m[4];if(m=g.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!m)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",g);var $=m[3]||m[1],x=m[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var w,C,S,E,_={$id:Zt};return b?w=e(b):(S=function(e,t){return Zt(t)},E=function(e){return e}),function(e,r,a,f,m){w&&(C=function(t,n,r){return x&&(_[x]=t),_[$]=n,_.$index=r,w(e,_)});var g=vt();e.$watchCollection(v,function(a){var f,v,b,w,_,k,T,A,N,R,D,M,P=r[0],O=vt();if(y&&(e[y]=a),i(a))N=a,A=C||S;else{A=C||E,N=[];for(var B in a)Ai.call(a,B)&&"$"!==B.charAt(0)&&N.push(B)}for(w=N.length,D=Array(w),f=0;w>f;f++)if(_=a===N?f:N[f],k=a[_],T=A(_,k,f),g[T])R=g[T],delete g[T],O[T]=R,D[f]=R;else{if(O[T])throw o(D,function(e){e&&e.scope&&(g[e.id]=e)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,T,k);D[f]={id:T,scope:n,clone:n},O[T]=!0}for(var I in g){if(R=g[I],M=gt(R.clone),t.leave(M),M[0].parentNode)for(f=0,v=M.length;v>f;f++)M[f][s]=!0;R.scope.$destroy()}for(f=0;w>f;f++)if(_=a===N?f:N[f],k=a[_],R=D[f],R.scope){b=P;do b=b.nextSibling;while(b&&b[s]);c(R)!=b&&t.move(gt(R.clone),null,P),P=d(R),u(R.scope,f,$,k,x,_,w)}else m(function(e,n){R.scope=n;var r=p.cloneNode(!1);e[e.length++]=r,t.enter(e,null,P),P=r,R.clone=e,O[R.id]=R,u(R.scope,f,$,k,x,_,w)});g=O})}}}}],Ps="ng-hide",Os="ng-hide-animate",Bs=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,Ps,{tempClasses:Os})})}}}],Is=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,Ps,{tempClasses:Os})})}}}],Ls=si(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&o(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Hs=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],d=[],f=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)e.cancel(c[r]);for(c.length=0,r=0,i=d.length;i>r;++r){var s=gt(u[r].clone);d[r].$destroy();var h=c[r]=e.leave(s);h.then(f(c,r))}u.length=0,d.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){d.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var a={clone:r};u.push(a),e.enter(r,o.parent(),o)})})})}}}],Fs=si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Us=si({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),js=r("ngTransclude"),zs=si({restrict:"EAC",link:function(e,t,n,r,i){function o(e){e.length&&(t.empty(),t.append(e))}if(n.ngTransclude===n.$attr.ngTransclude&&(n.ngTransclude=""),!i)throw js("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(t));var a=n.ngTransclude||n.ngTranscludeSlot;i(o,null,a)}}),Vs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],qs={$setViewValue:m,$render:m},Ws=["$element","$scope",function(e,r){var i=this,o=new en;i.ngModelCtrl=qs,i.unknownOption=Oi(t.createElement("option")),i.renderUnknownOption=function(t){var n="? "+Zt(t)+" ?";i.unknownOption.val(n),e.prepend(i.unknownOption),e.val(n)},r.$on("$destroy",function(){i.renderUnknownOption=m}),i.removeUnknownOption=function(){i.unknownOption.parent()&&i.unknownOption.remove()},i.readValue=function(){return i.removeUnknownOption(),e.val()},i.writeValue=function(t){i.hasOption(t)?(i.removeUnknownOption(),e.val(t),""===t&&i.emptyOption.prop("selected",!0)):null==t&&i.emptyOption?(i.removeUnknownOption(),e.val("")):i.renderUnknownOption(t)},i.addOption=function(e,t){if(t[0].nodeType!==oo){pt(e,'"option value"'),""===e&&(i.emptyOption=t);var n=o.get(e)||0;o.put(e,n+1),i.ngModelCtrl.$render(),_i(t)}},i.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.remove(e),""===e&&(i.emptyOption=n)):o.put(e,t-1))},i.hasOption=function(e){return!!o.get(e)},i.registerOption=function(e,t,n,r,o){if(r){var a;n.$observe("value",function(e){$(a)&&i.removeOption(a),a=e,i.addOption(e,t)})}else o?e.$watch(o,function(e,r){n.$set("value",e),r!==e&&i.removeOption(r),i.addOption(e,t)}):i.addOption(n.value,t);t.on("$destroy",function(){i.removeOption(n.value),i.ngModelCtrl.$render()})}}],Gs=function(){function e(e,t,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,t.on("change",function(){e.$apply(function(){i.$setViewValue(a.readValue())
})}),n.multiple){a.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},a.writeValue=function(e){var n=new en(e);o(t.find("option"),function(e){e.selected=$(n.get(e.value))})};var s,l=0/0;e.$watch(function(){l!==i.$viewValue||z(s,i.$viewValue)||(s=j(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}function t(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Ws,priority:1,link:{pre:e,post:t}}},Xs=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if($(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",a=t.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(e,t,n,r,i)}}}}],Ks=v({restrict:"E",terminal:!1}),Ys=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},Js=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(e){if(C(e)&&e.length>0&&(e=RegExp("^"+e+"$")),e&&!e.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,e,Z(t));a=e||n,o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||b(a)||a.test(t)}}}}},Qs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=h(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return 0>i||r.$isEmpty(t)||i>=t.length}}}}},Zs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=h(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?(e.console&&console.log("WARNING: Tried to load angular more than once."),n):(dt(),xt(Vi),Vi.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function r(e,r){var i=r;n===i&&(i=Math.min(t(e),3));var o=Math.pow(10,i),a=(0|e*o)%o;return{v:i,f:a}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,o=r(e,t);return 1==n&&0==o.v?i.ONE:i.OTHER}})}]),Oi(t).ready(function(){at(t,st)}),n)})(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){function n(){function e(e,n){return t.extend(Object.create(e),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(e,t,n,r){var o="?"===r||"*?"===r?"?":null,a="*"===r||"*?"===r?"*":null;return i.push({name:n,optional:!!o}),t=t||"",""+(o?"":t)+"(?:"+(o?t:"")+(a&&"(.+?)"||"([^/]+)")+(o||"")+")"+(o||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){var o=t.copy(i);if(t.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),t.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[e]=t.extend(o,e&&n(e,o)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[a]=t.extend({redirectTo:e},n(a,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,o,a,l,u,c){function d(e,t){var n=t.keys,r={};if(!t.regexp)return null;var i=t.regexp.exec(e);if(!i)return null;for(var o=1,a=i.length;a>o;++o){var s=n[o-1],l=i[o];s&&l&&(r[s.name]=l)}return r}function f(e){var r=b.current;g=p(),v=g&&r&&g.$$route===r.$$route&&t.equals(g.pathParams,r.pathParams)&&!g.reloadOnSearch&&!y,v||!r&&!g||n.$broadcast("$routeChangeStart",g,r).defaultPrevented&&e&&e.preventDefault()}function h(){var e=b.current,r=g;v?(e.params=r.params,t.copy(e.params,o),n.$broadcast("$routeUpdate",e)):(r||e)&&(y=!1,b.current=r,r&&r.redirectTo&&(t.isString(r.redirectTo)?i.path(m(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(function(){if(r){var e,n,i=t.extend({},r.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?l.get(e):l.invoke(e,null,null,n)}),t.isDefined(e=r.template)?t.isFunction(e)&&(e=e(r.params)):t.isDefined(n=r.templateUrl)&&(t.isFunction(n)&&(n=n(r.params)),t.isDefined(n)&&(r.loadedTemplateUrl=c.valueOf(n),e=u(n))),t.isDefined(e)&&(i.$template=e),a.all(i)}}).then(function(i){r==b.current&&(r&&(r.locals=i,t.copy(r.params,o)),n.$broadcast("$routeChangeSuccess",r,e))},function(t){r==b.current&&n.$broadcast("$routeChangeError",r,e,t)}))}function p(){var n,o;return t.forEach(r,function(r){!o&&(n=d(i.path(),r))&&(o=e(r,{params:t.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&e(r[null],{params:{},pathParams:{}})}function m(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var g,v,y=!1,b={routes:r,reload:function(){y=!0;var e={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0,y=!1}};n.$evalAsync(function(){f(e),e.defaultPrevented||h()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw s("norout","Tried updating route when with no current route");e=t.extend({},this.current.params,e),i.path(m(this.current.$$route.originalPath,e)),i.search(e)}};return n.$on("$locationChangeStart",f),n.$on("$locationChangeSuccess",h),b}]}function r(){this.$get=function(){return{}}}function i(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,a,s,l){function u(){h&&(r.cancel(h),h=null),d&&(d.$destroy(),d=null),f&&(h=r.leave(f),h.then(function(){h=null}),f=null)}function c(){var a=e.current&&e.current.locals,s=a&&a.$template;if(t.isDefined(s)){var c=i.$new(),h=e.current,g=l(c,function(e){r.enter(e,null,f||o).then(function(){!t.isDefined(p)||p&&!i.$eval(p)||n()}),u()});f=g,d=h.scope=c,d.$emit("$viewContentLoaded"),d.$eval(m)}else u()}var d,f,h,p=a.autoscroll,m=a.onload||"";i.$on("$routeChangeSuccess",c),c()}}}function o(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,a=o.locals;i.html(a.$template);var s=e(i.contents());if(o.controller){a.$scope=r;var l=t(o.controller,a);o.controllerAs&&(r[o.controllerAs]=l),i.data("$ngControllerController",l),i.children().data("$ngControllerController",l)}r[o.resolveAs||"$resolve"]=a,s(r)}}}var a=t.module("ngRoute",["ng"]).provider("$route",n).run(["$route",t.noop]),s=t.$$minErr("ngRoute");a.provider("$routeParams",r),a.directive("ngView",i),a.directive("ngView",o),i.$inject=["$route","$anchorScroll","$animate"],o.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t,n){function r(){var e=!1;this.$get=["$$sanitizeUri",function(n){return e&&t.extend(C,x),function(e){var t=[];return a(e,u(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(n){return t.isDefined(n)?(e=n,this):e}}function i(e){var n=[],r=u(n,t.noop);return r.chars(e),n.join("")}function o(e,n){var r,i={},o=e.split(",");for(r=0;o.length>r;r++)i[n?t.lowercase(o[r]):o[r]]=!0;return i}function a(e,t){null===e||e===n?e="":"string"!=typeof e&&(e=""+e),d.innerHTML=e;var r=5;do{if(0===r)throw f("uinput","Failed to sanitize html because the input is unstable");r--,11>=document.documentMode&&c(d),e=d.innerHTML,d.innerHTML=e}while(e!==d.innerHTML);for(var i=d.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),s(i.attributes));break;case 3:t.chars(i.textContent)}var o;if(!(o=i.firstChild)&&(1==i.nodeType&&t.end(i.nodeName.toLowerCase()),o=i.nextSibling,!o))for(;null==o&&(i=i.parentNode,i!==d);)o=i.nextSibling,1==i.nodeType&&t.end(i.nodeName.toLowerCase());i=o}for(;i=d.firstChild;)d.removeChild(i)}function s(e){for(var t={},n=0,r=e.length;r>n;n++){var i=e[n];t[i.name]=i.value}return t}function l(e){return e.replace(/&/g,"&amp;").replace(h,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(p,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(e,n){var r=!1,i=t.bind(e,e.push);return{start:function(e,o){e=t.lowercase(e),!r&&w[e]&&(r=e),r||C[e]!==!0||(i("<"),i(e),t.forEach(o,function(r,o){var a=t.lowercase(o),s="img"===e&&"src"===a||"background"===a;k[a]!==!0||S[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(l(r)),i('"'))}),i(">"))},end:function(e){e=t.lowercase(e),r||C[e]!==!0||m[e]===!0||(i("</"),i(e),i(">")),e==r&&(r=!1)},chars:function(e){r||i(l(e))}}}function c(e){if(e.nodeType===Node.ELEMENT_NODE)for(var t=e.attributes,n=0,r=t.length;r>n;n++){var i=t[n],o=i.name.toLowerCase();("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&(e.removeAttributeNode(i),n--,r--)}var a=e.firstChild;a&&c(a),a=e.nextSibling,a&&c(a)}var d,f=t.$$minErr("$sanitize"),h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=/([^\#-~ |!])/g,m=o("area,br,col,hr,img,wbr"),g=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=o("rp,rt"),y=t.extend({},v,g),b=t.extend({},g,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),$=t.extend({},v,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),x=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),w=o("script,style"),C=t.extend({},m,b,$,y),S=o("background,cite,href,longdesc,src,xlink:href"),E=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),_=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),k=t.extend({},S,_,E);(function(e){var t;if(!e.document||!e.document.implementation)throw f("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)d=r[0];else{var i=t.createElement("html");d=t.createElement("body"),i.appendChild(d),t.appendChild(i)}})(e),t.module("ngSanitize",[]).provider("$sanitize",r),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isString;return function(s,l,u){function c(e){e&&g.push(i(e))}function d(e,n){var r;if(g.push("<a "),t.isFunction(u)&&(u=u(e)),t.isObject(u))for(r in u)g.push(r+'="'+u[r]+'" ');else u={};!t.isDefined(l)||"target"in u||g.push('target="',l,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),c(n),g.push("</a>")}if(null==s||""===s)return s;if(!a(s))throw o("notstring","Expected string but received: {0}",s);for(var f,h,p,m=s,g=[];f=m.match(n);)h=f[0],f[2]||f[4]||(h=(f[3]?"http://":"mailto:")+h),p=f.index,c(m.substr(0,p)),d(h,f[0].replace(r,"")),m=m.substring(p+f[0].length);return c(m),e(g.join(""))}}])}(window,window.angular),function(e,t,n){function r(e,n,r){function i(e,r,i){var a,s;i=i||{},s=i.expires,a=t.isDefined(i.path)?i.path:o,t.isUndefined(r)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",r=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(r);l+=a?";path="+a:"",l+=i.domain?";domain="+i.domain:"",l+=s?";expires="+s.toUTCString():"",l+=i.secure?";secure":"";var u=l.length+1;return u>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+u+" > 4096 bytes)!"),l}var o=r.baseHref(),a=e[0];return function(e,t,n){a.cookie=i(e,t,n)}}t.module("ngCookies",["ng"]).provider("$cookies",[function(){function e(e){return e?t.extend({},r,e):r}var r=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(r,i){return{get:function(e){return r()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return r()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,r){this.put(e,t.toJson(n),r)},remove:function(t,r){i(t,n,e(r))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),r.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=r})}(window,window.angular),function(e,t){function n(e,t,n){if(!e)throw mt("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function r(e,t){return e||t?e?t?(j(e)&&(e=e.join(" ")),j(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function i(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var r="";return e=j(e)?e:e&&z(e)&&e.length?e.split(/\s+/):[],U(e,function(e,i){e&&e.length>0&&(r+=i>0?" ":"",r+=n?t+e:e+t)}),r}function a(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof F)switch(e.length){case 0:return[];case 1:if(e[0].nodeType===K)return e;break;default:return F(l(e))}return e.nodeType===K?F(e):undefined}function l(e){if(!e[0])return e;for(var t=0;e.length>t;t++){var n=e[t];if(n.nodeType==K)return n}}function u(e,t,n){U(t,function(t){e.addClass(t,n)})}function c(e,t,n){U(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(u(e,t,n.addClass),n.addClass=null),n.removeClass&&(c(e,t,n.removeClass),n.removeClass=null)}}function f(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||I;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=I},e.$$prepared=!0}return e}function h(e,t){p(e,t),m(e,t)}function p(e,t){t.from&&(e.css(t.from),t.from=null)}function m(e,t){t.to&&(e.css(t.to),t.to=null)}function g(e,t,n){var r=t.options||{},i=n.options||{},o=(r.addClass||"")+" "+(i.addClass||""),a=(r.removeClass||"")+" "+(i.removeClass||""),s=v(e.attr("class"),o,a);i.preparationClasses&&(r.preparationClasses=S(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==I?r.domOperation:null;return H(r,i),l&&(r.domOperation=l),r.addClass=s.addClass?s.addClass:null,r.removeClass=s.removeClass?s.removeClass:null,t.addClass=r.addClass,t.removeClass=r.removeClass,r}function v(e,t,n){function r(e){z(e)&&(e=e.split(" "));var t={};return U(e,function(e){e.length&&(t[e]=!0)}),t}var i=1,o=-1,a={};e=r(e),t=r(t),U(t,function(e,t){a[t]=i}),n=r(n),U(n,function(e,t){a[t]=a[t]===i?null:o});var s={addClass:"",removeClass:""};return U(a,function(t,n){var r,a;t===i?(r="addClass",a=!e[n]):t===o&&(r="removeClass",a=e[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function y(e){return e instanceof t.element?e[0]:e}function b(e,t,n){var r="";t&&(r=o(t,Q,!0)),n.addClass&&(r=S(r,o(n.addClass,Y))),n.removeClass&&(r=S(r,o(n.removeClass,J))),r.length&&(n.preparationClasses=r,e.addClass(r))}function $(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var n=t?"-"+t+"s":"";return C(e,[ht,n]),[ht,n]}function w(e,t){var n=t?"paused":"",r=O+ut;return C(e,[r,n]),[r,n]}function C(e,t){var n=t[0],r=t[1];e.style[n]=r}function S(e,t){return e?t?e+" "+t:e:t}function E(e){return[ft,e+"s"]}function _(e,t){var n=t?dt:ht;return[n,e+"s"]}function k(e,t,n){var r=Object.create(null),i=e.getComputedStyle(t)||{};return U(n,function(e,t){var n=i[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=T(n)),0===n&&(n=null),r[t]=n}}),r}function T(e){var t=0,n=e.split(/\s*,\s*/);return U(n,function(e){"s"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function A(e){return 0===e||null!=e}function N(e,t){var n=M,r=e+"s";return t?n+=it:r+=" linear all",[n,r]}function R(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function D(e,t,n){U(n,function(n){e[n]=W(e[n])?e[n]:t.style.getPropertyValue(n)})}var M,P,O,B,I=t.noop,L=t.copy,H=t.extend,F=t.element,U=t.forEach,j=t.isArray,z=t.isString,V=t.isObject,q=t.isUndefined,W=t.isDefined,G=t.isFunction,X=t.isElement,K=1,Y="-add",J="-remove",Q="ng-",Z="-active",et="-prepare",tt="ng-animate",nt="$$ngAnimateChildren",rt="";q(e.ontransitionend)&&W(e.onwebkittransitionend)?(rt="-webkit-",M="WebkitTransition",P="webkitTransitionEnd transitionend"):(M="transition",P="transitionend"),q(e.onanimationend)&&W(e.onwebkitanimationend)?(rt="-webkit-",O="WebkitAnimation",B="webkitAnimationEnd animationend"):(O="animation",B="animationend");var it="Duration",ot="Property",at="Delay",st="TimingFunction",lt="IterationCount",ut="PlayState",ct=9999,dt=O+at,ft=O+it,ht=M+at,pt=M+it,mt=t.$$minErr("ng"),gt=["$$rAF",function(e){function t(e){r=r.concat(e),n()}function n(){if(r.length){for(var t=r.shift(),o=0;t.length>o;o++)t[o]();i||e(function(){i||n()})}}var r,i;return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=e(function(){i=null,t(),n()})},t}],vt=["$interpolate",function(e){return{link:function(n,r,i){function o(e){e="on"===e||"true"===e,r.data(nt,e)}var a=i.ngAnimateChildren;t.isString(a)&&0===a.length?r.data(nt,!0):(o(e(a)(n)),i.$observe("ngAnimateChildren",o))}}}],yt="$$animateCss",bt=1e3,$t=3,xt=1.5,wt={transitionDuration:pt,transitionDelay:ht,transitionProperty:M+ot,animationDuration:ft,animationDelay:dt,animationIterationCount:O+lt},Ct={transitionDuration:pt,transitionDelay:ht,animationDuration:ft,animationDelay:dt},St=["$animateProvider",function(){var e=R(),t=R();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(n,r,s,l,u,c,g,v){function b(e,t){var n="$$ngAnimateParentKey",r=e.parentNode,i=r[n]||(r[n]=++F);return i+"-"+e.getAttribute("class")+"-"+t}function $(t,r,i,o){var a=e.get(i);return a||(a=k(n,t,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(i,a),a}function S(i,a,s,l){var u;if(e.count(s)>0&&(u=t.get(s),!u)){var c=o(a,"-stagger");r.addClass(i,c),u=k(n,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),t.put(s,u)}return u||{}}function T(n){z.push(n),g.waitUntilQuiet(function(){e.flush(),t.flush();for(var n=u(),r=0;z.length>r;r++)z[r](n);z.length=0})}function R(e,t,n){var r=$(e,t,n,wt),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}var H=d(r),F=0,z=[];return function(t,n){function u(){g()}function d(){g(!0)}function g(e){if(!(G||K&&X)){G=!0,X=!1,V.$$skipPreparationClasses||r.removeClass(t,wt),r.removeClass(t,Et),w(W,!1),x(W,!1),U(ut,function(e){W.style[e[0]]=""}),H(t,V),h(t,V),Object.keys(q).length&&U(q,function(e,t){e?W.style.setProperty(t,e):W.style.removeProperty(t)}),V.onDone&&V.onDone(),ht&&ht.length&&t.off(ht.join(" "),F);var n=t.data(yt);n&&(l.cancel(n[0].timer),t.removeData(yt)),et&&et.complete(!e)}}function $(e){Ht.blockTransition&&x(W,e),Ht.blockKeyframeAnimation&&w(W,!!e)}function k(){return et=new s({end:u,cancel:d}),T(I),g(),{$$willAnimate:!1,start:function(){return et},end:u}}function F(e){e.stopPropagation();var t=e.originalEvent||e,n=t.$manualTimeStamp||Date.now(),r=parseFloat(t.elapsedTime.toFixed($t));Math.max(n-lt,0)>=rt&&r>=it&&(K=!0,g())}function z(){function e(){if(!G){if($(!1),U(ut,function(e){var t=e[0],n=e[1];W.style[t]=n}),H(t,V),r.addClass(t,Et),Ht.recalculateTimingStyles){if(St=W.className+" "+wt,Tt=b(W,St),It=R(W,St,Tt),Lt=It.maxDelay,nt=Math.max(Lt,0),it=It.maxDuration,0===it)return g(),undefined;Ht.hasTransitions=It.transitionDuration>0,Ht.hasAnimations=It.animationDuration>0}if(Ht.applyAnimationDelay&&(Lt="boolean"!=typeof V.delay&&A(V.delay)?parseFloat(V.delay):Lt,nt=Math.max(Lt,0),It.animationDelay=Lt,Ft=_(Lt,!0),ut.push(Ft),W.style[Ft[0]]=Ft[1]),rt=nt*bt,at=it*bt,V.easing){var e,i=V.easing;Ht.hasTransitions&&(e=M+st,ut.push([e,i]),W.style[e]=i),Ht.hasAnimations&&(e=O+st,ut.push([e,i]),W.style[e]=i)}It.transitionDuration&&ht.push(P),It.animationDuration&&ht.push(B),lt=Date.now();var o=rt+xt*at,a=lt+o,s=t.data(yt)||[],u=!0;if(s.length){var c=s[0];u=a>c.expectedEndTime,u?l.cancel(c.timer):s.push(g)}if(u){var d=l(n,o,!1);s[0]={timer:d,expectedEndTime:a},s.push(g),t.data(yt,s)}ht.length&&t.on(ht.join(" "),F),V.to&&(V.cleanupStyles&&D(q,W,Object.keys(V.to)),m(t,V))}}function n(){var e=t.data(yt);if(e){for(var n=1;e.length>n;n++)e[n]();t.removeData(yt)}}if(!G){if(!W.parentNode)return g(),undefined;var i=function(e){if(K)X&&e&&(X=!1,g());else if(X=!e,It.animationDuration){var t=w(W,X);X?ut.push(t):a(ut,t)}},o=Ot>0&&(It.transitionDuration&&0===At.transitionDuration||It.animationDuration&&0===At.animationDuration)&&Math.max(At.animationDelay,At.transitionDelay);o?l(e,Math.floor(o*Ot*bt),!1):e(),tt.resume=function(){i(!0)},tt.pause=function(){i(!1)}}}var V=n||{};V.$$prepared||(V=f(L(V)));var q={},W=y(t);if(!W||!W.parentNode||!v.enabled())return k();var G,X,K,et,tt,nt,rt,it,at,lt,ut=[],dt=t.attr("class"),ft=i(V),ht=[];if(0===V.duration||!c.animations&&!c.transitions)return k();var pt=V.event&&j(V.event)?V.event.join(" "):V.event,mt=pt&&V.structural,gt="",vt="";mt?gt=o(pt,Q,!0):pt&&(gt=pt),V.addClass&&(vt+=o(V.addClass,Y)),V.removeClass&&(vt.length&&(vt+=" "),vt+=o(V.removeClass,J)),V.applyClassesEarly&&vt.length&&H(t,V);var wt=[gt,vt].join(" ").trim(),St=dt+" "+wt,Et=o(wt,Z),_t=ft.to&&Object.keys(ft.to).length>0,kt=(V.keyframeStyle||"").length>0;if(!kt&&!_t&&!wt)return k();var Tt,At;if(V.stagger>0){var Nt=parseFloat(V.stagger);At={transitionDelay:Nt,animationDelay:Nt,transitionDuration:0,animationDuration:0}}else Tt=b(W,St),At=S(W,wt,Tt,Ct);V.$$skipPreparationClasses||r.addClass(t,wt);var Rt;if(V.transitionStyle){var Dt=[M,V.transitionStyle];C(W,Dt),ut.push(Dt)}if(V.duration>=0){Rt=W.style[M].length>0;var Mt=N(V.duration,Rt);C(W,Mt),ut.push(Mt)}if(V.keyframeStyle){var Pt=[O,V.keyframeStyle];C(W,Pt),ut.push(Pt)}var Ot=At?V.staggerIndex>=0?V.staggerIndex:e.count(Tt):0,Bt=0===Ot;Bt&&!V.skipBlocking&&x(W,ct);var It=R(W,St,Tt),Lt=It.maxDelay;nt=Math.max(Lt,0),it=It.maxDuration;var Ht={};if(Ht.hasTransitions=It.transitionDuration>0,Ht.hasAnimations=It.animationDuration>0,Ht.hasTransitionAll=Ht.hasTransitions&&"all"==It.transitionProperty,Ht.applyTransitionDuration=_t&&(Ht.hasTransitions&&!Ht.hasTransitionAll||Ht.hasAnimations&&!Ht.hasTransitions),Ht.applyAnimationDuration=V.duration&&Ht.hasAnimations,Ht.applyTransitionDelay=A(V.delay)&&(Ht.applyTransitionDuration||Ht.hasTransitions),Ht.applyAnimationDelay=A(V.delay)&&Ht.hasAnimations,Ht.recalculateTimingStyles=vt.length>0,(Ht.applyTransitionDuration||Ht.applyAnimationDuration)&&(it=V.duration?parseFloat(V.duration):it,Ht.applyTransitionDuration&&(Ht.hasTransitions=!0,It.transitionDuration=it,Rt=W.style[M+ot].length>0,ut.push(N(it,Rt))),Ht.applyAnimationDuration&&(Ht.hasAnimations=!0,It.animationDuration=it,ut.push(E(it)))),0===it&&!Ht.recalculateTimingStyles)return k();if(null!=V.delay){var Ft;"boolean"!=typeof V.delay&&(Ft=parseFloat(V.delay),nt=Math.max(Ft,0)),Ht.applyTransitionDelay&&ut.push(_(Ft)),Ht.applyAnimationDelay&&ut.push(_(Ft,!0))}return null==V.duration&&It.transitionDuration>0&&(Ht.recalculateTimingStyles=Ht.recalculateTimingStyles||Bt),rt=nt*bt,at=it*bt,V.skipBlocking||(Ht.blockTransition=It.transitionDuration>0,Ht.blockKeyframeAnimation=It.animationDuration>0&&At.animationDelay>0&&0===At.animationDuration),V.from&&(V.cleanupStyles&&D(q,W,Object.keys(V.from)),p(t,V)),Ht.blockTransition||Ht.blockKeyframeAnimation?$(it):V.skipBlocking||x(W,!1),{$$willAnimate:!0,end:u,start:function(){return G?undefined:(tt={end:u,cancel:d,resume:null,pause:null},et=new s(tt),T(z),et)}}}}]}],Et=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",r="ng-anchor",i="ng-anchor-out",o="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,a,s,l,u,c,f){function h(e){return e.replace(/\bng-\S+\b/g,"")}function p(e,t){return z(e)&&(e=e.split(" ")),z(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function m(t,a,l){function u(e){var t={},n=y(e).getBoundingClientRect();return U(["width","height","top","left"],function(e){var r=n[e];switch(e){case"top":r+=b.scrollTop;break;case"left":r+=b.scrollLeft}t[e]=Math.floor(r)+"px"}),t}function c(){var t=e(g,{addClass:i,delay:!0,from:u(a)});return t.$$willAnimate?t:null}function d(e){return e.attr("class")||""}function f(){var t=h(d(l)),n=p(t,v),r=p(v,t),a=e(g,{to:u(l),addClass:o+" "+n,removeClass:i+" "+r,delay:!0});return a.$$willAnimate?a:null}function m(){g.remove(),a.removeClass(n),l.removeClass(n)}var g=F(y(a).cloneNode(!0)),v=h(d(g));a.addClass(n),l.addClass(n),g.addClass(r),x.append(g);var $,w=c();if(!w&&($=f(),!$))return m();var C=w||$;return{start:function(){function e(){n&&n.end()}var t,n=C.start();return n.done(function(){return n=null,!$&&($=f())?(n=$.start(),n.done(function(){n=null,m(),t.complete()}),n):(m(),t.complete(),undefined)}),t=new s({end:e,cancel:e})}}}function g(e,t,n,r){var i=v(e,I),o=v(t,I),a=[];return U(r,function(e){var t=e.out,r=e["in"],i=m(n,t,r);i&&a.push(i)}),i||o||0!==a.length?{start:function(){function e(){U(t,function(e){e.end()})}var t=[];i&&t.push(i.start()),o&&t.push(o.start()),U(a,function(e){t.push(e.start())});var n=new s({end:e,cancel:e});return s.all(t,function(e){n.complete(e)}),n}}:undefined}function v(t){var n=t.element,r=t.options||{};t.structural&&(r.event=t.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===t.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=S(r.event,r.preparationClasses));var i=e(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return I;var b=f[0].body,$=y(l),x=F(t($)||b.contains($)?$:b);return d(c),function(e){return e.from&&e.to?g(e.from,e.to,e.classes,e.anchors):v(e)}}]}],_t=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,r){function i(n){n=j(n)?n:n.split(" ");for(var r=[],i={},o=0;n.length>o;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!i[a]&&(r.push(t.get(s)),i[a]=!0)}return r}var o=d(r);return function(e,t,r,a){function s(){a.domOperation(),o(e,a)}function l(){p=!0,s(),h(e,a)}function u(e,t,r,i,o){var a;switch(r){case"animate":a=[t,i.from,i.to,o];break;case"setClass":a=[t,v,y,o];break;case"addClass":a=[t,v,o];break;case"removeClass":a=[t,y,o];break;default:a=[t,o]}a.push(i);var s=e.apply(e,a);if(s)if(G(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(G(s))return s;return I}function c(e,t,r,i,o){var a=[];return U(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,l=function(e){a||(a=!0,(o||I)(e),i.complete(!e))};return i=new n({end:function(){l()},cancel:function(){l(!0)}}),o=u(s,e,t,r,function(e){var t=e===!1;l(t)}),i})}),a}function d(e,t,r,i,o){var a=c(e,t,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=c(e,"removeClass",r,i,"beforeRemoveClass"),l=c(e,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=c(e,"removeClass",r,i,"removeClass"),l=c(e,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&U(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){U(t,function(t){e?t.cancel():t.end()})}}}var p=!1;3===arguments.length&&V(r)&&(a=r,r=null),a=f(a),r||(r=e.attr("class")||"",a.addClass&&(r+=" "+a.addClass),a.removeClass&&(r+=" "+a.removeClass));var m,g,v=a.addClass,y=a.removeClass,b=i(r);if(b.length){var $,x;"leave"==t?(x="leave",$="afterLeave"):(x="before"+t.charAt(0).toUpperCase()+t.substr(1),$=t),"enter"!==t&&"move"!==t&&(m=d(e,t,a,b,x)),g=d(e,t,a,b,$)}if(m||g){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(l(),w=new n,w.complete(!0)),w},start:function(){function e(e){l(e),w.complete(e)}function t(t){p||((r||I)(t),e(t))}if(w)return w;w=new n;var r,i=[];return m&&i.push(function(e){r=m(e)}),i.length?i.push(function(e){s(),e(!0)}):s(),g&&i.push(function(e){r=g(e)}),w.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(i,e),w}}}}}]}],kt=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,r=t.event,i=t.options,o=t.classes;return e(n,r,o,i)}return function(e){if(e.from&&e.to){var r=n(e.from),i=n(e.to);if(!r&&!i)return;return{start:function(){function e(){return function(){U(o,function(e){e.end()})}}function n(e){a.complete(e)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),t.all(o,n);var a=new t({end:e(),cancel:e()});
return a}}}return n(e)}}]}],Tt="data-ng-animate",At="$ngAnimatePin",Nt=["$animateProvider",function(e){function t(e){if(!e)return null;var t=e.split(c),n=Object.create(null);return U(t,function(e){n[e]=!0}),n}function r(e,n){if(e&&n){var r=t(n);return e.split(c).some(function(e){return r[e]})}}function i(e,t,n,r){return p[e].some(function(e){return e(t,n,r)})}function o(e,t){var n=(e.addClass||"").length>0,r=(e.removeClass||"").length>0;return t?n&&r:n||r}var a=1,u=2,c=" ",p=this.rules={skip:[],cancel:[],join:[]};p.join.push(function(e,t){return!t.structural&&o(t)}),p.skip.push(function(e,t){return!t.structural&&!o(t)}),p.skip.push(function(e,t,n){return"leave"==n.event&&t.structural}),p.skip.push(function(e,t,n){return n.structural&&n.state===u&&!t.structural}),p.cancel.push(function(e,t,n){return n.structural&&t.structural}),p.cancel.push(function(e,t,n){return n.state===u&&t.structural}),p.cancel.push(function(e,t,n){if(n.structural)return!1;var i=t.addClass,o=t.removeClass,a=n.addClass,s=n.removeClass;return q(i)&&q(o)||q(a)&&q(s)?!1:r(i,s)||r(o,a)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(t,r,c,p,m,v,x,w,C){function S(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function E(e,t){return g(e,t,{})}function _(e,t,n){var r=y(t),i=y(e),o=[],a=I[n];return a&&U(a,function(e){Q.call(e.node,r)?o.push(e.callback):"leave"===n&&Q.call(e.node,i)&&o.push(e.callback)}),o}function k(e,n,l){function c(n,r,i,o){N(function(){var n=_(w,e,r);n.length&&t(function(){U(n,function(t){t(e,i,o)})})}),n.progress(r,i,o)}function d(t){$(e,C),J(e,C),h(e,C),C.domOperation(),k.complete(!t)}var m,w,C=L(l);e=s(e),e&&(m=y(e),w=e.parent()),C=f(C);var k=new x,N=S();if(j(C.addClass)&&(C.addClass=C.addClass.join(" ")),C.addClass&&!z(C.addClass)&&(C.addClass=null),j(C.removeClass)&&(C.removeClass=C.removeClass.join(" ")),C.removeClass&&!z(C.removeClass)&&(C.removeClass=null),C.from&&!V(C.from)&&(C.from=null),C.to&&!V(C.to)&&(C.to=null),!m)return d(),k;var B=[m.className,C.addClass,C.removeClass].join(" ");if(!Y(B))return d(),k;var I=["enter","move","leave"].indexOf(n)>=0,H=!O||p[0].hidden||P.get(m),F=!H&&M.get(m)||{},q=!!F.state;if(H||q&&F.state==a||(H=!R(e,w,n)),H)return d(),k;I&&T(e);var W={structural:I,element:e,event:n,addClass:C.addClass,removeClass:C.removeClass,close:d,options:C,runner:k};if(q){var G=i("skip",e,W,F);if(G)return F.state===u?(d(),k):(g(e,F,W),F.runner);var X=i("cancel",e,W,F);if(X)if(F.state===u)F.runner.end();else{if(!F.structural)return g(e,F,W),F.runner;F.close()}else{var K=i("join",e,W,F);if(K){if(F.state!==u)return b(e,I?n:null,C),n=W.event=F.event,C=g(e,F,W),F.runner;E(e,W)}}}else E(e,W);var Q=W.structural;if(Q||(Q="animate"===W.event&&Object.keys(W.options.to||{}).length>0||o(W)),!Q)return d(),A(e),k;var Z=(F.counter||0)+1;return W.counter=Z,D(e,a,W),r.$$postDigest(function(){var t=M.get(m),r=!t;t=t||{};var i=e.parent()||[],a=i.length>0&&("animate"===t.event||t.structural||o(t));if(r||t.counter!==Z||!a)return r&&(J(e,C),h(e,C)),(r||I&&t.event!==n)&&(C.domOperation(),k.end()),a||A(e),undefined;n=!t.structural&&o(t,!0)?"setClass":t.event,D(e,u);var s=v(e,n,t.options);s.done(function(t){d(!t);var r=M.get(m);r&&r.counter===Z&&A(y(e)),c(k,n,"close",{})}),k.setHost(s),c(k,n,"start",{})}),k}function T(e){var t=y(e),n=t.querySelectorAll("["+Tt+"]");U(n,function(e){var t=parseInt(e.getAttribute(Tt)),n=M.get(e);if(n)switch(t){case u:n.runner.end();case a:M.remove(e)}})}function A(e){var t=y(e);t.removeAttribute(Tt),M.remove(t)}function N(e,t){return y(e)===y(t)}function R(e,t){var n,r=F(p[0].body),i=N(e,r)||"HTML"===e[0].nodeName,o=N(e,c),a=!1,s=P.get(y(e)),l=F.data(e[0],At);for(l&&(t=l),t=y(t);t&&(o||(o=N(t,c)),t.nodeType===K);){var u=M.get(t)||{};if(!a){var d=P.get(t);if(d===!0&&s!==!1){s=!0;break}d===!1&&(s=!1),a=u.structural}if(q(n)||n===!0){var f=F.data(t,nt);W(f)&&(n=f)}if(a&&n===!1)break;if(i||(i=N(t,r)),i&&o)break;t=o||!(l=F.data(t,At))?t.parentNode:y(l)}var h=(!a||n)&&s!==!0;return h&&o&&i}function D(e,t,n){n=n||{},n.state=t;var r=y(e);r.setAttribute(Tt,t);var i=M.get(r),o=i?H(i,n):n;M.put(r,o)}var M=new m,P=new m,O=null,B=r.$watch(function(){return 0===w.totalPendingRequests},function(e){e&&(B(),r.$$postDigest(function(){r.$$postDigest(function(){null===O&&(O=!0)})}))}),I={},G=e.classNameFilter(),Y=G?function(e){return G.test(e)}:function(){return!0},J=d(C),Q=Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},Z={on:function(e,t,n){var r=l(t);I[e]=I[e]||[],I[e].push({node:r,callback:n}),F(t).on("$destroy",function(){Z.off(e,t,n)})},off:function(e,t,n){function r(e,t,n){var r=l(t);return e.filter(function(e){var t=e.node===r&&(!n||e.callback===n);return!t})}var i=I[e];i&&(I[e]=1===arguments.length?null:r(i,t,n))},pin:function(e,t){n(X(e),"element","not an element"),n(X(t),"parentElement","not an element"),e.data(At,t)},push:function(e,t,n,r){return n=n||{},n.domOperation=r,k(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!O;else{var r=X(e);if(r){var i=y(e),o=P.get(i);1===n?t=!o:P.put(i,!t)}else t=O=!!e}return t}};return Z}]}],Rt=["$animateProvider",function(){function e(e,t){e.data(a,t)}function t(e){e.removeData(a)}function n(e){return e.data(a)}var i="ng-animate-ref",o=this.drivers=[],a="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,s,l,u,c,p){function m(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,r=n.parentNode;o.put(n,e);for(var a;r;){if(a=o.get(r)){a.processed||(a=t(a));break}r=r.parentNode}return(a||i).children.push(e),e}function n(e){var t,n=[],r=[];for(t=0;e.children.length>t;t++)r.push(e.children[t]);var i=r.length,o=0,a=[];for(t=0;r.length>t;t++){var s=r[t];0>=i&&(i=o,o=0,n.push(a),a=[]),a.push(s.fn),s.children.forEach(function(e){o++,r.push(e)}),i--}return a.length&&n.push(a),n}var r,i={children:[]},o=new c;for(r=0;e.length>r;r++){var a=e[r];o.put(a.domNode,e[r]={domNode:a.domNode,fn:a.fn,children:[]})}for(r=0;e.length>r;r++)t(e[r]);return n(i)}var g=[],v=d(a);return function(c,d,b){function $(e){var t="["+i+"]",n=e.hasAttribute(i)?[e]:e.querySelectorAll(t),r=[];return U(n,function(e){var t=e.getAttribute(i);t&&t.length&&r.push(e)}),r}function x(e){var t=[],n={};U(e,function(e,r){var o=e.element,a=y(o),s=e.event,l=["enter","move"].indexOf(s)>=0,u=e.structural?$(a):[];if(u.length){var c=l?"to":"from";U(u,function(e){var t=e.getAttribute(i);n[t]=n[t]||{},n[t][c]={animationID:r,element:F(e)}})}else t.push(e)});var r={},o={};return U(n,function(n){var i=n.from,a=n.to;if(!i||!a){var s=i?i.animationID:a.animationID,l=""+s;return r[l]||(r[l]=!0,t.push(e[s])),undefined}var u=e[i.animationID],c=e[a.animationID],d=""+i.animationID;if(!o[d]){var f=o[d]={structural:!0,beforeStart:function(){u.beforeStart(),c.beforeStart()},close:function(){u.close(),c.close()},classes:w(u.classes,c.classes),from:u,to:c,anchors:[]};f.classes.length?t.push(f):(t.push(u),t.push(c))}o[d].anchors.push({out:i.element,"in":a.element})}),t}function w(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],r=0;e.length>r;r++){var i=e[r];if("ng-"!==i.substring(0,3))for(var o=0;t.length>o;o++)if(i===t[o]){n.push(i);break}}return n.join(" ")}function C(e){for(var t=o.length-1;t>=0;t--){var n=o[t];if(l.has(n)){var r=l.get(n),i=r(e);if(i)return i}}}function S(){c.addClass(tt),R&&a.addClass(c,R),D&&(a.removeClass(c,D),D=null)}function E(e,t){function r(e){n(e).setHost(t)}e.from&&e.to?(r(e.from.element),r(e.to.element)):r(e.element)}function _(){var e=n(c);!e||"leave"===d&&b.$$domOperationFired||e.end()}function k(e){c.off("$destroy",_),t(c),v(c,b),h(c,b),b.domOperation(),R&&a.removeClass(c,R),c.removeClass(tt),A.complete(!e)}b=f(b);var T=["enter","move","leave"].indexOf(d)>=0,A=new u({end:function(){k()},cancel:function(){k(!0)}});if(!o.length)return k(),A;e(c,A);var N=r(c.attr("class"),r(b.addClass,b.removeClass)),R=b.tempClasses;R&&(N+=" "+R,b.tempClasses=null);var D;return T&&(D="ng-"+d+et,a.addClass(c,D)),g.push({element:c,classes:N,event:d,structural:T,options:b,beforeStart:S,close:k}),c.on("$destroy",_),g.length>1?A:(s.$$postDigest(function(){var e=[];U(g,function(t){n(t.element)?e.push(t):t.close()}),g.length=0;var t=x(e),r=[];U(t,function(e){r.push({domNode:y(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,r=e.close,i=e.anchors?e.from.element||e.to.element:e.element;if(n(i)){var o=C(e);o&&(t=o.start)}if(t){var a=t();a.done(function(e){r(!e)}),E(e,a)}else r()}})}),p(m(r))}),A)}}]}],Dt=["$animate","$rootScope",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,r,i,o){var a,s;t.$watchCollection(r.ngAnimateSwap||r["for"],function(r){a&&e.leave(a),s&&(s.$destroy(),s=null),(r||0===r)&&(s=t.$new(),o(s,function(t){a=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[]).directive("ngAnimateSwap",Dt).directive("ngAnimateChildren",vt).factory("$$rAFScheduler",gt).provider("$$animateQueue",Nt).provider("$$animation",Rt).provider("$animateCss",St).provider("$$animateCssDriver",Et).provider("$$animateJs",_t).provider("$$animateJsDriver",kt)}(window,window.angular),angular.module("ngLocale",[],["$provide",function(e){var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],MONTH:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","sb"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss","short":"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"pt-br",pluralCat:function(e){return e>=0&&2>=e&&2!=e?t.ONE:t.OTHER}})}]),function(){angular.module("angular-loading-bar",["cfp.loadingBarInterceptor"]),angular.module("chieffancypants.loadingBar",["cfp.loadingBarInterceptor"]),angular.module("cfp.loadingBarInterceptor",["cfp.loadingBar"]).config(["$httpProvider",function(e){var t=["$q","$cacheFactory","$timeout","$rootScope","$log","cfpLoadingBar",function(t,n,r,i,o,a){function s(){r.cancel(u),a.complete(),d=0,c=0}function l(t){var r,i=n.get("$http"),o=e.defaults;!t.cache&&!o.cache||t.cache===!1||"GET"!==t.method&&"JSONP"!==t.method||(r=angular.isObject(t.cache)?t.cache:angular.isObject(o.cache)?o.cache:i);var a=void 0!==r?void 0!==r.get(t.url):!1;return void 0!==t.cached&&a!==t.cached?t.cached:(t.cached=a,a)}var u,c=0,d=0,f=a.latencyThreshold;return{request:function(e){return e.ignoreLoadingBar||l(e)||(i.$broadcast("cfpLoadingBar:loading",{url:e.url}),0===c&&(u=r(function(){a.start()},f)),c++,a.set(d/c)),e},response:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=c?s():a.set(d/c)),e):(o.error("Broken interceptor detected: Config object not supplied in response:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),e)},responseError:function(e){return e&&e.config?(e.config.ignoreLoadingBar||l(e.config)||(d++,i.$broadcast("cfpLoadingBar:loaded",{url:e.config.url,result:e}),d>=c?s():a.set(d/c)),t.reject(e)):(o.error("Broken interceptor detected: Config object not supplied in rejection:\n https://github.com/chieffancypants/angular-loading-bar/pull/50"),t.reject(e))}}}];e.interceptors.push(t)}]),angular.module("cfp.loadingBar",[]).provider("cfpLoadingBar",function(){this.autoIncrement=!0,this.includeSpinner=!0,this.includeBar=!0,this.latencyThreshold=100,this.startSize=.02,this.parentSelector="body",this.spinnerTemplate='<div id="loading-bar-spinner"><div class="spinner-icon"></div></div>',this.loadingBarTemplate='<div id="loading-bar"><div class="bar"><div class="peg"></div></div></div>',this.$get=["$injector","$document","$timeout","$rootScope",function(e,t,n,r){function i(){if(c||(c=e.get("$animate")),n.cancel(f),!v){var i=t[0],a=i.querySelector?i.querySelector(h):t.find(h)[0];a||(a=i.getElementsByTagName("body")[0]);var s=angular.element(a),l=a.lastChild&&angular.element(a.lastChild);r.$broadcast("cfpLoadingBar:started"),v=!0,x&&c.enter(p,s,l),$&&c.enter(g,s,p),o(w)}}function o(e){if(v){var t=100*e+"%";m.css("width",t),y=e,b&&(n.cancel(d),d=n(function(){a()},250))}}function a(){if(!(s()>=1)){var e=0,t=s();e=t>=0&&.25>t?(3*Math.random()+3)/100:t>=.25&&.65>t?3*Math.random()/100:t>=.65&&.9>t?2*Math.random()/100:t>=.9&&.99>t?.005:0;var n=s()+e;o(n)}}function s(){return y}function l(){y=0,v=!1}function u(){c||(c=e.get("$animate")),r.$broadcast("cfpLoadingBar:completed"),o(1),n.cancel(f),f=n(function(){var e=c.leave(p,l);e&&e.then&&e.then(l),c.leave(g)},500)}var c,d,f,h=this.parentSelector,p=angular.element(this.loadingBarTemplate),m=p.find("div").eq(0),g=angular.element(this.spinnerTemplate),v=!1,y=0,b=this.autoIncrement,$=this.includeSpinner,x=this.includeBar,w=this.startSize;return{start:i,set:o,status:s,inc:a,complete:u,autoIncrement:this.autoIncrement,includeSpinner:this.includeSpinner,latencyThreshold:this.latencyThreshold,parentSelector:this.parentSelector,startSize:this.startSize}}]})}();var duScrollDefaultEasing=function(e){return.5>e?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,r,i,o,a,s){var l={},u=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},c=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return c(e)||u(e)?e:e[0]};l.duScrollTo=function(t,n,r){var i;if(angular.isElement(t)?i=this.duScrollToElement:angular.isDefined(r)&&(i=this.duScrollToAnimated),i)return i.apply(this,arguments);var o=d(this);return u(o)?e.scrollTo(t,n):(o.scrollLeft=t,o.scrollTop=n,void 0)};var f,h;l.duScrollToAnimated=function(e,o,a,l){a&&!l&&(l=i);var u=this.duScrollLeft(),c=this.duScrollTop(),d=Math.round(e-u),p=Math.round(o-c),m=null,g=0,v=this,y=function(e){(!e||g&&e.which>0)&&(s&&v.unbind(s,y),n(f),h.reject(),f=null)};if(f&&y(),h=t.defer(),0===a||!d&&!p)return 0===a&&v.duScrollTo(e,o),h.resolve(),h.promise;var b=function(e){null===m&&(m=e),g=e-m;var t=g>=a?1:l(g/a);v.scrollTo(u+Math.ceil(d*t),c+Math.ceil(p*t)),1>t?f=r(b):(s&&v.unbind(s,y),f=null,h.resolve())};return v.duScrollTo(u,c),s&&v.bind(s,y),f=r(b),h.promise},l.duScrollToElement=function(e,t,n,r){var i=d(this);(!angular.isNumber(t)||isNaN(t))&&(t=a);var o=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return c(i)&&(o-=i.getBoundingClientRect().top),this.duScrollTo(0,o,n,r)},l.duScrollLeft=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,r);var i=d(this);return u(i)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:i.scrollLeft},l.duScrollTop=function(t,n,r){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,r);var i=d(this);return u(i)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:i.scrollTop},l.duScrollToElementAnimated=function(e,t,n,r){return this.duScrollToElement(e,t,n||o,r)},l.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||o,n)},l.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||o,n)},angular.forEach(l,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){var t=["webkit","moz","o","ms"];return function(n,r){if(e[n])return e[n];for(var i,o=n.substr(0,1).toUpperCase()+n.substr(1),a=0;t.length>a;a++)if(i=t[a]+o,e[i])return e[i];return r}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){var n=0,r=function(e){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),o=t(function(){e(r+i)},i);return n=r+i,o};return e("requestAnimationFrame",r)}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){var n=function(e){t.cancel(e)};return e("cancelAnimationFrame",n)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,r,i,o,a,s,l){var u=function(i){var u=!1,c=!1,d=function(){c=!1;var t,a=i.container,u=a[0],d=0;if("undefined"!=typeof HTMLElement&&u instanceof HTMLElement||u.nodeType&&u.nodeType===u.ELEMENT_NODE)d=u.getBoundingClientRect().top,t=Math.round(u.scrollTop+u.clientHeight)>=u.scrollHeight;else{var f=r[0].body.scrollHeight||r[0].documentElement.scrollHeight;t=Math.round(n.pageYOffset+n.innerHeight)>=f}var h,p,m,g,v,y,b=s&&t?"bottom":"top";for(g=i.spies,p=i.currentlyActive,m=void 0,h=0;g.length>h;h++)v=g[h],y=v.getTargetPosition(),y&&(s&&t||20>y.top+v.offset-d&&(o||-1*y.top+d)<y.height)&&(!m||m[b]<y[b])&&(m={spy:v},m[b]=y[b]);m&&(m=m.spy),p===m||o&&!m||(p&&(p.$element.removeClass(l),e.$broadcast("duScrollspy:becameInactive",p.$element,angular.element(p.getTargetElement()))),m&&(m.$element.addClass(l),e.$broadcast("duScrollspy:becameActive",m.$element,angular.element(m.getTargetElement()))),i.currentlyActive=m)};return a?function(){u?c=!0:(d(),u=t(function(){u=!1,c&&d()},a,!1))}:d},c={},d=function(e){var t=e.$id,n={spies:[]};return n.handler=u(n),c[t]=n,e.$on("$destroy",function(){f(e)}),t},f=function(e){var t=e.$id,n=c[t],r=n.container;r&&r.off("scroll",n.handler),delete c[t]},h=d(e),p=function(e){return c[e.$id]?c[e.$id]:e.$parent?p(e.$parent):c[h]},m=function(e){var t,n,r=e.$scope;if(r)return p(r);for(n in c)if(t=c[n],-1!==t.spies.indexOf(e))return t},g=function(e){for(;e.parentNode;)if(e=e.parentNode,e===document)return!0;return!1},v=function(e){var t=m(e);t&&(t.spies.push(e),t.container&&g(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=i.getContainer(e.$scope),t.container.on("scroll",t.handler).triggerHandler("scroll")))},y=function(t){var n=m(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var r=n.spies.indexOf(t);-1!==r&&n.spies.splice(r,1),t.$element=null};return{addSpy:v,removeSpy:y,createContext:d,destroyContext:f,getContextForScope:p}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){var t={},n=function(e,n){var r=e.$id;return t[r]=n,r},r=function(e){return t[e.$id]?e.$id:e.$parent?r(e.$parent):void 0},i=function(n){var i=r(n);return i?t[i]:e},o=function(e){var n=r(e);n&&delete t[n]};return{getContainerId:r,getContainer:i,setContainer:n,removeContainer:o}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){return{link:function(r,i,o){i.on("click",function(i){if(o.href&&-1!==o.href.indexOf("#")||""!==o.duSmoothScroll){var a=o.href?o.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):o.duSmoothScroll,s=document.getElementById(a)||document.getElementsByName(a)[0];if(s&&s.getBoundingClientRect){i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();var l=o.offset?parseInt(o.offset,10):t,u=o.duration?parseInt(o.duration,10):e,c=n.getContainer(r);c.duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(u)?0:u)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){return{restrict:"A",scope:!0,compile:function(){return{pre:function(t){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,n,r){r.$observe("duScrollContainer",function(r){angular.isString(r)&&(r=document.getElementById(r)),r=angular.isElement(r)?angular.element(r):n,e.setContainer(t,r),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,r){var i=function(e,t,n,r){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=r};return i.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},i.prototype.getTargetPosition=function(){var e=this.getTargetElement();return e?e.getBoundingClientRect():void 0},i.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(o,a,s){var l,u=s.ngHref||s.href;if(u&&-1!==u.indexOf("#")?l=u.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l){var c=n(function(){var n=new i(l,o,a,-(s.offset?parseInt(s.offset,10):t));e.addSpy(n),o.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var u=r.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));o.$on("$destroy",function(){e.removeSpy(n),u()})},0,!1);o.$on("$destroy",function(){n.cancel(c)})}}}}]),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(o){o.message.indexOf("Access is denied")>-1&&(this.__origError=o,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0===r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={},i.files={};for(var o=0;r.data.length>o;o++){var a=r.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?i.files[a.key]=a.val:i.data[a.key]=a.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var r,i,o,a,s,l=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)r=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(o=0;u.length>o;o++)if(s=u[o].src,a=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),a>-1){i=s.substring(0,a+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),l.setAttribute("src",r||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(r,i,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){var t=i.parent();r.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(i.attr("__ngf_flash_")||(i.unbind("change"),i.unbind("click"),i.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])}),i.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(r)||(t.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),i.css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};r.bind("mouseenter",a);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;t.length>n;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;n.length>r;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r)));var i;"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}}),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var r=n(this);r instanceof Function&&r(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.0.4",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function r(r){function i(e){u.notify&&u.notify(e),c.progressFunc&&n(function(){c.progressFunc(e)})}function s(e){return null!=r._start&&a?{loaded:e.loaded+r._start,total:r._file&&r._file.size||e.total,type:e.type,config:r,lengthComputable:!0,target:e.target}:e}function l(){e(r).then(function(e){a&&r._chunkSize&&!r._finished&&r._file?(i({loaded:r._end,total:r._file&&r._file.size,config:r,type:"progress"}),o.upload(r,!0)):(r._finished&&delete r._finished,u.resolve(e))},function(e){u.reject(e)},function(e){u.notify(e)})}r.method=r.method||"POST",r.headers=r.headers||{};var u=r._deferred=r._deferred||t.defer(),c=u.promise;return r.disableProgress||(r.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(r.__XHR=e,r.xhrFn&&r.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=r,i(s(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=r,i(s(e)))},!1))}}),a?r._chunkSize&&r._end&&!r._finished?(r._start=r._end,r._end+=r._chunkSize,l()):r.resumeSizeUrl?e.get(r.resumeSizeUrl).then(function(e){r._start=r.resumeSizeResponseReader?r.resumeSizeResponseReader(e.data):parseInt(""+(null==e.data.size?e.data:e.data.size)),r._chunkSize&&(r._end=r._start+r._chunkSize),l()},function(e){throw e}):r.resumeSize?r.resumeSize().then(function(e){r._start=e,l()},function(e){throw e}):(r._chunkSize&&(r._start=0,r._end=r._start+r._chunkSize),l()):l(),c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c},c.progress=function(e){return c.progressFunc=e,c.then(null,null,function(t){e(t)}),c},c.abort=c.pause=function(){return r.__XHR&&n(function(){r.__XHR.abort()}),c},c.xhr=function(e){return r.xhrFn=function(t){return function(){t&&t.apply(c,arguments),e.apply(c,arguments)
}}(r.xhrFn),c},o.promisesCount++,c["finally"](function(){o.promisesCount--}),c}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var a=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&a){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var r=t.slice(e._start,e._end||t.size);return r.name=t.name,r.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),r}return t}function s(t,r,i){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))t.append(i,r);else if(o.isFile(r)){var a=n(r,t),l=i.split(",");l[1]&&(a.ngfName=l[1].replace(/^\s+|\s+$/g,""),i=l[0]),e._fileKey=e._fileKey||i,t.append(i,a,a.ngfName||a.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+i;r.$$ngfCircularDetection=!0;try{for(var u in r)if(r.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var c=null==e.objectKey?"[i]":e.objectKey;r.length&&parseInt(u)>-1&&(c=null==e.arrayKey?c:e.arrayKey),s(t,r[u],i+c.replace(/[ik]/g,u))}}finally{delete r.$$ngfCircularDetection}}else t.append(i,r)}function l(){e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(""+e._chunkSize):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,r=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var i=t[n];e.formDataAppender?e.formDataAppender(r,n,i):s(r,i,n)}return r})}return t||(e=i(e)),e._isDigested||(e._isDigested=!0,l()),r(e)},this.http=function(t){return t=i(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=o.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(""+t._chunkSize):null,r(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var r=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),n=e.headers("content-type")||"image/WebP",i=new window.Blob([t],{type:n});r.resolve(i)},function(e){r.reject(e)}),r.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,r,i){function o(e,t,n){var i=[l.emptyPromise()];return angular.forEach(e,function(r,o){0===r.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:r})&&i.push(l.happyPromise(l.applyExifRotation(r),r).then(function(t){e.splice(o,1,t)}))}),r.all(i)}function a(e,t,n){var i=l.attrGetter("ngfResize",t,n);if(!i||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(!(i instanceof Function))return s(i,e,t,n);var o=r.defer();i(e).then(function(r){s(r,e,t,n).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}function s(e,t,n,i){function o(r,o){if(0===r.type.indexOf("image")){if(e.pattern&&!l.validatePattern(r,e.pattern))return;var s=l.resize(r,e.width,e.height,e.quality,e.type,e.ratio,e.centerCrop,function(e,t){return l.attrGetter("ngfResizeIf",n,i,{$width:e,$height:t,$file:r})},e.restoreExif!==!1);a.push(s),s.then(function(e){t.splice(o,1,e)},function(e){r.$error="resize",r.$errorParam=(e?(e.message?e.message:e)+": ":"")+(r&&r.name)})}}for(var a=[l.emptyPromise()],s=0;t.length>s;s++)o(t[s],s);return r.all(a)}var l=i;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,r,i){var o=this.getAttrWithDefaults(n,t);if(!r)return o;try{return i?e(o)(r,i):e(o)(r)}catch(a){if(t.search(/min|max|pattern/i))return o;throw a}},l.shouldUpdateOn=function(e,t,n){var r=l.attrGetter("ngModelOptions",t,n);return r&&r.updateOn?r.updateOn.split(" ").indexOf(e)>-1:!0},l.emptyPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=r.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var i=r.defer();return e.then(function(e){i.resolve(e)},function(e){t(function(){throw e}),i.resolve(n)}),i.promise},l.updateModel=function(n,r,i,s,u,c,d){function f(o,a,u,d,f){r.$$ngfPrevValidFiles=o,r.$$ngfPrevInvalidFiles=a;var h=o&&o.length?o[0]:null,p=a&&a.length?a[0]:null;n&&(l.applyModelValidation(n,o),n.$setViewValue(f?h:o)),s&&e(s)(i,{$files:o,$file:h,$newFiles:u,$duplicateFiles:d,$invalidFiles:a,$invalidFile:p,$event:c});var m=l.attrGetter("ngfModelInvalid",r);m&&t(function(){e(m).assign(i,f?p:a)}),t(function(){})}function h(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;y.length>n;n++)if(e(t,y[n]))return!0;for(n=0;b.length>n;n++)if(e(t,b[n]))return!0;return!1}if(u){v=[],$=[];for(var n=0;u.length>n;n++)t(u[n])?$.push(u[n]):v.push(u[n])}}function p(e){return angular.isArray(e)?e:[e]}function m(){w=[],x=[],angular.forEach(v,function(e){e.$error?x.push(e):w.push(e)})}function g(){function e(){t(function(){f(C?y.concat(w):w,C?b.concat(x):x,u,$,S)},_&&_.debounce?_.debounce.change||_.debounce:0)}a(E?v:w,r,i).then(function(){E?l.validate(v,y.length,n,r,i).then(function(){m(),e()}):e()},function(e){throw"Could not resize files "+e})}var v,y,b,$=[],x=[],w=[];y=r.$$ngfPrevValidFiles||[],b=r.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(y=p(n.$modelValue));var C=l.attrGetter("ngfKeep",r,i);v=(u||[]).slice(0),("distinct"===C||l.attrGetter("ngfKeepDistinct",r,i)===!0)&&h(r,i);var S=!C&&!l.attrGetter("ngfMultiple",r,i)&&!l.attrGetter("multiple",r);if(!C||v.length){l.attrGetter("ngfBeforeModelChange",r,i,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:v,$duplicateFiles:$,$event:c});var E=l.attrGetter("ngfValidateAfterResize",r,i),_=l.attrGetter("ngModelOptions",r,i);l.validate(v,y.length,n,r,i).then(function(){d?f(v,[],u,$,S):(_&&_.allowInvalid||E?w=v:m(),l.attrGetter("ngfFixOrientation",r,i)&&l.isExifSupported()?o(w,r,i).then(function(){g()}):g())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,r){function i(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=r.defaults.androidFixMinorVersion||4;return 4>parseInt(t[1])||parseInt(t[1])===n&&n>parseInt(t[2])}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function o(e,t,n,r,o,s,l,u){function c(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return b("ngfChange")||b("ngfSelect")}function f(t){if(u.shouldUpdateOn("change",n,e)){for(var i=t.__files_||t.target&&t.target.files,o=[],a=0;i.length>a;a++)o.push(i[a]);u.updateModel(r,n,e,d(),o.length?o:null,t)}}function h(e){if(t!==e)for(var n=0;t[0].attributes.length>n;n++){var r=t[0].attributes[n];"type"!==r.name&&"class"!==r.name&&"style"!==r.name&&((null==r.value||""===r.value)&&("required"===r.name&&(r.value="required"),"multiple"===r.name&&(r.value="multiple")),e.attr(r.name,"id"===r.name?"ngf-"+r.value:r.value))}}function p(){if(c())return t;var e=angular.element('<input type="file">');h(e);var n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),a.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function m(n){if(t.attr("disabled"))return!1;if(!b("ngfSelectDisabled",e)){var r=g(n);if(null!=r)return r;v(n);try{c()||document.body.contains(w[0])||(a.push({el:t,ref:w.parent()}),document.body.appendChild(w.parent()[0]),w.bind("change",f))}catch(o){}return i(navigator.userAgent)?setTimeout(function(){w[0].click()},0):w[0].click(),!1}}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if("touchstart"===e.type)return x=t?t[0].clientY:0,!0;if(e.stopPropagation(),e.preventDefault(),"touchend"===e.type){var n=t?t[0].clientY:0;if(Math.abs(n-x)>20)return!1}}function v(t){u.shouldUpdateOn("click",n,e)&&w.val()&&(w.val(null),u.updateModel(r,n,e,d(),null,t,!0))}function y(e){if(w&&!w.attr("__ngf_ie10_Fix_")){if(!w[0].parentNode)return w=null,void 0;e.preventDefault(),e.stopPropagation(),w.unbind("click");var t=w.clone();return w.replaceWith(t),w=t,w.attr("__ngf_ie10_Fix_","true"),w.bind("change",f),w.bind("click",y),w[0].click(),!1}w.removeAttr("__ngf_ie10_Fix_")}var b=function(e,t){return u.attrGetter(e,n,t)};u.registerModelChangeValidator(r,n,e);var $=[];$.push(e.$watch(b("ngfMultiple"),function(){w.attr("multiple",b("ngfMultiple",e))})),$.push(e.$watch(b("ngfCapture"),function(){w.attr("capture",b("ngfCapture",e))})),$.push(e.$watch(b("ngfAccept"),function(){w.attr("accept",b("ngfAccept",e))})),n.$observe("accept",function(){w.attr("accept",b("accept"))}),$.push(function(){n.$$observers&&delete n.$$observers.accept});var x=0,w=t;c()||(w=p()),w.bind("change",f),c()?t.bind("click",v):t.bind("click touchstart touchend",m),-1!==navigator.appVersion.indexOf("MSIE 10")&&w.bind("click",y),r&&r.$formatters.push(function(e){return(null==e||0===e.length)&&w.val()&&w.val(null),e}),e.$on("$destroy",function(){c()||w.parent().remove(),angular.forEach($,function(e){e()})}),s(function(){for(var e=0;a.length>e;e++){var t=a[e];document.body.contains(t.el[0])||(a.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,w,f)}var a=[];return{restrict:"AEC",require:"?ngModel",link:function(i,a,s,l){o(i,a,s,l,e,t,n,r)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,r,i,o,a,s,l){function u(e){var a=t.attrGetter("ngfNoObjectUrl",o,r);t.dataUrl(e,a)["finally"](function(){n(function(){var t=(a?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?i.css("background-image","url('"+(t||"")+"')"):i.attr("src",t),t?i.removeClass("ng-hide"):i.addClass("ng-hide")})})}n(function(){var n=r.$watch(o[a],function(n){var r=s;if("ngfThumbnail"===a&&(r||(r={width:i[0].clientWidth,height:i[0].clientHeight}),0===r.width&&window.getComputedStyle)){var o=getComputedStyle(i[0]);r={width:parseInt(o.width.slice(0,-2)),height:parseInt(o.height.slice(0,-2))}}return angular.isString(n)?(i.removeClass("ng-hide"),l?i.css("background-image","url('"+n+"')"):i.attr("src",n)):(!n||!n.type||0!==n.type.search(e(i[0]))||l&&0!==n.type.indexOf("image")?i.addClass("ng-hide"):r&&t.isResizeSupported()?t.resize(n,r.width,r.height,r.quality).then(function(e){u(e)},function(e){throw e}):u(n),void 0)});r.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var r=e;return r.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),i=0;return angular.forEach(e,function(n){r.dataUrl(n,!0)["finally"](function(){if(i++,i===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return r.dataUrl(e,!0)},r.dataUrl=function(e,i){if(!e)return r.emptyPromise(e,e);if(i&&null!=e.$ngfDataUrl||!i&&null!=e.$ngfBlobUrl)return r.emptyPromise(i?e.$ngfDataUrl:e.$ngfBlobUrl,e);var o=i?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(o)return o;var a=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||2e4>e.size)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||4e6>e.size)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!i){var o;try{o=n.createObjectURL(e)}catch(s){return t(function(){e.$ngfBlobUrl="",a.reject()}),void 0}t(function(){if(e.$ngfBlobUrl=o,o){a.resolve(o,e),r.blobUrls=r.blobUrls||[],r.blobUrlsTotalSize=r.blobUrlsTotalSize||0,r.blobUrls.push({url:o,size:e.size}),r.blobUrlsTotalSize+=e.size||0;for(var t=r.defaults.blobUrlsMaxMemory||268435456,i=r.defaults.blobUrlsMaxQueueSize||200;(r.blobUrlsTotalSize>t||r.blobUrls.length>i)&&r.blobUrls.length>1;){var s=r.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),r.blobUrlsTotalSize-=s.size}}})}else{var l=new FileReader;l.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,a.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},l.onerror=function(){t(function(){e.$ngfDataUrl="",a.reject()})},l.readAsDataURL(e)}}else t(function(){e[i?"$ngfDataUrl":"$ngfBlobUrl"]="",a.reject()})}),o=i?e.$$ngfDataUrlPromise=a.promise:e.$$ngfBlobUrlPromise=a.promise,o["finally"](function(){delete e[i?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),o},r}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfSrc",e.attrGetter("ngfResize",o,r),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){t(e,n,r,i,o,"ngfBackground",e.attrGetter("ngfResize",o,r),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(r,i,o){var a=e.attrGetter("ngfSize",o,r);t(e,n,r,i,o,"ngfThumbnail",a,e.attrGetter("ngfAsBackground",o,r))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,r,i){if(angular.isString(n))return t.trustAsResourceUrl(n);var o=n&&((r?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!o?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,r)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&o?i?t.trustAsResourceUrl(o):o:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function r(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var i=e.split(",");if(i.length>1)for(var o=0;i.length>o;o++){var a=r(i[o]);a.regexp?(t+="("+a.regexp+")",i.length-1>o&&(t+="|")):n=n.concat(a.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+r(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function i(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var o=e;return o.validatePattern=function(e,t){if(!t)return!0;var n=r(t),i=!0;if(n.regexp&&n.regexp.length){var o=RegExp(n.regexp,"i");i=null!=e.type&&o.test(e.type)||null!=e.name&&o.test(e.name)}for(var a=n.excludes.length;a--;){var s=RegExp(n.excludes[a],"i");i=i&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return i},o.ratioToFloat=function(e){var t=""+e,n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},o.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(r){e.$dirty&&(r&&!angular.isArray(r)&&(r=[r]),o.validate(r,0,e,t,n).then(function(){o.applyModelValidation(e,r)}))})},o.applyModelValidation=function(e,t){i(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},o.getValidationAttr=function(e,t,n,r,i){var a="ngf"+n[0].toUpperCase()+n.substr(1),s=o.attrGetter(a,e,t,{$file:i});if(null==s&&(s=o.attrGetter("ngfValidate",e,t,{$file:i}))){var l=(r||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},o.validate=function(e,n,r,i,a){function s(t,n,s){if(e){for(var l=e.length,u=null;l--;){var c=e[l];if(c){var d=o.getValidationAttr(i,a,t,n,c);null!=d&&(s(c,d,l)||(c.$error=t,(c.$errorMessages=c.$errorMessages||{})[t]=!0,c.$errorParam=d,e.splice(l,1),u=!1))}}null!==u&&r.$ngfValidations.push({name:t,valid:u})}}function l(n,s,l,c,d){function f(e,t,r){null!=r?c(t,r).then(function(i){d(i,r)?e.resolve():(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=r,e.reject())},function(){u("ngfValidateForce",{$file:t})?(t.$error=n,(t.$errorMessages=t.$errorMessages||{})[n]=!0,t.$errorParam=r,e.reject()):e.resolve()}):e.resolve()}var h=[o.emptyPromise()];return e?(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var r=t.defer();return h.push(r.promise),!l||null!=e.type&&0===e.type.search(l)?("dimensions"===n&&null!=o.attrGetter("ngfDimensions",i)?o.imageDimensions(e).then(function(t){f(r,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){r.reject()}):"duration"===n&&null!=o.attrGetter("ngfDuration",i)?o.mediaDuration(e).then(function(t){f(r,e,u("ngfDuration",{$file:e,$duration:t}))},function(){r.reject()}):f(r,e,o.getValidationAttr(i,a,n,s,e)),void 0):(r.resolve(),void 0)}),t.all(h).then(function(){r.$ngfValidations.push({name:n,valid:!0})},function(){r.$ngfValidations.push({name:n,valid:!1})})):void 0}r=r||{},r.$ngfValidations=r.$ngfValidations||[],angular.forEach(r.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return o.attrGetter(e,i,a,t)};if(null==e||0===e.length)return o.emptyPromise(r);e=void 0===e.length?[e]:e.slice(0),s("maxFiles",null,function(e,t,r){return t>n+r}),s("pattern",null,o.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=o.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=o.translateScalars(t)});var c=0;if(s("maxTotalSize",null,function(t,n){return c+=t.size,c>o.translateScalars(n)?(e.splice(0,e.length),!1):!0}),s("validateFn",null,function(e,t){return t===!0||null===t||""===t}),!e.length)return o.emptyPromise(r,r.$ngfValidations);var d=t.defer(),f=[];return f.push(o.happyPromise(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return t>=e.height}))),f.push(o.happyPromise(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t}))),f.push(o.happyPromise(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return t>=e.width}))),f.push(o.happyPromise(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t}))),f.push(o.happyPromise(l("dimensions",null,/image/,function(e,t){return o.emptyPromise(t)},function(e){return e}))),f.push(o.happyPromise(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=(""+t).split(","),r=!1,i=0;n.length>i;i++)1e-4>Math.abs(e.width/e.height-o.ratioToFloat(n[i]))&&(r=!0);return r}))),f.push(o.happyPromise(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return 1e-4>e.width/e.height-o.ratioToFloat(t)}))),f.push(o.happyPromise(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-o.ratioToFloat(t)>-1e-4}))),f.push(o.happyPromise(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return o.translateScalars(t)>=e}))),f.push(o.happyPromise(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=o.translateScalars(t)}))),f.push(o.happyPromise(l("duration",null,/audio|video/,function(e,t){return o.emptyPromise(t)},function(e){return e}))),f.push(o.happyPromise(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return e===!0||null===e||""===e}))),t.all(f).then(function(){d.resolve(r,r.$ngfValidations)})},o.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var r=t.defer();return n(function(){r.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),r.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("image")?(i.reject("not image"),void 0):(o.dataUrl(e).then(function(t){function r(){var t=s[0].clientWidth,n=s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,i.resolve({width:t,height:n})}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].clientWidth?r():l>10?o():a())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",r),s.on("error",o);var l=0;a(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){i.reject("load error")}),void 0)}),e.$ngfDimensionPromise=i.promise,e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},o.mediaDuration=function(e){if(e.$ngfDuration){var r=t.defer();return n(function(){r.resolve(e.$ngfDuration)}),r.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var i=t.defer();return n(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?(i.reject("not media"),void 0):(o.dataUrl(e).then(function(t){function r(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),i.resolve(t)}function o(){s.remove(),i.reject("load error")}function a(){n(function(){s[0].parentNode&&(s[0].duration?r():l>10?o():a())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",r),s.on("error",o);var l=0;a(),angular.element(document.body).append(s)},function(){i.reject("load error")}),void 0)}),e.$ngfDurationPromise=i.promise,e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},o}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,r=function(e,t,n,r,i){var o=i?Math.max(n/e,r/t):Math.min(n/e,r/t);return{width:e*o,height:t*o,marginX:e*o-n,marginY:t*o-r}},i=function(e,i,o,a,s,l,u,c){var d=t.defer(),f=document.createElement("canvas"),h=document.createElement("img");return h.onload=function(){if(null!=c&&c(h.width,h.height)===!1)return d.reject("resizeIf"),void 0;try{if(l){var e=n.ratioToFloat(l),t=h.width/h.height;e>t?(i=h.width,o=i/e):(o=h.height,i=o*e)}i||(i=h.width),o||(o=h.height);var p=r(h.width,h.height,i,o,u);f.width=Math.min(p.width,i),f.height=Math.min(p.height,o);var m=f.getContext("2d");m.drawImage(h,Math.min(0,-p.marginX/2),Math.min(0,-p.marginY/2),p.width,p.height),d.resolve(f.toDataURL(s||"image/WebP",a||.934))}catch(g){d.reject(g)}},h.onerror=function(){d.reject()},h.src=e,d.promise};return n.dataUrltoBlob=function(e,t,n){for(var r=e.split(","),i=r[0].match(/:(.*?);/)[1],o=atob(r[1]),a=o.length,s=new Uint8Array(a);a--;)s[a]=o.charCodeAt(a);var l=new window.Blob([s],{type:i});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,r,o,a,s,l,u,c,d){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var f=t.defer();return n.dataUrl(e,!0).then(function(t){i(t,r,o,a,s||e.type,l,u,c).then(function(r){if("image/jpeg"===e.type&&d)try{r=n.restoreExif(t,r)}catch(i){setTimeout(function(){throw i},1)}try{var o=n.dataUrltoBlob(r,e.name,e.size);f.resolve(o)}catch(i){f.reject(i)}},function(t){"resizeIf"===t&&f.resolve(e),f.reject(t)})},function(e){f.reject(e)}),f.promise},n}]),function(){function e(e,n,r,i,o,a,s,l,u,c){function d(){return n.attr("disabled")||v("ngfDropDisabled",e)}function f(t,n){l.updateModel(i,r,e,v("ngfChange")||v("ngfDrop"),t,n)}function h(t,n){if(!l.shouldUpdateOn(t,r,e)||!n)return l.rejectPromise([]);var i=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){i.push(n)});var o=[],a=[];if(i.length){angular.forEach(i,function(e){o.push(l.urlToBlob(e).then(function(e){a.push(e)}))});var s=c.defer();return c.all(o).then(function(){s.resolve(a)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function p(e,t,n,r){var i=v("ngfDragOverClass",e,{$event:n}),o="dragover";if(angular.isString(i))o=i;else if(i&&(i.delay&&(x=i.delay),i.accept||i.reject)){var a=n.dataTransfer.items;if(null!=a&&a.length)for(var s=i.pattern||v("ngfPattern",e,{$event:n}),u=a.length;u--;){if(!l.validatePattern(a[u],s)){o=i.reject;break}o=i.accept}else o=i.accept}r(o)}function m(t,n,i,o){function a(e,t){var n=c.defer();if(null!=e)if(e.isDirectory){var r=[l.emptyPromise()];if(f){var i={type:"directory"};i.name=i.path=(t||"")+e.name+e.name,h.push(i)}var o=e.createReader(),s=[],m=function(){o.readEntries(function(i){try{i.length?(s=s.concat(Array.prototype.slice.call(i||[],0)),m()):(angular.forEach(s.slice(0),function(n){u>=h.length&&d>=p&&r.push(a(n,(t?t:"")+e.name+"/"))}),c.all(r).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(o){n.reject(o)}},function(e){n.reject(e)})};m()}else e.file(function(e){try{e.path=(t?t:"")+e.name,f&&(e=l.rename(e,e.path)),h.push(e),p+=e.size,n.resolve()}catch(r){n.reject(r)}},function(e){n.reject(e)});return n.promise}var u=l.getValidationAttr(r,e,"maxFiles")||Number.MAX_VALUE,d=l.getValidationAttr(r,e,"maxTotalSize")||Number.MAX_VALUE,f=v("ngfIncludeDir",e),h=[],p=0,m=[l.emptyPromise()];if(t&&t.length>0&&"file"!==s.protocol())for(var g=0;t.length>g;g++){if(t[g].webkitGetAsEntry&&t[g].webkitGetAsEntry()&&t[g].webkitGetAsEntry().isDirectory){var y=t[g].webkitGetAsEntry();if(y.isDirectory&&!i)continue;null!=y&&m.push(a(y))}else{var b=t[g].getAsFile();null!=b&&(h.push(b),p+=b.size)}if(h.length>u||p>d||!o&&h.length>0)break}else if(null!=n)for(var $=0;n.length>$;$++){var x=n.item($);if((x.type||x.size>0)&&(h.push(x),p+=x.size),h.length>u||p>d||!o&&h.length>0)break}var w=c.defer();return c.all(m).then(function(){if(o||f||!h.length)w.resolve(h);else{for(var e=0;h[e]&&"directory"===h[e].type;)e++;w.resolve([h[e]])}},function(e){w.reject(e)}),w.promise}var g=t(),v=function(e,t,n){return l.attrGetter(e,r,t,n)};if(v("dropAvailable")&&a(function(){e[v("dropAvailable")]?e[v("dropAvailable")].value=g:e[v("dropAvailable")]=g}),!g)return v("ngfHideOnDropNotAvailable",e)===!0&&n.css("display","none"),void 0;null==v("ngfSelect")&&l.registerModelChangeValidator(i,r,e);var y,b=null,$=o(v("ngfStopPropagation")),x=1;n[0].addEventListener("dragover",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){if(t.preventDefault(),$(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var i=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy"}a.cancel(b),y||(y="C",p(e,r,t,function(r){y=r,n.addClass(y),v("ngfDrag",e,{$isDragging:!0,$class:y,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),$(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!d()&&l.shouldUpdateOn("drop",r,e)&&(t.preventDefault(),$(e)&&t.stopPropagation(),b=a(function(){y&&n.removeClass(y),y=null,v("ngfDrag",e,{$isDragging:!1,$event:t})},x||100))},!1),n[0].addEventListener("drop",function(t){if(!d()&&l.shouldUpdateOn("drop",r,e)){t.preventDefault(),$(e)&&t.stopPropagation(),y&&n.removeClass(y),y=null;var i,o=t.dataTransfer.items;try{i=t.dataTransfer&&t.dataTransfer.getData&&t.dataTransfer.getData("text/html")}catch(a){}m(o,t.dataTransfer.files,v("ngfAllowDir",e)!==!1,v("multiple")||v("ngfMultiple",e)).then(function(e){e.length?f(e,t):h("dropUrl",i).then(function(e){f(e,t)})})}},!1),n[0].addEventListener("paste",function(t){if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!d()&&l.shouldUpdateOn("paste",r,e)){var n=[],i=t.clipboardData||t.originalEvent.clipboardData;if(i&&i.items)for(var o=0;i.items.length>o;o++)-1!==i.items[o].type.indexOf("image")&&n.push(i.items[o].getAsFile());n.length?f(n,t):h("pasteUrl",i).then(function(e){f(e,t)})}},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&v("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$location","Upload","$http","$q",function(t,n,r,i,o,a){return{restrict:"AEC",require:"?ngModel",link:function(s,l,u,c){e(s,l,u,c,t,n,r,i,o,a)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,r){return function(i,o,a){if(t()){var s=e(r.attrGetter("ngfDropAvailable",a));n(function(){s(i),s.assign&&s.assign(i,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,r){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,r);case 4:return e.transform(1,0,0,-1,0,r);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,r,0);case 7:return e.transform(0,-1,-1,0,r,n);case 8:return e.transform(0,-1,1,0,0,n)}}function r(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;r>i;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}var i=e;return i.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&i.isResizeSupported()},i.readOrientation=function(e){var n=t.defer(),r=new FileReader,i=e.slice?e.slice(0,65536):e;return r.readAsArrayBuffer(i),r.onerror=function(e){return n.reject(e)},r.onload=function(e){var t={orientation:1},r=new DataView(this.result);if(65496!==r.getUint16(0,!1))return n.resolve(t);for(var i=r.byteLength,o=2;i>o;){var a=r.getUint16(o,!1);if(o+=2,65505===a){if(1165519206!==r.getUint32(o+=2,!1))return n.resolve(t);var s=18761===r.getUint16(o+=6,!1);o+=r.getUint32(o+4,s);var l=r.getUint16(o,s);o+=2;for(var u=0;l>u;u++)if(274===r.getUint16(o+12*u,s)){var c=r.getUint16(o+12*u+8,s);return c>=2&&8>=c&&(r.setUint16(o+12*u+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=c,n.resolve(t)}}else{if(65280!==(65280&a))break;o+=r.getUint16(o,!1)}}return n.resolve(t)},n.promise},i.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return i.emptyPromise(e);var o=t.defer();return i.readOrientation(e).then(function(t){return 2>t.orientation||t.orientation>8?o.resolve(e):(i.dataUrl(e,!0).then(function(a){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var a=s.getContext("2d");n(a,t.orientation,l.width,l.height),a.drawImage(l,0,0);
var u=s.toDataURL(e.type||"image/WebP",.934);u=i.restoreExif(r(t.fixedArrayBuffer),u);var c=i.dataUrltoBlob(u,e.name);o.resolve(c)}catch(d){return o.reject(d)}},l.onerror=function(){o.reject()},l.src=a},function(e){o.reject(e)}),void 0)},function(e){o.reject(e)}),o.promise},i.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,r,i,o,a="",s="",l="",u=0;do t=e[u++],n=e[u++],s=e[u++],r=t>>2,i=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),a=a+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l),t=n=s="",r=i=o=l="";while(e.length>u);return a},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),r=this.slice2Segments(n),i=this.exifManipulation(t,r);return"data:image/jpeg;base64,"+this.encode64(i)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),r=this.insertExif(e,n);return new Uint8Array(r)},n.getExifArray=function(e){for(var t,n=0;e.length>n;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),r=this.decode64(n),i=r.indexOf(255,3),o=r.slice(0,i),a=r.slice(i),s=o;return s=s.concat(t),s=s.concat(a)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var r=256*e[t+2]+e[t+3],i=t+r+2,o=e.slice(t,i);n.push(o),t=i}if(t>e.length)break}return n},n.decode64=function(e){var t,n,r,i,o,a="",s="",l=0,u=[],c=/[^A-Za-z0-9\+\/\=]/g;c.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do r=this.KEY_STR.indexOf(e.charAt(l++)),i=this.KEY_STR.indexOf(e.charAt(l++)),o=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=r<<2|i>>4,n=(15&i)<<4|o>>2,a=(3&o)<<6|s,u.push(t),64!==o&&u.push(n),64!==s&&u.push(a),t=n=a="",r=i=o=s="";while(e.length>l);return u},n.restore(e,t)},i}]),function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(r){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,r){e.__listeners[n]=r,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,r,i){n(this),this.__url=r;try{e.apply(this,[t,r,i])}catch(o){o.message.indexOf("Access is denied")>-1&&(this.__origError=o,e.apply(this,[t,"_fix_for_ie_crossdomain__",i]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,r){if("__setXHR_"===t){n(this);var i=r(this);i instanceof Function&&i(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=r,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var r=arguments[0],i={url:n.__url,jsonp:!1,cache:!0,complete:function(e,r){e&&angular.isString(e)&&-1!==e.indexOf("#2174")&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==r.status&&t(n,"status",function(){return 0===r.status&&e&&"abort"!==e?500:r.status}),void 0!==r.statusText&&t(n,"statusText",function(){return r.statusText}),t(n,"readyState",function(){return 4}),void 0!==r.response&&t(n,"response",function(){return r.response});var i=r.responseText||(e&&0===r.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return i}),t(n,"response",function(){return i}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=r,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};i.data={},i.files={};for(var o=0;r.data.length>o;o++){var a=r.data[o];null!=a.val&&null!=a.val.name&&null!=a.val.size&&null!=a.val.type?i.files[a.key]=a.val:i.data[a.key]=a.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(i)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var r,i,o,a,s,l=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)r=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)i=window.FileAPI.jsPath;else for(o=0;u.length>o;o++)if(s=u[o].src,a=s.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),a>-1){i=s.substring(0,a+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=i),l.setAttribute("src",r||i+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(l)}FileAPI.ngfFixIE=function(r,i,o){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var a=function(){var t=i.parent();r.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(i.attr("__ngf_flash_")||(i.unbind("change"),i.unbind("click"),i.bind("change",function(e){s.apply(this,[e]),o.apply(this,[e])}),i.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(r)||(t.css("position","absolute").css("top",n(r[0]).top+"px").css("left",n(r[0]).left+"px").css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",r.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),i.css("width",r[0].offsetWidth+"px").css("height",r[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};r.bind("mouseenter",a);var s=function(e){for(var t=FileAPI.getFiles(e),n=0;t.length>n;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var r=0;n.length>r;r++)n[r].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var r={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(r.target.result=n.result),r},r=function(r){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",r)));var i;"load"===r.type?(e.onloadend&&e.onloadend(n("loadend",r)),i=n("load",r),e.onload&&e.onload(i),e.dispatchEvent(i)):"progress"===r.type?(i=n("progress",r),e.onprogress&&e.onprogress(i),e.dispatchEvent(i)):(i=n("error",r),e.onerror&&e.onerror(i),e.dispatchEvent(i))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,r)},this.readAsText=function(e){FileAPI.readAsText(e,r)}}),function(e,t){function n(e,t){for(var n,r=[],o=0;e.length>o;++o){if(n=a[e[o]]||i(e[o]),!n)throw"module definition dependecy not found: "+e[o];r.push(n)}t.apply(null,r)}function r(e,r,i){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(r===t)throw"invalid module definition, dependencies must be specified";if(i===t)throw"invalid module definition, definition function must be specified";n(r,function(){a[e]=i.apply(null,arguments)})}function i(t){for(var n=e,r=t.split(/[.\/]/),i=0;r.length>i;++i){if(!n[r[i]])return;n=n[r[i]]}return n}function o(n){for(var r=0;n.length>r;r++){for(var i=e,o=n[r],s=o.split(/[.\/]/),l=0;s.length-1>l;++l)i[s[l]]===t&&(i[s[l]]={}),i=i[s[l]];i[s[s.length-1]]=a[o]}}var a={};r("tinymce/dom/EventUtils",[],function(){function e(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function n(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function r(e,n){function r(){return!1}function i(){return!0}var o,a,u=n||{};for(o in e)l[o]||(u[o]=e[o]);if(u.target||(u.target=u.srcElement||document),e&&s.test(e.type)&&e.pageX===a&&e.clientX!==a){var c=u.target.ownerDocument||document,d=c.documentElement,f=c.body;u.pageX=e.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),u.pageY=e.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0)}return u.preventDefault=function(){u.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},u.stopPropagation=function(){u.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=i,u.stopPropagation()},u.isDefaultPrevented||(u.isDefaultPrevented=r,u.isPropagationStopped=r,u.isImmediatePropagationStopped=r),u.metaKey===t&&(u.metaKey=!1),u}function i(r,i,o){function a(){o.domLoaded||(o.domLoaded=!0,i(c))}function s(){("complete"===u.readyState||"interactive"===u.readyState&&u.body)&&(n(u,"readystatechange",s),a())}function l(){try{u.documentElement.doScroll("left")}catch(e){return setTimeout(l,0),t}a()}var u=r.document,c={type:"ready"};return o.domLoaded?(i(c),t):(u.addEventListener?"complete"===u.readyState?a():e(r,"DOMContentLoaded",a):(e(u,"readystatechange",s),u.documentElement.doScroll&&r.self===r.top&&l()),e(r,"load",a),t)}function o(){function t(e,t){var n,r,i,o,a=f[t];if(n=a&&a[e.type])for(r=0,i=n.length;i>r;r++)if(o=n[r],o&&o.func.call(o.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}var o,s,l,u,c,d=this,f={};s=a+(+new Date).toString(32),u="onmouseenter"in document.documentElement,l="onfocusin"in document.documentElement,c={mouseenter:"mouseover",mouseleave:"mouseout"},o=1,d.domLoaded=!1,d.events=f,d.bind=function(n,a,h,p){function m(e){t(r(e||C.event),g)}var g,v,y,b,$,x,w,C=window;if(n&&3!==n.nodeType&&8!==n.nodeType){for(n[s]?g=n[s]:(g=o++,n[s]=g,f[g]={}),p=p||n,a=a.split(" "),y=a.length;y--;)b=a[y],x=m,$=w=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==n.readyState?h.call(p,r({type:b})):(u||($=c[b],$&&(x=function(e){var n,i;if(n=e.currentTarget,i=e.relatedTarget,i&&n.contains)i=n.contains(i);else for(;i&&i!==n;)i=i.parentNode;i||(e=r(e||C.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=n,t(e,g))})),l||"focusin"!==b&&"focusout"!==b||(w=!0,$="focusin"===b?"focus":"blur",x=function(e){e=r(e||C.event),e.type="focus"===e.type?"focusin":"focusout",t(e,g)}),v=f[g][b],v?"ready"===b&&d.domLoaded?h({type:b}):v.push({func:h,scope:p}):(f[g][b]=v=[{func:h,scope:p}],v.fakeName=$,v.capture=w,v.nativeHandler=x,"ready"===b?i(n,x,d):e(n,$||b,x,w)));return n=v=0,h}},d.unbind=function(e,t,r){var i,o,a,l,u,c;if(!e||3===e.nodeType||8===e.nodeType)return d;if(i=e[s]){if(c=f[i],t){for(t=t.split(" "),a=t.length;a--;)if(u=t[a],o=c[u]){if(r)for(l=o.length;l--;)if(o[l].func===r){var h=o.nativeHandler,p=o.fakeName,m=o.capture;o=o.slice(0,l).concat(o.slice(l+1)),o.nativeHandler=h,o.fakeName=p,o.capture=m,c[u]=o}r&&0!==o.length||(delete c[u],n(e,o.fakeName||u,o.nativeHandler,o.capture))}}else{for(u in c)o=c[u],n(e,o.fakeName||u,o.nativeHandler,o.capture);c={}}for(u in c)return d;delete f[i];try{delete e[s]}catch(g){e[s]=null}}return d},d.fire=function(e,n,i){var o;if(!e||3===e.nodeType||8===e.nodeType)return d;i=r(null,i),i.type=n,i.target=e;do o=e[s],o&&t(i,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return d},d.clean=function(e){var t,n,r=d.unbind;if(!e||3===e.nodeType||8===e.nodeType)return d;if(e[s]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),n=e.getElementsByTagName("*"),t=n.length;t--;)e=n[t],e[s]&&r(e);return d},d.destroy=function(){f={}},d.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var a="mce-data-",s=/^(?:mouse|contextmenu)|click/,l={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return o.Event=new o,o.Event.bind(window,"ready",function(){}),o}),r("tinymce/dom/Sizzle",[],function(){function e(e,t,n,r){var i,o,a,s,l,u,d,h,p,m;if((t?t.ownerDocument||t:F)!==D&&R(t),t=t||D,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(P&&!r){if(i=vt.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&L(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&x.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!O||!O.test(e))){if(h=d=H,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=E(e),(d=t.getAttribute("id"))?h=d.replace(bt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+f(u[l]);p=yt.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return k(e.replace(st,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[H]=!0,e}function i(e){var t=D.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(e){return e&&typeof e.getElementsByTagName!==G&&e}function d(){}function f(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=j++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,l,u=[U,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(l=t[H]||(t[H]={}),(s=l[r])&&s[0]===U&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function g(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,i,o,a){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,d,f=[],h=[],p=a.length,v=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?v:g(v,f,e,s,l),b=n?o||(r?e:p||i)?[]:a:y;if(n&&n(y,b,s,l),i)for(u=g(b,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[h[c]]=!(y[h[c]]=d));if(r){if(o||e){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?tt.call(r,d):f[c])>-1&&(r[u]=!(a[u]=d))}}else b=g(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Z.apply(a,b)})}function y(e){for(var t,n,r,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return tt.call(t,e)>-1},a,!0),c=[function(e,n,r){return!o&&(r||n!==T)||((t=n).nodeType?l(e,n,r):u(e,n,r))}];i>s;s++)if(n=w.relative[e[s].type])c=[h(p(c),n)];else{if(n=w.filter[e[s].type].apply(null,e[s].matches),n[H]){for(r=++s;i>r&&!w.relative[e[r].type];r++);return v(s>1&&p(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(st,"$1"),n,r>s&&y(e.slice(s,r)),i>r&&y(e=e.slice(r)),i>r&&f(e))}c.push(n)}return p(c)}function b(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,d,f,h=0,p="0",m=r&&[],v=[],y=T,b=r||o&&w.find.TAG("*",u),$=U+=null==y?1:Math.random()||.1,x=b.length;for(u&&(T=a!==D&&a);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(d=0;f=t[d++];)if(f(c,a,s)){l.push(c);break}u&&(U=$)}i&&((c=!f&&c)&&h--,r&&m.push(c))}if(h+=p,i&&p!==h){for(d=0;f=n[d++];)f(m,v,a,s);if(r){if(h>0)for(;p--;)m[p]||v[p]||(v[p]=J.call(l));v=g(v)}Z.apply(l,v),u&&!r&&v.length>0&&h+n.length>1&&e.uniqueSort(l)}return u&&(U=$,T=y),m};return i?r(a):a}var $,x,w,C,S,E,_,k,T,A,N,R,D,M,P,O,B,I,L,H="sizzle"+-new Date,F=window.document,U=0,j=0,z=n(),V=n(),q=n(),W=function(e,t){return e===t&&(N=!0),0},G=typeof t,X=1<<31,K={}.hasOwnProperty,Y=[],J=Y.pop,Q=Y.push,Z=Y.push,et=Y.slice,tt=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+rt+"*("+it+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+rt+"*\\]",at=":("+it+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|"+".*"+")\\)|)",st=RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),lt=RegExp("^"+rt+"*,"+rt+"*"),ut=RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ct=RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),dt=RegExp(at),ft=RegExp("^"+it+"$"),ht={ID:RegExp("^#("+it+")"),CLASS:RegExp("^\\.("+it+")"),TAG:RegExp("^("+it+"|[*])"),ATTR:RegExp("^"+ot),PSEUDO:RegExp("^"+at),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:RegExp("^(?:"+nt+")$","i"),needsContext:RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,$t=RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),xt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{Z.apply(Y=et.call(F.childNodes),F.childNodes),Y[F.childNodes.length].nodeType}catch(wt){Z={apply:Y.length?function(e,t){Q.apply(e,et.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}x=e.support={},S=e.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},R=e.setDocument=function(e){var n,r=e?e.ownerDocument||e:F,o=r.defaultView;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,M=r.documentElement,P=!S(r),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){R()},!1):o.attachEvent&&o.attachEvent("onunload",function(){R()})),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(r.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=gt.test(r.getElementsByClassName),x.getById=i(function(e){return M.appendChild(e).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),x.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==G&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace($t,xt);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace($t,xt);return function(e){var n=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,n){return typeof n.getElementsByTagName!==G?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=x.getElementsByClassName&&function(e,n){return P?n.getElementsByClassName(e):t},B=[],O=[],(x.qsa=gt.test(r.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||O.push("\\["+rt+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||O.push(":checked")}),i(function(e){var t=r.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&O.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=gt.test(I=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(e){x.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),B.push("!=",at)}),O=O.length&&RegExp(O.join("|")),B=B.length&&RegExp(B.join("|")),n=gt.test(M.compareDocumentPosition),L=n||gt.test(M.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=n?function(e,t){if(e===t)return N=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===F&&L(F,e)?-1:t===r||t.ownerDocument===F&&L(F,t)?1:A?tt.call(A,e)-tt.call(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return N=!0,0;var n,i=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===r?-1:t===r?1:o?-1:s?1:A?tt.call(A,e)-tt.call(A,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===F?-1:u[i]===F?1:0},r):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&R(t),n=n.replace(ct,"='$1']"),!(!x.matchesSelector||!P||B&&B.test(n)||O&&O.test(n)))try{var r=I.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,D,null,[t]).length>0},e.contains=function(e,t){return(e.ownerDocument||e)!==D&&R(e),L(e,t)},e.attr=function(e,n){(e.ownerDocument||e)!==D&&R(e);var r=w.attrHandle[n.toLowerCase()],i=r&&K.call(w.attrHandle,n.toLowerCase())?r(e,n,!P):t;return i!==t?i:x.attributes||!P?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},e.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},e.uniqueSort=function(e){var t,n=[],r=0,i=0;if(N=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(W),N){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},C=e.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=C(t);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($t,xt),e[3]=(e[3]||e[4]||e[5]||"").replace($t,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&dt.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace($t,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(c=g[H]||(g[H]={}),u=c[e]||[],h=u[0]===U&&u[1],f=u[0]===U&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[U,h,f];break}}else if(y&&(u=(t[H]||(t[H]={}))[e])&&u[0]===U)f=u[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(y&&((d[H]||(d[H]={}))[e]=[U,f]),d!==t)););return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=tt.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=_(e.replace(st,"$1"));return i[H]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(e){return e=e.replace($t,xt),function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:r(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace($t,xt).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===M},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(6>e.nodeType)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return mt.test(e.nodeName)},input:function(e){return pt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=0>n?n+t:n;t>++r;)e.push(r);return e})}},w.pseudos.nth=w.pseudos.eq;for($ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[$]=s($);for($ in{submit:!0,reset:!0})w.pseudos[$]=l($);return d.prototype=w.filters=w.pseudos,w.setFilters=new d,E=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=V[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=w.preFilter;s;){(!r||(i=lt.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ut.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(st," ")}),s=s.slice(r.length));for(a in w.filter)!(i=ht[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):V(t,l).slice(0)},_=e.compile=function(e,t){var n,r=[],i=[],o=q[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)o=y(t[n]),o[H]?r.push(o):i.push(o);o=q(e,b(i,r)),o.selector=e}return o},k=e.select=function(e,t,n,r){var i,o,a,s,l,u="function"==typeof e&&e,d=!r&&E(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&P&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace($t,xt),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=ht.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace($t,xt),yt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&f(o),!e)return Z.apply(n,r),n;break}}return(u||_(e,d))(r,t,!P,n,yt.test(e)&&c(t.parentNode)||t),n},x.sortStable=H.split("").sort(W).join("")===H,x.detectDuplicates=!!N,R(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,n,r){return r?t:e.getAttribute(n,"type"===n.toLowerCase()?1:2)
}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,n,r){return r||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,n,r){var i;return r?t:e[n]===!0?n.toLowerCase():(i=e.getAttributeNode(n))&&i.specified?i.value:null}),e}),r("tinymce/Env",[],function(){var e,t,n,r,i,o,a,s,l,u,c=navigator,d=c.userAgent;e=window.opera&&window.opera.buildNumber,l=/Android/.test(d),t=/WebKit/.test(d),n=!t&&!e&&/MSIE/gi.test(d)&&/Explorer/gi.test(c.appName),n=n&&/MSIE (\w+)\./.exec(d)[1],r=-1==d.indexOf("Trident/")||-1==d.indexOf("rv:")&&-1==c.appName.indexOf("Netscape")?!1:11,i=!document.msElementsFromPoint||n||r?!1:12,n=n||r||i,o=!t&&!r&&/Gecko/.test(d),a=-1!=d.indexOf("Mac"),s=/(iPad|iPhone)/.test(d),u="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,i&&(t=!1);var f=!s||u||d.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:t,ie:n,gecko:o,mac:a,iOS:s,android:l,contentEditable:f,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n&&!i?document.documentMode||7:10,fileApi:u}}),r("tinymce/util/Tools",["tinymce/Env"],function(e){function n(e){return null===e||e===t?"":(""+e).replace(y,"")}function r(e,n){return n?"array"==n&&b(e)?!0:typeof e==n:e!==t}function i(e){var t,n,r=e;if(!b(e))for(r=[],t=0,n=e.length;n>t;t++)r[t]=e[t];return r}function o(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n}function a(e,n,r){var i,o;if(!e)return 0;if(r=r||e,e.length!==t){for(i=0,o=e.length;o>i;i++)if(n.call(r,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&n.call(r,e[i],i,e)===!1)return 0;return 1}function s(e,t){var n=[];return a(e,function(e){n.push(t(e))}),n}function l(e,t){var n=[];return a(e,function(e){(!t||t(e))&&n.push(e)}),n}function u(e,n,r){var i,o,a,s,l,u=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),a=e[3].match(/(^|\.)(\w+)$/i)[2],o=u.createNS(e[3].replace(/\.\w+$/,""),r),!o[a]){if("static"==e[2])return o[a]=n,this.onCreate&&this.onCreate(e[2],e[3],o[a]),t;n[a]||(n[a]=function(){},c=1),o[a]=n[a],u.extend(o[a].prototype,n),e[5]&&(i=u.resolve(e[5]).prototype,s=e[5].match(/\.(\w+)$/i)[1],l=o[a],o[a]=c?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],l.apply(this,arguments)},o[a].prototype[a]=o[a],u.each(i,function(e,t){o[a].prototype[t]=i[t]}),u.each(n,function(e,t){i[t]?o[a].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=a&&(o[a].prototype[t]=e)})),u.each(n["static"],function(e,t){o[a][t]=e})}}function c(e,t){var n,r;if(e)for(n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1}function d(e,n){var r,i,o,a,s=arguments;for(r=1,i=s.length;i>r;r++){n=s[r];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==t&&(e[o]=a))}return e}function f(e,n,r,i){i=i||this,e&&(r&&(e=e[r]),a(e,function(e,o){return n.call(i,e,o,r)===!1?!1:(f(e,n,r,i),t)}))}function h(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;e.length>n;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t}function p(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;r>n&&(t=t[e[n]],t);n++);return t}function m(e,t){return!e||r(e,"array")?e:s(e.split(t||","),n)}function g(e){return function(){return e}}function v(t){var n=e.cacheSuffix;return n&&(t+=(-1===t.indexOf("?")?"?":"&")+n),t}var y=/^\s*|\s*$/g,b=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{trim:n,isArray:b,is:r,toArray:i,makeMap:o,each:a,map:s,grep:l,filter:l,inArray:c,extend:d,create:u,walk:f,createNS:h,resolve:p,explode:m,constant:g,_addCacheSuffix:v}}),r("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(e,n,r,i){function o(e){return e!==t}function a(e){return"string"==typeof e}function s(e){return e&&e==e.window}function l(e,t){var n,r,i;for(t=t||C,i=t.createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n}function u(e,t,n,r){var i;if(a(t))t=l(t,v(e[0]));else if(t.length&&!t.nodeType){if(t=f.makeArray(t),r)for(i=t.length-1;i>=0;i--)u(e,t[i],n,r);else for(i=0;t.length>i;i++)u(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function c(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function d(e,t,n){var r,i;return t=f(t)[0],e.each(function(){var e=this;n&&r==e.parentNode?i.appendChild(e):(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e),i.appendChild(e))}),e}function f(e,t){return new f.fn.init(e,t)}function h(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function p(e){return null===e||e===w?"":(""+e).replace(P,"")}function m(e,t){var n,r,i,o,a;if(e)if(n=e.length,n===o){for(r in e)if(e.hasOwnProperty(r)&&(a=e[r],t.call(a,r,a)===!1))break}else for(i=0;n>i&&(a=e[i],t.call(a,i,a)!==!1);i++);return e}function g(e,t){var n=[];return m(e,function(e,r){t(r,e)&&n.push(r)}),n}function v(e){return e?9==e.nodeType?e:e.ownerDocument:C}function y(e,n,r){var i=[],o=e[n];for("string"!=typeof r&&r instanceof f&&(r=r[0]);o&&9!==o.nodeType;){if(r!==t){if(o===r)break;if("string"==typeof r&&f(o).is(r))break}1===o.nodeType&&i.push(o),o=o[n]}return i}function b(e,n,r,i){var o=[];for(i instanceof f&&(i=i[0]);e;e=e[n])if(!r||e.nodeType===r){if(i!==t){if(e===i)break;if("string"==typeof i&&f(e).is(i))break}o.push(e)}return o}function $(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function x(e,t,n){m(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})}var w,C=document,S=Array.prototype.push,E=Array.prototype.slice,_=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,k=e.Event,T=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),A=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),N={"for":"htmlFor","class":"className",readonly:"readOnly"},R={"float":"cssFloat"},D={},M={},P=/^\s*|\s*$/g;return f.fn=f.prototype={constructor:f,selector:"",context:null,length:0,init:function(e,t){var n,r,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return f(e).attr(t);i.context=t=document}if(a(e)){if(i.selector=e,n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:_.exec(e),!n)return f(t).find(e);if(n[1])for(r=l(e,v(t)).firstChild;r;)S.call(i,r),r=r.nextSibling;else{if(r=v(t).getElementById(n[2]),!r)return i;if(r.id!==n[2])return i.find(e);i.length=1,i[0]=r}}else this.add(e,!1);return i},toArray:function(){return r.toArray(this)},add:function(e,t){var n,r,i=this;if(a(e))return i.add(f(e));if(t!==!1)for(n=f.unique(i.toArray().concat(f.makeArray(e))),i.length=n.length,r=0;n.length>r;r++)i[r]=n[r];else S.apply(i,f.makeArray(e));return i},attr:function(e,n){var r,i=this;if("object"==typeof e)m(e,function(e,t){i.attr(e,t)});else{if(!o(n)){if(i[0]&&1===i[0].nodeType){if(r=D[e],r&&r.get)return r.get(i[0],e);if(A[e])return i.prop(e)?e:w;n=i[0].getAttribute(e,2),null===n&&(n=w)}return n}this.each(function(){var r;if(1===this.nodeType){if(r=D[e],r&&r.set)return r.set(this,n),t;null===n?this.removeAttribute(e,2):this.setAttribute(e,n,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=N[e]||e,"object"==typeof e)m(e,function(e,t){n.prop(e,t)});else{if(!o(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(e,n){function r(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var a,s,l=this;if("object"==typeof e)m(e,function(e,t){l.css(e,t)});else if(o(n))e=r(e),"number"!=typeof n||T[e]||(n+="px"),l.each(function(){var r=this.style;if(s=M[e],s&&s.set)return s.set(this,n),t;try{this.style[R[e]||e]=n}catch(o){}(null===n||""===n)&&(r.removeProperty?r.removeProperty(i(e)):r.removeAttribute(e))});else{if(a=l[0],s=M[e],s&&s.get)return s.get(a);if(a.ownerDocument.defaultView)try{return a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(i(e))}catch(u){return w}else if(a.currentStyle)return a.currentStyle[r(e)]}return l},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],k.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(o(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){f(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(o(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return u(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return u(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?u(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?u(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return f(e).append(this),this},prependTo:function(e){return f(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return d(this,e)},wrapAll:function(e){return d(this,e,!0)},wrapInner:function(e){return this.each(function(){f(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){f(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),f(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(-1!==e.indexOf(" ")?m(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var i,o;o=c(r,e),o!==t&&(i=r.className,o?r.className=p((" "+i+" ").replace(" "+e+" "," ")):r.className+=i?" "+e:e)}),n)},hasClass:function(e){return c(this[0],e)},each:function(e){return m(this,e)},on:function(e,t){return this.each(function(){k.bind(this,e,t)})},off:function(e,t){return this.each(function(){k.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?k.fire(this,e.type,e):k.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new f(E.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;n>t;t++)f.find(e,this[t],r);return f(r)},filter:function(e){return"function"==typeof e?f(g(this.toArray(),function(t,n){return e(n,t)})):f(f.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof f&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&f(r).is(e)){t.push(r);break}if(r==e){t.push(r);break}r=r.parentNode}}),f(t)},offset:function(e){var t,n,r,i,o=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(i=t.getBoundingClientRect(),o=i.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:S,sort:[].sort,splice:[].splice},r.extend(f,{extend:r.extend,makeArray:function(e){return s(e)||e.nodeType?[e]:r.toArray(e)},inArray:h,isArray:r.isArray,each:m,trim:p,grep:g,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return t=1===t.length?f.find.matchesSelector(t[0],e)?[t[0]]:[]:f.find.matches(e,t)}}),m({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return y(e,"parentNode")},next:function(e){return $(e,"nextSibling",1)},prev:function(e){return $(e,"previousSibling",1)},children:function(e){return b(e.firstChild,"nextSibling",1)},contents:function(e){return r.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){f.fn[e]=function(n){var r=this,i=[];return r.each(function(){var e=t.call(i,this,n,i);e&&(f.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=f.unique(i),0===e.indexOf("parents")&&(i=i.reverse())),i=f(i),n?i.filter(n):i}}),m({parentsUntil:function(e,t){return y(e,"parentNode",t)},nextUntil:function(e,t){return b(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return b(e,"previousSibling",1,t).slice(1)}},function(e,t){f.fn[e]=function(n,r){var i=this,o=[];return i.each(function(){var e=t.call(o,this,n,o);e&&(f.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(o=f.unique(o),(0===e.indexOf("parents")||"prevUntil"===e)&&(o=o.reverse())),o=f(o),r?o.filter(r):o}}),f.fn.is=function(e){return!!e&&this.filter(e).length>0},f.fn.init.prototype=f.fn,f.overrideDefaults=function(e){function t(r,i){return n=n||e(),0===arguments.length&&(r=n.element),i||(i=n.context),new t.fn.init(r,i)}var n;return f.extend(t,this),t},i.ie&&8>i.ie&&(x(D,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?w:t},size:function(e){var t=e.size;return 20===t?w:t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?w:t}}),x(D,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&9>i.ie&&(R["float"]="styleFloat",x(M,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),f.attrHooks=D,f.cssHooks=M,f}),r("tinymce/html/Styles",[],function(){return function(e,t){function n(e,t,n,r){function i(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var r,i,o,a,s,l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,d=/\s+$/,f={},h="";for(e=e||{},t&&(a=t.getValidStyles(),s=t.getInvalidStyles()),o=("\\\" \\' \\; \\: ; : "+h).split(" "),i=0;o.length>i;i++)f[o[i]]=h+i,f[h+i]=o[i];return{toHex:function(e){return e.replace(l,n)},parse:function(t){function r(e,t,n){var r,o,a,s;if(r=b[e+"-top"+t],r&&(o=b[e+"-right"+t],o&&(a=b[e+"-bottom"+t],a&&(s=b[e+"-left"+t])))){var l=[r,o,a,s];for(i=l.length-1;i--&&l[i]===l[i+1];);i>-1&&n||(b[e+t]=-1==i?l[0]:l.join(" "),delete b[e+"-top"+t],delete b[e+"-right"+t],delete b[e+"-bottom"+t],delete b[e+"-left"+t])}}function o(e){var t,n=b[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return b[e]=n[0],!0}}function a(e,t,n,r){o(t)&&o(n)&&o(r)&&(b[e]=b[t]+" "+b[n]+" "+b[r],delete b[t],delete b[n],delete b[r])}function s(e){return y=!0,f[e]}function h(e,t){return y&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return f[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function p(t,n,r,i,o,a){if(o=o||a)return o=h(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=h(n||r||i),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return $&&(n=$.call(x,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var m,g,v,y,b={},$=e.url_converter,x=e.url_converter_scope||this;if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,s).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,s)});m=c.exec(t);){if(g=m[1].replace(d,"").toLowerCase(),v=m[2].replace(d,""),v=v.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),g&&v.length>0){if(!e.allow_script_urls&&("behavior"==g||/expression\s*\(|\/\*|\*\//.test(v)))continue;"font-weight"===g&&"700"===v?v="bold":("color"===g||"background-color"===g)&&(v=v.toLowerCase()),v=v.replace(l,n),v=v.replace(u,p),b[g]=y?h(v,!0):v}c.lastIndex=m.index+m[0].length}r("border","",!0),r("border","-width"),r("border","-color"),r("border","-style"),r("padding",""),r("margin",""),a("border","border-width","border-style","border-color"),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(e,t){function n(t){var n,i,o,s;if(n=a[t])for(i=0,o=n.length;o>i;i++)t=n[i],s=e[t],s!==r&&s.length>0&&(u+=(u.length>0?" ":"")+t+": "+s+";")}function i(e,t){var n;return n=s["*"],n&&n[e]?!1:(n=s[t],n&&n[e]?!1:!0)}var o,l,u="";if(t&&a)n("*"),n(t);else for(o in e)l=e[o],l!==r&&l.length>0&&(!s||i(o,t))&&(u+=(u.length>0?" ":"")+o+": "+l+";");return u}}}}),r("tinymce/dom/TreeWalker",[],function(){return function(e,t){function n(e,n,r,i){var o,a;if(e){if(!i&&e[n])return e[n];if(e!=t){if(o=e[r])return o;for(a=e.parentNode;a&&a!=t;a=a.parentNode)if(o=a[r])return o}}}var r=e;this.current=function(){return r},this.next=function(e){return r=n(r,"firstChild","nextSibling",e)},this.prev=function(e){return r=n(r,"lastChild","previousSibling",e)}}}),r("tinymce/dom/Range",["tinymce/util/Tools"],function(e){function n(r){function i(){return B.createDocumentFragment()}function o(e,t){S(F,e,t)}function a(e,t){S(U,e,t)}function s(e){o(e.parentNode,G(e))}function l(e){o(e.parentNode,G(e)+1)}function u(e){a(e.parentNode,G(e))}function c(e){a(e.parentNode,G(e)+1)}function d(e){e?(O[V]=O[z],O[q]=O[j]):(O[z]=O[V],O[j]=O[q]),O.collapsed=F}function f(e){s(e),c(e)}function h(e){o(e,0),a(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function p(e,n){var r=O[z],i=O[j],o=O[V],a=O[q],s=n.startContainer,l=n.startOffset,u=n.endContainer,c=n.endOffset;return 0===e?C(r,i,s,l):1===e?C(o,a,s,l):2===e?C(o,a,u,c):3===e?C(r,i,u,c):t}function m(){E(H)}function g(){return E(I)}function v(){return E(L)}function y(e){var t,n,i=this[z],o=this[j];3!==i.nodeType&&4!==i.nodeType||!i.nodeValue?(i.childNodes.length>0&&(n=i.childNodes[o]),n?i.insertBefore(e,n):3==i.nodeType?r.insertAfter(e,i):i.appendChild(e)):o?o>=i.nodeValue.length?r.insertAfter(e,i):(t=i.splitText(o),i.parentNode.insertBefore(e,t)):i.parentNode.insertBefore(e,i)}function b(e){var t=O.extractContents();O.insertNode(e),e.appendChild(t),O.selectNode(e)}function $(){return W(new n(r),{startContainer:O[z],startOffset:O[j],endContainer:O[V],endOffset:O[q],collapsed:O.collapsed,commonAncestorContainer:O.commonAncestorContainer})}function x(e,t){var n;if(3==e.nodeType)return e;if(0>t)return e;for(n=e.firstChild;n&&t>0;)--t,n=n.nextSibling;return n?n:e}function w(){return O[z]==O[V]&&O[j]==O[q]}function C(e,t,n,i){var o,a,s,l,u,c;if(e==n)return t==i?0:i>t?-1:1;for(o=n;o&&o.parentNode!=e;)o=o.parentNode;if(o){for(a=0,s=e.firstChild;s!=o&&t>a;)a++,s=s.nextSibling;return a>=t?-1:1}for(o=e;o&&o.parentNode!=n;)o=o.parentNode;if(o){for(a=0,s=n.firstChild;s!=o&&i>a;)a++,s=s.nextSibling;return i>a?-1:1}for(l=r.findCommonAncestor(e,n),u=e;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=n;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function S(e,t,n){var i,o;for(e?(O[z]=t,O[j]=n):(O[V]=t,O[q]=n),i=O[V];i.parentNode;)i=i.parentNode;for(o=O[z];o.parentNode;)o=o.parentNode;o==i?C(O[z],O[j],O[V],O[q])>0&&O.collapse(e):O.collapse(e),O.collapsed=w(),O.commonAncestorContainer=r.findCommonAncestor(O[z],O[V])}function E(e){var t,n,r,i,o,a,s,l=0,u=0;if(O[z]==O[V])return _(e);for(t=O[V],n=t.parentNode;n;t=n,n=n.parentNode){if(n==O[z])return k(t,e);++l}for(t=O[z],n=t.parentNode;n;t=n,n=n.parentNode){if(n==O[V])return T(t,e);++u}for(r=u-l,i=O[z];r>0;)i=i.parentNode,r--;for(o=O[V];0>r;)o=o.parentNode,r++;for(a=i.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)i=a,o=s;return A(i,o,e)}function _(e){var t,n,r,o,a,s,l,u,c;if(e!=H&&(t=i()),O[j]==O[q])return t;if(3==O[z].nodeType){if(n=O[z].nodeValue,r=n.substring(O[j],O[q]),e!=L&&(o=O[z],u=O[j],c=O[q]-O[j],0===u&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(u,c),O.collapse(F)),e==H)return;return r.length>0&&t.appendChild(B.createTextNode(r)),t}for(o=x(O[z],O[j]),a=O[q]-O[j];o&&a>0;)s=o.nextSibling,l=M(o,e),t&&t.appendChild(l),--a,o=s;return e!=L&&O.collapse(F),t}function k(e,t){var n,r,o,a,s,l;if(t!=H&&(n=i()),r=N(e,t),n&&n.appendChild(r),o=G(e),a=o-O[j],0>=a)return t!=L&&(O.setEndBefore(e),O.collapse(U)),n;for(r=e.previousSibling;a>0;)s=r.previousSibling,l=M(r,t),n&&n.insertBefore(l,n.firstChild),--a,r=s;return t!=L&&(O.setEndBefore(e),O.collapse(U)),n}function T(e,t){var n,r,o,a,s,l;for(t!=H&&(n=i()),o=R(e,t),n&&n.appendChild(o),r=G(e),++r,a=O[q]-r,o=e.nextSibling;o&&a>0;)s=o.nextSibling,l=M(o,t),n&&n.appendChild(l),--a,o=s;return t!=L&&(O.setStartAfter(e),O.collapse(F)),n}function A(e,t,n){var r,o,a,s,l,u,c;for(n!=H&&(o=i()),r=R(e,n),o&&o.appendChild(r),a=G(e),s=G(t),++a,l=s-a,u=e.nextSibling;l>0;)c=u.nextSibling,r=M(u,n),o&&o.appendChild(r),u=c,--l;return r=N(t,n),o&&o.appendChild(r),n!=L&&(O.setStartAfter(e),O.collapse(F)),o}function N(e,t){var n,r,i,o,a,s=x(O[V],O[q]-1),l=s!=O[V];if(s==e)return D(s,l,U,t);for(n=s.parentNode,r=D(n,U,U,t);n;){for(;s;)i=s.previousSibling,o=D(s,l,U,t),t!=H&&r.insertBefore(o,r.firstChild),l=F,s=i;if(n==e)return r;s=n.previousSibling,n=n.parentNode,a=D(n,U,U,t),t!=H&&a.appendChild(r),r=a}}function R(e,t){var n,r,i,o,a,s=x(O[z],O[j]),l=s!=O[z];if(s==e)return D(s,l,F,t);for(n=s.parentNode,r=D(n,U,F,t);n;){for(;s;)i=s.nextSibling,o=D(s,l,F,t),t!=H&&r.appendChild(o),l=F,s=i;if(n==e)return r;s=n.nextSibling,n=n.parentNode,a=D(n,U,F,t),t!=H&&a.appendChild(r),r=a}}function D(e,t,n,i){var o,a,s,l,u;if(t)return M(e,i);if(3==e.nodeType){if(o=e.nodeValue,n?(l=O[j],a=o.substring(l),s=o.substring(0,l)):(l=O[q],a=o.substring(0,l),s=o.substring(l)),i!=L&&(e.nodeValue=s),i==H)return;return u=r.clone(e,U),u.nodeValue=a,u}if(i!=H)return r.clone(e,U)}function M(e,n){return n!=H?n==L?r.clone(e,F):e:(e.parentNode.removeChild(e),t)}function P(){return r.create("body",null,v()).outerText}var O=this,B=r.doc,I=0,L=1,H=2,F=!0,U=!1,j="startOffset",z="startContainer",V="endContainer",q="endOffset",W=e.extend,G=r.nodeIndex;return W(O,{startContainer:B,startOffset:0,endContainer:B,endOffset:0,collapsed:F,commonAncestorContainer:B,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:o,setEnd:a,setStartBefore:s,setStartAfter:l,setEndBefore:u,setEndAfter:c,collapse:d,selectNode:f,selectNodeContents:h,compareBoundaryPoints:p,deleteContents:m,extractContents:g,cloneContents:v,insertNode:y,surroundContents:b,cloneRange:$,toStringIE:P}),O}return n.prototype.toString=function(){return this.toStringIE()},n}),r("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function t(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.textContent||t.innerText||e}function n(e,t){var n,r,o,a={};if(e){for(e=e.split(","),t=t||10,n=0;e.length>n;n+=2)r=String.fromCharCode(parseInt(e[n],t)),i[r]||(o="&"+e[n+1]+";",a[r]=o,a[o]=r);return a}}var r,i,o,a=e.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};i={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},r=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return i[e]||e})},encodeAllRaw:function(e){return(""+e).replace(u,function(e){return i[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":i[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||r,e.replace(t?s:l,function(e){return i[e]||n[e]||e})},getEncodeFunc:function(e,t){function o(e,n){return e.replace(n?s:l,function(e){return i[e]||t[e]||"&#"+e.charCodeAt(0)+";"||e})}function u(e,n){return f.encodeNamed(e,n,t)}return t=n(t)||r,e=a(e.replace(/\+/g,",")),e.named&&e.numeric?o:e.named?t?u:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(c,function(e,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):o[e]||r[e]||t(e)})}};return f}),r("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools"],function(e){return function(n,r){function i(e){n.getElementsByTagName("head")[0].appendChild(e)}function o(r,o,u){function c(){for(var e=b.passed,t=e.length;t--;)e[t]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var e=b.failed,t=e.length;t--;)e[t]();b.status=3,b.passed=[],b.failed=[]}function f(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&536>e[1])}function h(e,t){e()||(a>(new Date).getTime()-y?window.setTimeout(t,0):d())}function p(){h(function(){for(var e,t,r=n.styleSheets,i=r.length;i--;)if(e=r[i],t=e.ownerNode?e.ownerNode:e.owningElement,t&&t.id===g.id)return c(),!0},p)}function m(){h(function(){try{var e=v.sheet.cssRules;return c(),!!e}catch(t){}},m)}var g,v,y,b;if(r=e._addCacheSuffix(r),l[r]?b=l[r]:(b={passed:[],failed:[]},l[r]=b),o&&b.passed.push(o),u&&b.failed.push(u),1!=b.status){if(2==b.status)return c(),t;if(3==b.status)return d(),t;if(b.status=1,g=n.createElement("link"),g.rel="stylesheet",g.type="text/css",g.id="u"+s++,g.async=!1,g.defer=!1,y=(new Date).getTime(),"onload"in g&&!f())g.onload=p,g.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return v=n.createElement("style"),v.textContent='@import "'+r+'"',m(),i(v),t;p()}i(g),g.href=r}}var a,s=0,l={};r=r||{},a=r.maxLoadTime||5e3,this.load=o}}),r("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(e,n,r,i,o,a,s,l,u,c){function d(e,n){var r,i={},o=n.keep_values;return r={set:function(t,r,i){n.url_converter&&(r=n.url_converter.call(n.url_converter_scope||e,r,i,t[0])),t.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},i={style:{set:function(e,n){return null!==n&&"object"==typeof n?(e.css(n),t):(o&&e.attr("data-mce-style",n),e.attr("style",n),t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},o&&(i.href=i.src=r),i}function f(e,t){var o,a=this;a.doc=e,a.win=window,a.files={},a.counter=0,a.stdMode=!v||e.documentMode>=8,a.boxModel=!v||"CSS1Compat"==e.compatMode||a.stdMode,a.styleSheetLoader=new c(e),a.boundEvents=[],a.settings=t=t||{},a.schema=t.schema,a.styles=new r({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),a.fixDoc(e),a.events=t.ownEvents?new i(t.proxy):i.Event,a.attrHooks=d(a,t),o=t.schema?t.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:e,element:a.getRoot()}}),a.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!o[e.nodeName]):!!o[e]}}var h=u.each,p=u.is,m=u.grep,g=u.trim,v=l.ie,y=/^([a-z0-9],?)+$/i,b=/^[ \t\r\n]*$/;return f.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){var t,n=this.settings;if(v&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(t){e.createElement(t)});for(t in n.schema.getCustomElements())e.createElement(t)}},clone:function(e,t){var n,r,i=this;return!v||1!==e.nodeType||t?e.cloneNode(t):(r=i.doc,t?n.firstChild:(n=r.createElement(e.nodeName),h(i.getAttribs(e),function(t){i.setAttrib(n,t.nodeName,i.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,r=this;return e=r.get(e),t=r.getPos(e),n=r.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,r=this;return e=r.get(e),t=r.getStyle(e,"width"),n=r.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,n,r,i){var o,a=this,s=[];for(e=a.get(e),i=i===t,r=r||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),p(n,"string")&&(o=n,n="*"===n?function(e){return 1==e.nodeType}:function(e){return a.is(e,o)});e&&e!=r&&e.nodeType&&9!==e.nodeType;){if(!n||n(e)){if(!i)return e;s.push(e)}e=e.parentNode}return i?s:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var r=this;return e(t,r.get(n)||r.settings.root_element||r.doc,[])
},is:function(n,r){var i;if(n.length===t){if("*"===r)return 1==n.nodeType;if(y.test(r)){for(r=r.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),i=r.length-1;i>=0;i--)if(r[i]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return e(r,o[0].ownerDocument||o[0],null,o).length>0},add:function(e,t,n,r,i){var o=this;return this.run(e,function(e){var a;return a=p(t,"string")?o.doc.createElement(t):t,o.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):o.setHTML(a,r)),i?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,n,r){var i,o="";o+="<"+e;for(i in n)n.hasOwnProperty(i)&&null!==n[i]&&n[i]!==t&&(o+=" "+i+'="'+this.encode(n[i])+'"');return r!==t?o+">"+r+"</"+e+">":o+" />"},createFragment:function(e){var t,n,r,i=this.doc;for(r=i.createElement("div"),t=i.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&e.attr("data-mce-style",null)},getStyle:function(e,n,r){return e=this.$$(e),r?e.css(n):(n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"==n&&(n=v?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[n]:t)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&e.attr("data-mce-style",null)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,i,o=this,a=o.settings;""===n&&(n=null),e=o.$$(e),r=e.attr(t),e.length&&(i=o.attrHooks[t],i&&i.set?i.set(e,n,t):e.attr(t,n),r!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){h(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,n,r){var i,o,a=this;return e=a.$$(e),e.length&&(i=a.attrHooks[n],o=i&&i.get?i.get(e,n):e.attr(n)),o===t&&(o=r||""),o},getPos:function(e,t){var r,i,o=this,a=0,s=0,l=o.doc,u=l.body;if(e=o.get(e),t=t||u,e){if(t===u&&e.getBoundingClientRect&&"static"===n(u).css("position"))return i=e.getBoundingClientRect(),t=o.boxModel?l.documentElement:u,a=i.left+(l.documentElement.scrollLeft||u.scrollLeft)-t.clientLeft,s=i.top+(l.documentElement.scrollTop||u.scrollTop)-t.clientTop,{x:a,y:s};for(r=e;r&&r!=t&&r.nodeType;)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=e.parentNode;r&&r!=t&&r.nodeType;)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode}return{x:a,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,r=this,i=r.doc;if(r!==f.DOM&&i===document){var o=f.DOM.addedStyles;if(o=o||[],o[e])return;o[e]=!0,f.DOM.addedStyles=o}n=i.getElementById("mceDefaultStyles"),n||(n=i.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",t=i.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(i.createTextNode(e))},loadCSS:function(e){var n,r=this,i=r.doc;return r!==f.DOM&&i===document?(f.DOM.loadCSS(e),t):(e||(e=""),n=i.getElementsByTagName("head")[0],h(e.split(","),function(e){var t;e=u._addCacheSuffix(e),r.files[e]||(r.files[e]=!0,t=r.create("link",{rel:"stylesheet",href:e}),v&&i.documentMode&&i.recalc&&(t.onload=function(){i.recalc&&i.recalc(),t.onload=null}),n.appendChild(t))}),t)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,r){this.$$(e).toggleClass(t,r).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),v?e.each(function(e,r){if(r.canHaveHTML!==!1){for(;r.firstChild;)r.removeChild(r.firstChild);try{r.innerHTML="<br>"+t,r.removeChild(r.firstChild)}catch(i){n("<div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t}}):e.html(t)},getOuterHTML:function(e){return e=this.get(e),1==e.nodeType&&"outerHTML"in e?e.outerHTML:n("<div>").append(n(e).clone()).html()},setOuterHTML:function(e,r){var i=this;i.$$(e).each(function(){try{if("outerHTML"in this)return this.outerHTML=r,t}catch(e){}i.remove(n(this).html(r),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){return p(t,"array")&&(e=e.cloneNode(!0)),n&&h(m(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,r=this;return e.nodeName!=t.toUpperCase()&&(n=r.create(t),h(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!=n;)n=n.parentNode;if(r==n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(u.trim(e))},run:function(e,t,n){var r,i=this;return"string"==typeof e&&(e=i.get(e)),e?(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(r=[],h(e,function(e,o){e&&("string"==typeof e&&(e=i.get(e)),r.push(t.call(n,e,o)))}),r)):!1},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(v){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,r,i,a,s,l=this,u=0;if(e=e.firstChild){a=new o(e,e.parentNode),t=t||(l.schema?l.schema.getNonEmptyElements():null);do{if(i=e.nodeType,1===i){if(e.getAttribute("data-mce-bogus"))continue;if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"===s){u++;continue}return!1}for(r=l.getAttribs(e),n=r.length;n--;)if(s=r[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==i)return!1;if(3===i&&!b.test(e.nodeValue))return!1}while(e=a.next())}return 1>=u},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new a(this)},nodeIndex:function(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(i++,n=r);return i},split:function(e,n,r){function i(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,r=e.childNodes,o=e.nodeType;if(1!=o||"bookmark"!=e.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&e.nodeValue.length>0){var a=g(e.nodeValue).length;if(!l.isBlock(e.parentNode)||a>0||0===a&&t(e))return}else if(1==o&&(r=e.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(r[0],e),r.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;l.remove(e)}return e}}var o,a,s,l=this,u=l.createRng();return e&&n?(u.setStart(e.parentNode,l.nodeIndex(e)),u.setEnd(n.parentNode,l.nodeIndex(n)),o=u.extractContents(),u=l.createRng(),u.setStart(n.parentNode,l.nodeIndex(n)+1),u.setEnd(e.parentNode,l.nodeIndex(e)+1),a=u.extractContents(),s=e.parentNode,s.insertBefore(i(o),e),r?s.replaceChild(r,n):s.insertBefore(n,e),s.insertBefore(i(a),e),l.remove(e),r||n):t},bind:function(e,t,n,r){var i=this;if(u.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r,i=this;if(u.isArray(e)){for(r=e.length;r--;)e[r]=i.unbind(e[r],t,n);return e}if(i.boundEvents&&(e===i.doc||e===i.win))for(r=i.boundEvents.length;r--;){var o=i.boundEvents[r];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var t=this;if(t.boundEvents){for(var n=t.boundEvents.length;n--;){var r=t.boundEvents[n];this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}e.setDocument&&e.setDocument(),t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},f.DOM=new f(document),f}),r("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,n){function r(){function e(e,t){function r(){l.remove(s),a&&(a.onreadystatechange=a.onload=a=null),t()}function o(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)}var a,s,l=i;s=l.uniqueId(),a=document.createElement("script"),a.id=s,a.type="text/javascript",a.src=n._addCacheSuffix(e),"onreadystatechange"in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&r()}:a.onload=r,a.onerror=o,(document.getElementsByTagName("head")[0]||document.body).appendChild(a)}var r,s=0,l=1,u=2,c={},d=[],f={},h=[],p=0;this.isDone=function(e){return c[e]==u},this.markDone=function(e){c[e]=u},this.add=this.load=function(e,t,n){var i=c[e];i==r&&(d.push(e),c[e]=s),t&&(f[e]||(f[e]=[]),f[e].push({func:t,scope:n||this}))},this.loadQueue=function(e,t){this.loadScripts(d,e,t)},this.loadScripts=function(n,i,s){function d(e){o(f[e],function(e){e.func.call(e.scope)}),f[e]=r}var m;h.push({func:i,scope:s||this}),m=function(){var r=a(n);n.length=0,o(r,function(n){return c[n]==u?(d(n),t):(c[n]!=l&&(c[n]=l,p++,e(n,function(){c[n]=u,p--,d(n),m()})),t)}),p||(o(h,function(e){e.func.call(e.scope)}),h.length=0)},m()}}var i=e.DOM,o=n.each,a=n.grep;return r.ScriptLoader=new r,r}),r("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){function r(){var e=this;e.items=[],e.urls={},e.lookup={}}var i=n.each;return r.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:t},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(t,n){var i=r.language;if(i&&r.languageLoad!==!1){if(n)if(n=","+n+",",-1!=n.indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1==n.indexOf(","+i+","))return;e.ScriptLoader.add(this.urls[t]+"/langs/"+i+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(t,n){var r=this.urls[t];i(n,function(t){e.ScriptLoader.add(r+"/"+t)})},load:function(n,o,a,s){function l(){var r=u.dependencies(n);i(r,function(e){var n=u.createUrl(o,e);u.load(n.resource,n,t,t)}),a&&(s?a.call(s):a.call(e))}var u=this,c=o;u.urls[n]||("object"==typeof o&&(c=o.prefix+o.resource+o.suffix),0!==c.indexOf("/")&&-1==c.indexOf("://")&&(c=r.baseURL+"/"+c),u.urls[n]=c.substring(0,c.lastIndexOf("/")),u.lookup[n]?l():e.ScriptLoader.add(c,l,s))}},r.PluginManager=new r,r.ThemeManager=new r,r}),r("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(e,n){function r(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:0>t&&(t=0),n[t]||e}function i(e){this.walk=function(n,i){function a(e){var t;return t=e[0],3===t.nodeType&&t===v&&y>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===$&&e.length>0&&t===b&&3===t.nodeType&&e.splice(e.length-1,1),e}function s(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function l(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function u(e,t,n){var r=n?"nextSibling":"previousSibling";for(h=e,p=h.parentNode;h&&h!=t;h=p)p=h.parentNode,m=s(h==e?h:h[r],r),m.length&&(n||m.reverse(),i(a(m)))}var c,d,f,h,p,m,g,v=n.startContainer,y=n.startOffset,b=n.endContainer,$=n.endOffset;if(g=e.select("td.mce-item-selected,th.mce-item-selected"),g.length>0)return o(g,function(e){i([e])}),t;if(1==v.nodeType&&v.hasChildNodes()&&(v=v.childNodes[y]),1==b.nodeType&&b.hasChildNodes()&&(b=r(b,$)),v==b)return i(a([v]));for(c=e.findCommonAncestor(v,b),h=v;h;h=h.parentNode){if(h===b)return u(v,c,!0);if(h===c)break}for(h=b;h;h=h.parentNode){if(h===v)return u(b,c);if(h===c)break}d=l(v,c)||v,f=l(b,c)||b,u(v,d,!0),m=s(d==v?d:d.nextSibling,"nextSibling",f==b?f.nextSibling:f),m.length&&i(a(m)),u(b,f)},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&&3==n.nodeType?r>0&&n.nodeValue.length>r&&(i=t(n,r),n=i.previousSibling,o>r?(o-=r,n=i=t(i,o).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&&r>0&&n.nodeValue.length>r&&(n=t(n,r),r=0),3==i.nodeType&&o>0&&i.nodeValue.length>o&&(i=t(i,o).previousSibling,o=i.nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}},this.normalize=function(r){function i(i){function s(t,r){for(var i=new n(t,e.getParent(t.parentNode,e.isBlock)||v);t=i[r?"prev":"next"]();)if("BR"===t.nodeName)return!0}function l(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function u(r,i){var s,l,u;if(i=i||c,u=e.getParent(i.parentNode,e.isBlock)||v,r&&"BR"==i.nodeName&&g&&e.isEmpty(u))return c=i.parentNode,d=e.nodeIndex(i),o=!0,t;for(s=new n(i,u);h=s[r?"prev":"next"]();){if("false"===e.getContentEditableParent(h))return;if(3===h.nodeType&&h.nodeValue.length>0)return c=h,d=r?h.nodeValue.length:0,o=!0,t;if(e.isBlock(h)||p[h.nodeName.toLowerCase()])return;l=h}a&&l&&(c=l,o=!0,d=0)}var c,d,f,h,p,m,g,v=e.getRoot();if(c=r[(i?"start":"end")+"Container"],d=r[(i?"start":"end")+"Offset"],g=1==c.nodeType&&d===c.childNodes.length,p=e.schema.getNonEmptyElements(),m=i,1==c.nodeType&&d>c.childNodes.length-1&&(m=!1),9===c.nodeType&&(c=e.getRoot(),d=0),c===v){if(m&&(h=c.childNodes[d>0?d-1:0],h&&(p[h.nodeName]||"TABLE"==h.nodeName)))return;if(c.hasChildNodes()&&(d=Math.min(!m&&d>0?d-1:d,c.childNodes.length-1),c=c.childNodes[d],d=0,c.hasChildNodes()&&!/TABLE/.test(c.nodeName))){h=c,f=new n(c,v);do{if(3===h.nodeType&&h.nodeValue.length>0){d=m?0:h.nodeValue.length,c=h,o=!0;break}if(p[h.nodeName.toLowerCase()]){d=e.nodeIndex(h),c=h.parentNode,"IMG"!=h.nodeName||m||d++,o=!0;break}}while(h=m?f.next():f.prev())}}a&&(3===c.nodeType&&0===d&&u(!0),1===c.nodeType&&(h=c.childNodes[d],h||(h=c.childNodes[d-1]),!h||"BR"!==h.nodeName||l(h,"A")||s(h)||s(h,!0)||u(!0,h))),m&&!a&&3===c.nodeType&&d===c.nodeValue.length&&u(!1),o&&r["set"+(i?"Start":"End")](c,d)}var o,a;return a=r.collapsed,i(!0),a||i(),o&&a&&r.collapse(!0),o}}var o=e.each;return i.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},i.getCaretRangeFromPoint=function(e,t,n){var r,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),r=n.createRange(),r.setStart(i.offsetNode,i.offset),r.collapse(!0);else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r.collapse(n.body.clientHeight>t)}}return r},i.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},i}),r("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env"],function(e,n){return function(r){function i(e){var t,n;if(n=r.$(e).parentsUntil(r.getBody()).add(e),n.length===a.length){for(t=n.length;t>=0&&n[t]===a[t];t--);if(-1===t)return a=n,!0}return a=n,!1}var o,a=[];"onselectionchange"in r.getDoc()||r.on("NodeChange Click MouseUp KeyUp Focus",function(t){var n,i;n=r.selection.getRng(),i={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=t.type&&e.compareRanges(i,o)||r.fire("SelectionChange"),o=i}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var e=r.selection.getStart(!0);(n.range||!r.selection.isCollapsed())&&!i(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==r.selection.getNode().nodeName?setTimeout(function(){r.nodeChanged()},0):r.nodeChanged())}),this.nodeChanged=function(e){var n,i,o,a=r.selection;r.initialized&&a&&!r.settings.disable_nodechange&&!r.settings.readonly&&(o=r.getBody(),n=a.getStart()||o,n=n.ownerDocument!=r.getDoc()?r.getBody():n,"IMG"==n.nodeName&&a.isCollapsed()&&(n=n.parentNode),i=[],r.dom.getParent(n,function(e){return e===o?!0:(i.push(e),t)}),e=e||{},e.element=n,e.parents=i,r.fire("NodeChange",e))}}}),r("tinymce/html/Node",[],function(){function e(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function t(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,r={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return t.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,r,i,o=this;if("string"!=typeof e){for(r in e)o.attr(r,e[r]);return o}if(n=o.attributes){if(t!==i){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),o;return o}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},clone:function(){var e,n,r,i,o,a=this,s=new t(a.name,a.type);if(r=a.attributes){for(o=[],o.map={},e=0,n=r.length;n>e;e++)i=r[e],"id"!==i.name&&(o[o.length]={name:i.name,value:i.value},o.map[i.name]=i.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},getAll:function(t){var n,r=this,i=[];for(n=r.firstChild;n;n=e(n,r))n.name===t&&i.push(n);return i},empty:function(){var t,n,r,i=this;if(i.firstChild){for(t=[],r=i.firstChild;r;r=e(r,i))t.push(r);for(n=t.length;n--;)r=t[n],r.parent=r.firstChild=r.lastChild=r.next=r.prev=null}return i.firstChild=i.lastChild=null,i},isEmpty:function(t){var r,i,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(t[a.name])return!1;for(r=a.attributes.length;r--;)if(i=a.attributes[r].name,"name"===i||0===i.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=e(a,o));return!0},walk:function(t){return e(this,null,t)}},t.create=function(e,n){var i,o;if(i=new t(e,r[e]||1),n)for(o in n)i.attr(o,n[o]);return i},t}),r("tinymce/html/Schema",["tinymce/util/Tools"],function(e){function t(e,t){return e?e.split(t||" "):[]}function n(e){function n(e,n,r){function i(e,t){var n,r,i={};for(n=0,r=e.length;r>n;n++)i[e[n]]=t||{};return i}var s,l,u,c=arguments;for(r=r||[],n=n||"","string"==typeof r&&(r=t(r)),l=3;c.length>l;l++)"string"==typeof c[l]&&(c[l]=t(c[l])),r.push.apply(r,c[l]);for(e=t(e),s=e.length;s--;)u=[].concat(a,t(n)),h[e[s]]={attributes:i(u),attributesOrder:u,children:i(r,o)}}function r(e,n){var r,i,o,a;for(e=t(e),r=e.length,n=t(n);r--;)for(i=h[e[r]],o=0,a=n.length;a>o;o++)i.attributes[n[o]]={},i.attributesOrder.push(n[o])}var a,l,u,c,d,f,h={};return i[e]?i[e]:(a=t("id accesskey class dir lang style tabindex title"),l=t("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),u=t("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(a.push.apply(a,t("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,t("article aside details dialog figure header footer hgroup section nav")),u.push.apply(u,t("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(a.push("xml:lang"),f=t("acronym applet basefont big font strike tt"),u.push.apply(u,f),s(f,function(e){n(e,"",u)}),d=t("center dir isindex noframes"),l.push.apply(l,d),c=[].concat(l,u),s(d,function(e){n(e,"",c)})),c=c||[].concat(l,u),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",u),n("q","cite",u),n("ins del","cite datetime",c),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",c,"param"),n("param","name value"),n("map","name",c,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",c,"legend"),n("label","form for",u),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?c:u),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",c,"li"),n("noscript","",c),"html4"!=e&&(n("wbr"),n("ruby","",u,"rt rp"),n("figcaption","",c),n("mark rt rp summary bdi","",u),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",c,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",c,"track source"),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",u,"option"),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",c,"figcaption"),n("time","datetime",u),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",u),n("progress","value max",u),n("meter","value min max low high optimum",u),n("details","open",c,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(r("script","language xml:space"),r("style","xml:space"),r("object","declare classid code codebase codetype archive standby align border hspace vspace"),r("embed","align name hspace vspace"),r("param","valuetype type"),r("a","charset name rev shape coords"),r("br","clear"),r("applet","codebase archive code object alt name width height align hspace vspace"),r("img","name longdesc align border hspace vspace"),r("iframe","longdesc frameborder marginwidth marginheight scrolling align"),r("font basefont","size color face"),r("input","usemap align"),r("select","onchange"),r("textarea"),r("h1 h2 h3 h4 h5 h6 div p legend caption","align"),r("ul","type compact"),r("li","type"),r("ol dl menu dir","compact"),r("pre","width xml:space"),r("hr","align noshade size width"),r("isindex","prompt"),r("table","summary width frame rules cellspacing cellpadding align bgcolor"),r("col","width align char charoff valign"),r("colgroup","width align char charoff valign"),r("thead","align char charoff valign"),r("tr","align char charoff valign bgcolor"),r("th","axis align char charoff valign nowrap bgcolor width height"),r("form","accept"),r("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),r("tfoot","align char charoff valign"),r("tbody","align char charoff valign"),r("area","nohref"),r("body","background bgcolor text link vlink alink")),"html4"!=e&&(r("input button select textarea","autofocus"),r("input textarea","placeholder"),r("a","download"),r("link script img","crossorigin"),r("iframe","sandbox seamless allowfullscreen")),s(t("a form meter progress dfn"),function(e){h[e]&&delete h[e].children[e]}),delete h.caption.children.table,delete h.script,i[e]=h,h)}function r(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),s(e,function(e,r){n[r]=n[r.toUpperCase()]="map"==t?a(e,/[, ]/):u(e,/[, ]/)})),n}var i={},o={},a=e.makeMap,s=e.each,l=e.extend,u=e.explode,c=e.inArray;return function(e){function o(t,n,r){var o=e[t];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=i[t],o||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,r),i[t]=o)),o}function d(e){return RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function f(e){var n,r,i,o,s,l,u,f,h,p,m,g,v,y,b,$,x,w,C,S=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,E=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,_=/[*?+]/;if(e)for(e=t(e,","),R["@"]&&($=R["@"].attributes,x=R["@"].attributesOrder),n=0,r=e.length;r>n;n++)if(s=S.exec(e[n])){if(y=s[1],h=s[2],b=s[3],f=s[5],g={},v=[],l={attributes:g,attributesOrder:v},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),$){for(w in $)g[w]=$[w];v.push.apply(v,x)}if(f)for(f=t(f,"|"),i=0,o=f.length;o>i;i++)if(s=E.exec(f[i])){if(u={},m=s[1],p=s[2].replace(/::/g,":"),y=s[3],C=s[4],"!"===m&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(p),u.required=!0),"-"===m){delete g[p],v.splice(c(v,p),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:p,value:C}),u.defaultValue=C),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:p,value:C}),u.forcedValue=C),"<"===y&&(u.validValues=a(C,"?"))),_.test(p)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(p),l.attributePatterns.push(u)):(g[p]||v.push(p),g[p]=u)}$||"@"!=h||($=g,x=v),b&&(l.outputName=h,R[b]=l),_.test(h)?(l.pattern=d(h),M.push(l)):R[h]=l}}function h(e){R={},M=[],f(e),s(b,function(e,t){D[t]=e.children})}function p(e){var n=/^(~)?(.+)$/;e&&(i.text_block_elements=i.block_elements=null,s(t(e,","),function(e){var t=n.exec(e),r="~"===t[1],i=r?"span":"div",o=t[2];if(D[o]=D[i],P[o]=i,r||(E[o.toUpperCase()]={},E[o]={}),!R[o]){var a=R[i];a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,R[o]=a}s(D,function(e,t){e[i]&&(D[t]=e=l({},D[t]),e[o]=e[i])})}))}function m(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&s(t(e,","),function(e){var r,i,o=n.exec(e);o&&(i=o[1],r=i?D[o[2]]:D[o[2]]={"#comment":{}},r=D[o[2]],s(t(o[3],"|"),function(e){"-"===i?(D[o[2]]=r=l({},D[o[2]]),delete r[e]):r[e]={}}))})}function g(e){var t,n=R[e];if(n)return n;for(t=M.length;t--;)if(n=M[t],n.pattern.test(e))return n}var v,y,b,$,x,w,C,S,E,_,k,T,A,N=this,R={},D={},M=[],P={},O={};e=e||{},b=n(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),v=r(e.valid_styles),y=r(e.invalid_styles,"map"),S=r(e.valid_classes,"map"),$=o("whitespace_elements","pre script noscript style textarea video audio iframe object"),x=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),w=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),C=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),_=o("non_empty_elements","td th iframe video audio object script",w),k=o("move_caret_before_on_enter_elements","table",_),T=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),E=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",T),A=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((e.special||"script noscript style textarea").split(" "),function(e){O[e]=RegExp("</"+e+"[^>]*>","gi")}),e.valid_elements?h(e.valid_elements):(s(b,function(e,t){R[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},D[t]=e.children}),"html5"!=e.schema&&s(t("strong/b em/i"),function(e){e=t(e,"/"),R[e[1]].outputName=e[0]}),R.img.attributesDefault=[{name:"alt",value:""}],s(t("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){R[e]&&(R[e].removeEmpty=!0)}),s(t("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){R[e].paddEmpty=!0}),s(t("span"),function(e){R[e].removeEmptyAttrs=!0})),p(e.custom_elements),m(e.valid_children),f(e.extended_valid_elements),m("+ol[ul|ol],+ul[ul|ol]"),e.invalid_elements&&s(u(e.invalid_elements),function(e){R[e]&&delete R[e]}),g("span")||f("span[!data-mce-type|*]"),N.children=D,N.getValidStyles=function(){return v},N.getInvalidStyles=function(){return y},N.getValidClasses=function(){return S},N.getBoolAttrs=function(){return C},N.getBlockElements=function(){return E},N.getTextBlockElements=function(){return T},N.getTextInlineElements=function(){return A},N.getShortEndedElements=function(){return w},N.getSelfClosingElements=function(){return x},N.getNonEmptyElements=function(){return _},N.getMoveCaretBeforeOnEnterElements=function(){return k},N.getWhiteSpaceElements=function(){return $},N.getSpecialElements=function(){return O},N.isValidChild=function(e,t){var n=D[e];return!(!n||!n[t])},N.isValid=function(e,t){var n,r,i=g(e);
if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},N.getElementRule=g,N.getCustomElements=function(){return P},N.addValidElements=f,N.setValidElements=h,N.addCustomElements=p,N.addValidChildren=m,N.elements=R}}),r("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,t,n){function r(e,t,n){var r,i,o,a,s=1;for(a=e.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=r=n;i=o.exec(t);){if(r=o.lastIndex,"/"===i[1])s--;else if(!i[1]){if(i[2]in a)continue;s++}if(0===s)break}return r}function i(i,a){function s(){}var l=this;i=i||{},l.schema=a=a||new e,i.fix_self_closing!==!1&&(i.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(e){e&&(l[e]=i[e]||s)}),l.parse=function(e){function o(e){var t,n;for(t=H.length;t--&&H[t].name!==e;);if(t>=0){for(n=H.length-1;n>=t;n--)e=H[n],e.valid&&I.end(e.name);H.length=t}}function s(e,t,n,r,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(t=t.toLowerCase(),n=t in y?t:U(n||r||o||""),$&&!m&&0!==t.indexOf("data-")){if(a=E[t],!a&&_){for(s=_.length;s--&&(a=_[s],!a.pattern.test(t)););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(j[t]&&!i.allow_script_urls){var u=n.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(z.test(u))return;if(!i.allow_html_data_urls&&V.test(u)&&!/^data:image\//i.test(u))return}d.map[t]=n,d.push({name:t,value:n})}var l,u,c,d,f,h,p,m,g,v,y,b,$,x,w,C,S,E,_,k,T,A,N,R,D,M,P,O,B,I=this,L=0,H=[],F=0,U=t.decode,j=n.makeMap("src,href,data,background,formaction,poster"),z=/((java|vb)script|mhtml):/i,V=/^data:/i;for(D=RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),R=i.self_closing_elements||a.getSelfClosingElements(),y=a.getBoolAttrs(),$=i.validate,g=i.remove_internals,B=i.fix_self_closing,P=a.getSpecialElements();l=D.exec(e);){if(l.index>L&&I.text(U(e.substr(L,l.index-L))),u=l[6])u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),o(u);else if(u=l[7]){if(u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),b=u in v,B&&R[u]&&H.length>0&&H[H.length-1].name===u&&o(u),!$||(x=a.getElementRule(u))){if(w=!0,$&&(E=x.attributes,_=x.attributePatterns),(S=l[8])?(m=-1!==S.indexOf("data-mce-type"),m&&g&&(w=!1),d=[],d.map={},S.replace(M,s)):(d=[],d.map={}),$&&!m){if(k=x.attributesRequired,T=x.attributesDefault,A=x.attributesForced,N=x.removeEmptyAttrs,N&&!d.length&&(w=!1),A)for(f=A.length;f--;)C=A[f],p=C.name,O=C.value,"{$uid}"===O&&(O="mce_"+F++),d.map[p]=O,d.push({name:p,value:O});if(T)for(f=T.length;f--;)C=T[f],p=C.name,p in d.map||(O=C.value,"{$uid}"===O&&(O="mce_"+F++),d.map[p]=O,d.push({name:p,value:O}));if(k){for(f=k.length;f--&&!(k[f]in d.map););-1===f&&(w=!1)}if(C=d.map["data-mce-bogus"]){if("all"===C){L=r(a,e,D.lastIndex),D.lastIndex=L;continue}w=!1}}w&&I.start(u,d,b)}else w=!1;if(c=P[u]){c.lastIndex=L=l.index+l[0].length,(l=c.exec(e))?(w&&(h=e.substr(L,l.index-L)),L=l.index+l[0].length):(h=e.substr(L),L=e.length),w&&(h.length>0&&I.text(h,!0),I.end(u)),D.lastIndex=L;continue}b||(S&&S.indexOf("/")==S.length-1?w&&I.end(u):H.push({name:u,valid:w}))}else(u=l[1])?(">"===u.charAt(0)&&(u=" "+u),i.allow_conditional_comments||"[if"!==u.substr(0,3)||(u=" "+u),I.comment(u)):(u=l[2])?I.cdata(u):(u=l[3])?I.doctype(u):(u=l[4])&&I.pi(u,l[5]);L=l.index+l[0].length}for(e.length>L&&I.text(U(e.substr(L))),f=H.length-1;f>=0;f--)u=H[f],u.valid&&I.end(u.name)}}var o=n.each;return i.findEndTag=r,i}),r("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(e,n,r,i){var o=i.makeMap,a=i.each,s=i.explode,l=i.extend;return function(i,u){function c(t){var n,r,i,a,s,l,c,f,h,p,m,g,v,y;for(m=o("tr,td,th,tbody,thead,tfoot,table"),p=u.getNonEmptyElements(),g=u.getTextBlockElements(),n=0;t.length>n;n++)if(r=t[n],r.parent&&!r.fixed)if(g[r.name]&&"li"==r.parent.name){for(v=r.next;v&&g[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(a=[r],i=r.parent;i&&!u.isValidChild(i.name,r.name)&&!m[i.name];i=i.parent)a.push(i);if(i&&a.length>1){for(a.reverse(),s=l=d.filterNode(a[0].clone()),h=0;a.length-1>h;h++){for(u.isValidChild(l.name,a[h].name)?(c=d.filterNode(a[h].clone()),l.append(c)):c=l,f=a[h].firstChild;f&&f!=a[h+1];)y=f.next,c.append(f),f=y;l=c}s.isEmpty(p)?i.insert(r,a[0],!0):(i.insert(s,a[0],!0),i.insert(r,s)),i=a[0],(i.isEmpty(p)||i.firstChild===i.lastChild&&"br"===i.firstChild.name)&&i.empty().remove()}else if(r.parent){if("li"===r.name){if(v=r.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if(v=r.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(d.filterNode(new e("ul",1)));continue}u.isValidChild(r.parent.name,"div")&&u.isValidChild("div",r.name)?r.wrap(d.filterNode(new e("div",1))):"style"===r.name||"script"===r.name?r.empty().remove():r.unwrap()}}}var d=this,f={},h=[],p={},m={};i=i||{},i.validate="validate"in i?i.validate:!0,i.root_name=i.root_name||"body",d.schema=u=u||new n,d.filterNode=function(e){var t,n,r;n in f&&(r=p[n],r?r.push(e):p[n]=[e]),t=h.length;for(;t--;)n=h[t].name,n in e.attributes.map&&(r=m[n],r?r.push(e):m[n]=[e]);return e},d.addNodeFilter=function(e,t){a(s(e),function(e){var n=f[e];n||(f[e]=n=[]),n.push(t)})},d.addAttributeFilter=function(e,n){a(s(e),function(e){var r;for(r=0;h.length>r;r++)if(h[r].name===e)return h[r].callbacks.push(n),t;h.push({name:e,callbacks:[n]})})},d.parse=function(n,a){function s(){function e(e){e&&(r=e.firstChild,r&&3==r.type&&(r.value=r.value.replace(N,"")),r=e.lastChild,r&&3==r.type&&(r.value=r.value.replace(D,"")))}var t,n,r=b.firstChild;if(u.isValidChild(b.name,L.toLowerCase())){for(;r;)t=r.next,3==r.type||1==r.type&&"p"!==r.name&&!A[r.name]&&!r.attr("data-mce-type")?n?n.append(r):(n=d(L,1),n.attr(i.forced_root_block_attrs),b.insert(n,r),n.append(r)):(e(n),n=null),r=t;e(n)}}function d(t,n){var r,i=new e(t,n);return t in f&&(r=p[t],r?r.push(i):p[t]=[i]),i}function g(e){var n,r,i,o,a=u.getBlockElements();for(n=e.prev;n&&3===n.type;){if(i=n.value.replace(D,""),i.length>0)return n.value=i,t;if(r=n.next){if(3==r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!=r.name&&"style"!=r.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}}function v(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var y,b,$,x,w,C,S,E,_,k,T,A,N,R,D,M,P,O,B,I,L,H=[];if(a=a||{},p={},m={},A=l(o("script,style,head,html,body,title,meta,param"),u.getBlockElements()),I=u.getNonEmptyElements(),B=u.children,T=i.validate,L="forced_root_block"in a?a.forced_root_block:i.forced_root_block,O=u.getWhiteSpaceElements(),N=/^[ \t\r\n]+/,D=/[ \t\r\n]+$/,M=/[ \t\r\n]+/g,P=/^[ \t\r\n]+$/,y=new r({validate:T,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:v(u.getSelfClosingElements()),cdata:function(e){$.append(d("#cdata",4)).value=e},text:function(e,t){var n;R||(e=e.replace(M," "),$.lastChild&&A[$.lastChild.name]&&(e=e.replace(N,""))),0!==e.length&&(n=d("#text",3),n.raw=!!t,$.append(n).value=e)},comment:function(e){$.append(d("#comment",8)).value=e},pi:function(e,t){$.append(d(e,7)).value=t,g($)},doctype:function(e){var t;t=$.append(d("#doctype",10)),t.value=e,g($)},start:function(e,t,n){var r,i,o,a,s;if(o=T?u.getElementRule(e):{}){for(r=d(o.outputName||e,1),r.attributes=t,r.shortEnded=n,$.append(r),s=B[$.name],s&&B[r.name]&&!s[r.name]&&H.push(r),i=h.length;i--;)a=h[i].name,a in t.map&&(_=m[a],_?_.push(r):m[a]=[r]);A[e]&&g(r),n||($=r),!R&&O[e]&&(R=!0)}},end:function(n){var r,i,o,a,s;if(i=T?u.getElementRule(n):{}){if(A[n]&&!R){if(r=$.firstChild,r&&3===r.type)if(o=r.value.replace(N,""),o.length>0)r.value=o,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)o=r.value,a=r.next,(0===o.length||P.test(o))&&(r.remove(),r=a),r=a;if(r=$.lastChild,r&&3===r.type)if(o=r.value.replace(D,""),o.length>0)r.value=o,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)o=r.value,a=r.prev,(0===o.length||P.test(o))&&(r.remove(),r=a),r=a}if(R&&O[n]&&(R=!1),(i.removeEmpty||i.paddEmpty)&&$.isEmpty(I))if(i.paddEmpty)$.empty().append(new e("#text","3")).value="";else if(!$.attributes.map.name&&!$.attributes.map.id)return s=$.parent,A[$.name]?$.empty().remove():$.unwrap(),$=s,t;$=$.parent}}},u),b=$=new e(a.context||i.root_name,11),y.parse(n),T&&H.length&&(a.context?a.invalid=!0:c(H)),L&&("body"==b.name||a.isRootContent)&&s(),!a.invalid){for(k in p){for(_=f[k],x=p[k],S=x.length;S--;)x[S].parent||x.splice(S,1);for(w=0,C=_.length;C>w;w++)_[w](x,k,a)}for(w=0,C=h.length;C>w;w++)if(_=h[w],_.name in m){for(x=m[_.name],S=x.length;S--;)x[S].parent||x.splice(S,1);for(S=0,E=_.callbacks.length;E>S;S++)_.callbacks[S](x,_.name,a)}}return b},i.remove_trailing_brs&&d.addNodeFilter("br",function(t){var n,r,i,o,a,s,c,d,f=t.length,h=l({},u.getBlockElements()),p=u.getNonEmptyElements();for(h.body=1,n=0;f>n;n++)if(r=t[n],i=r.parent,h[r.parent.name]&&r===i.lastChild){for(a=r.prev;a;){if(s=a.name,"span"!==s||"bookmark"!==a.attr("data-mce-type")){if("br"!==s)break;if("br"===s){r=null;break}}a=a.prev}r&&(r.remove(),i.isEmpty(p)&&(c=u.getElementRule(i.name),c&&(c.removeEmpty?i.remove():c.paddEmpty&&(i.empty().append(new e("#text",3)).value=""))))}else{for(o=r;i&&i.firstChild===o&&i.lastChild===o&&(o=i,!h[i.name]);)i=i.parent;o===i&&(d=new e("#text",3),d.value="",r.replace(d))}}),i.allow_html_in_named_anchor||d.addAttributeFilter("id,name",function(e){for(var t,n,r,i,o=e.length;o--;)if(i=e[o],"a"===i.name&&i.firstChild&&!i.attr("href")){r=i.parent,t=i.lastChild;do n=t.prev,r.insert(t,i),t=n;while(t)}}),i.validate&&u.getValidClasses()&&d.addAttributeFilter("class",function(e){for(var t,n,r,i,o,a,s,l=e.length,c=u.getValidClasses();l--;){for(t=e[l],n=t.attr("class").split(" "),o="",r=0;n.length>r;r++)i=n[r],s=!1,a=c["*"],a&&a[i]&&(s=!0),a=c[t.name],!s&&a&&a[i]&&(s=!0),s&&(o&&(o+=" "),o+=i);o.length||(o=null),t.attr("class",o)}})}}),r("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(e,t){var n=t.makeMap;return function(t){var r,i,o,a,s,l=[];return t=t||{},r=t.indent,i=n(t.indent_before||""),o=n(t.indent_after||""),a=e.getEncodeFunc(t.entity_encoding||"raw",t.entities),s="html"==t.element_format,{start:function(e,t,n){var u,c,d,f;if(r&&i[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n")),l.push("<",e),t)for(u=0,c=t.length;c>u;u++)d=t[u],l.push(" ",d.name,'="',a(d.value,!0),'"');l[l.length]=!n||s?">":" />",n&&r&&o[e]&&l.length>0&&(f=l[l.length-1],f.length>0&&"\n"!==f&&l.push("\n"))},end:function(e){var t;l.push("</",e,">"),r&&o[e]&&l.length>0&&(t=l[l.length-1],t.length>0&&"\n"!==t&&l.push("\n"))},text:function(e,t){e.length>0&&(l[l.length]=t?e:a(e))},cdata:function(e){l.push("<![CDATA[",e,"]]>")},comment:function(e){l.push("<!--",e,"-->")},pi:function(e,t){t?l.push("<?",e," ",a(t),"?>"):l.push("<?",e,"?>"),r&&l.push("\n")},doctype:function(e){l.push("<!DOCTYPE",e,">",r?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),r("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(e,t){return function(n,r){var i=this,o=new e(n);n=n||{},n.validate="validate"in n?n.validate:!0,i.schema=r=r||new t,i.writer=o,i.serialize=function(e){function t(e){var n,s,l,u,c,d,f,h,p,m=i[e.type];if(m)m(e);else{if(n=e.name,s=e.shortEnded,l=e.attributes,a&&l&&l.length>1){for(d=[],d.map={},p=r.getElementRule(e.name),f=0,h=p.attributesOrder.length;h>f;f++)u=p.attributesOrder[f],u in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(f=0,h=l.length;h>f;f++)u=l[f].name,u in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(o.start(e.name,l,s),!s){if(e=e.firstChild)do t(e);while(e=e.next);o.end(n)}}}var i,a;return a=n.validate,i={3:function(e){o.text(e.value,e.raw)},8:function(e){o.comment(e.value)},7:function(e){o.pi(e.name,e.value)},10:function(e){o.doctype(e.value)},4:function(e){o.cdata(e.value)},11:function(e){if(e=e.firstChild)do t(e);while(e=e.next)}},o.reset(),1!=e.type||n.inner?i[11](e):t(e),o.getContent()}}}),r("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(e,t,n,r,i,o,a,s){var l=s.each,u=s.trim,c=e.DOM;return function(e,i){var s,d,f;return i&&(s=i.dom,d=i.schema),s=s||c,d=d||new o(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0,f=new t(e,d),f.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),f.addAttributeFilter("src,href,style",function(t,n){for(var r,i,o,a=t.length,l="data-mce-"+n,u=e.url_converter,c=e.url_converter_scope;a--;)r=t[a],i=r.attributes.map[l],i!==o?(r.attr(n,i.length>0?i:null),r.attr(l,null)):(i=r.attributes.map[n],"style"===n?i=s.serializeStyle(s.parseStyle(i),r.name):u&&(i=u.call(c,i,n,r.name)),r.attr(n,i.length>0?i:null))}),f.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),f.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,i=e.length;i--;)r=e[i],"bookmark"!==r.attributes.map["data-mce-type"]||n.cleanup||r.remove()}),f.addNodeFilter("noscript",function(e){for(var t,r=e.length;r--;)t=e[r].firstChild,t&&(t.value=n.decode(t.value))}),f.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var r,i,o,a=e.length;a--;)r=e[a],i=r.firstChild?r.firstChild.value:"","script"===t?(o=r.attr("type"),o&&r.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),i.length>0&&(r.firstChild.value="// <![CDATA[\n"+n(i)+"\n// ]]>")):i.length>0&&(r.firstChild.value="<!--\n"+n(i)+"\n-->")}),f.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),f.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.fix_list_elements&&f.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.parent,("ul"===n.name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:d,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(t,n){var i,o,c,h,p,m=this;return a.ie&&s.select("script,style,select,map").length>0?(p=t.innerHTML,t=t.cloneNode(!1),s.setHTML(t,p)):t=t.cloneNode(!0),i=t.ownerDocument.implementation,i.createHTMLDocument&&(o=i.createHTMLDocument(""),l("BODY"==t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!=t.nodeName?o.body.firstChild:o.body,c=s.doc,s.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=t,m.onPreProcess(n)),h=new r(e,d),n.content=h.serialize(f.parse(u(n.getInner?t.innerHTML:s.getOuterHTML(t)),n)),n.cleanup||(n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||m.onPostProcess(n),c&&(s.doc=c),n.node=null,n.content},addRules:function(e){d.addValidElements(e)},setRules:function(e){d.setValidElements(e)},onPreProcess:function(e){i&&i.fire("PreProcess",e)},onPostProcess:function(e){i&&i.fire("PostProcess",e)}}}}),r("tinymce/dom/TridentSelection",[],function(){function e(e){function n(t,n){var r,i,o,a,s,l,u,c,d=0,f=-1;if(r=t.duplicate(),r.collapse(n),c=r.parentElement(),c.ownerDocument===e.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(a=c.children,i=a.length-1;i>=d;)if(u=Math.floor((d+i)/2),s=a[u],r.moveToElementText(s),f=r.compareEndPoints(n?"StartToStart":"EndToEnd",t),f>0)i=u-1;else{if(!(0>f))return{node:s};d=u+1}if(0>f)for(s?r.collapse(!1):(r.moveToElementText(c),r.collapse(!0),s=c,o=!0),l=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",1)&&c==r.parentElement();)l++;else for(r.collapse(!0),l=0;0!==r.compareEndPoints(n?"StartToStart":"StartToEnd",t)&&0!==r.move("character",-1)&&c==r.parentElement();)l++;return{node:s,position:f,offset:l,inside:o}}}function r(){function r(e){var r,i,o,a,s,l=n(d,e),u=0;if(r=l.node,i=l.offset,l.inside&&!r.hasChildNodes())return f[e?"setStart":"setEnd"](r,0),t;if(i===a)return f[e?"setStartBefore":"setEndAfter"](r),t;if(0>l.position){if(o=l.inside?r.firstChild:r.nextSibling,!o)return f[e?"setStartAfter":"setEndAfter"](r),t;if(!i)return 3==o.nodeType?f[e?"setStart":"setEnd"](o,0):f[e?"setStartBefore":"setEndBefore"](o),t;for(;o;){if(3==o.nodeType&&(s=o.nodeValue,u+=s.length,u>=i)){r=o,u-=i,u=s.length-u;break}o=o.nextSibling}}else{if(o=r.previousSibling,!o)return f[e?"setStartBefore":"setEndBefore"](r);if(!i)return 3==r.nodeType?f[e?"setStart":"setEnd"](o,r.nodeValue.length):f[e?"setStartAfter":"setEndAfter"](o),t;for(;o;){if(3==o.nodeType&&(u+=o.nodeValue.length,u>=i)){r=o,u-=i;break}o=o.previousSibling}}f[e?"setStart":"setEnd"](r,u)}var a,s,l,u,c,d=e.getRng(),f=o.createRng();if(a=d.item?d.item(0):d.parentElement(),a.ownerDocument!=o.doc)return f;if(s=e.isCollapsed(),d.item)return f.setStart(a.parentNode,o.nodeIndex(a)),f.setEnd(f.startContainer,f.startOffset+1),f;try{r(!0),s||r()}catch(h){if(-2147024809!=h.number)throw h;c=i.getBookmark(2),l=d.duplicate(),l.collapse(!0),a=l.parentElement(),s||(l=d.duplicate(),l.collapse(!1),u=l.parentElement(),u.innerHTML=u.innerHTML),a.innerHTML=a.innerHTML,i.moveToBookmark(c),d=e.getRng(),r(!0),s||r()}return f}var i=this,o=e.dom,a=!1;this.getBookmark=function(r){function i(e){var t,n,r,i,a=[];for(t=e.parentNode,n=o.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=t.children,i=r.length;i--;)if(e===r[i]){a.push(i);break}e=t,t=t.parentNode}return a}function a(e){var r;return r=n(s,e),r?{position:r.position,offset:r.offset,indexes:i(r.node),inside:r.inside}:t}var s=e.getRng(),l={};return 2===r&&(s.item?l.start={ctrl:!0,indexes:i(s.item(0))}:(l.start=a(!0),e.isCollapsed()||(l.end=a()))),l},this.moveToBookmark=function(e){function t(e){var t,n,r,i;for(t=o.getRoot(),n=e.length-1;n>=0;n--)i=t.children,r=e[n],i.length-1>=r&&(t=i[r]);return t}function n(n){var o,a,s,l,u=e[n?"start":"end"];u&&(o=u.position>0,a=i.createTextRange(),a.moveToElementText(t(u.indexes)),l=u.offset,l!==s?(a.collapse(u.inside||o),a.moveStart("character",o?-l:l)):a.collapse(n),r.setEndPoint(n?"StartToStart":"EndToStart",a),n&&r.collapse(!0))}var r,i=o.doc.body;e.start&&(e.start.ctrl?(r=i.createControlRange(),r.addElement(t(e.start.indexes)),r.select()):(r=i.createTextRange(),n(!0),n(),r.select()))},this.addRange=function(n){function r(e){var t,n,r,s,f;r=o.create("a"),t=e?l:c,n=e?u:d,s=i.duplicate(),(t==m||t==m.documentElement)&&(t=g,n=0),3==t.nodeType?(t.parentNode.insertBefore(r,t),s.moveToElementText(r),s.moveStart("character",n),o.remove(r),i.setEndPoint(e?"StartToStart":"EndToEnd",s)):(f=t.childNodes,f.length?(n>=f.length?o.insertAfter(r,f[f.length-1]):t.insertBefore(r,f[n]),s.moveToElementText(r)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",r=t.firstChild,s.moveToElementText(r),s.collapse(a)),i.setEndPoint(e?"StartToStart":"EndToEnd",s),o.remove(r))}var i,s,l,u,c,d,f,h,p,m=e.dom.doc,g=m.body;if(l=n.startContainer,u=n.startOffset,c=n.endContainer,d=n.endOffset,i=g.createTextRange(),l==c&&1==l.nodeType){if(u==d&&!l.hasChildNodes()){if(l.canHaveHTML)return f=l.previousSibling,f&&!f.hasChildNodes()&&o.isBlock(f)?f.innerHTML="&#xFEFF;":f=null,l.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(l.lastChild),i.select(),o.doc.selection.clear(),l.innerHTML="",f&&(f.innerHTML=""),t;u=o.nodeIndex(l),l=l.parentNode}if(u==d-1)try{if(p=l.childNodes[u],s=g.createControlRange(),s.addElement(p),s.select(),h=e.getRng(),h.item&&p===h.item(0))return}catch(v){}}r(!0),r(),i.select()},this.getRangeAt=r}return e}),r("tinymce/util/VK",["tinymce/Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}}),r("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(e,n,r){return function(i,o){function a(e){var t=o.settings.object_resizing;return t===!1||r.iOS?!1:("string"!=typeof t&&(t="table,img,div"),"false"===e.getAttribute("data-mce-resize")?!1:o.dom.is(e,t))}function s(t){var n,r,i,a,s;n=t.screenX-k,r=t.screenY-T,O=n*E[2]+R,B=r*E[3]+D,O=5>O?5:O,B=5>B?5:B,i="IMG"==x.nodeName&&o.settings.resize_img_proportional!==!1?!e.modifierPressed(t):e.modifierPressed(t)||"IMG"==x.nodeName&&0!==E[2]*E[3],i&&(V(n)>V(r)?(B=q(O*M),O=q(B/M)):(O=q(B/M),B=q(O*M))),H.setStyles(w,{width:O,height:B}),a=E.startPos.x+n,s=E.startPos.y+r,a=a>0?a:0,s=s>0?s:0,H.setStyles(C,{left:a,top:s,display:"block"}),C.innerHTML=O+" &times; "+B,0>E[2]&&O>=w.clientWidth&&H.setStyle(w,"left",A+(R-O)),0>E[3]&&B>=w.clientHeight&&H.setStyle(w,"top",N+(D-B)),n=W.scrollWidth-I,r=W.scrollHeight-L,0!==n+r&&H.setStyles(C,{left:a-n,top:s-r}),P||(o.fire("ObjectResizeStart",{target:x,width:R,height:D}),P=!0)}function l(){function e(e,t){t&&(x.style[e]||!o.schema.isValid(x.nodeName.toLowerCase(),e)?H.setStyle(x,e,t):H.setAttrib(x,e,t))}P=!1,e("width",O),e("height",B),H.unbind(U,"mousemove",s),H.unbind(U,"mouseup",l),j!=U&&(H.unbind(j,"mousemove",s),H.unbind(j,"mouseup",l)),H.remove(w),H.remove(C),z&&"TABLE"!=x.nodeName||u(x),o.fire("ObjectResized",{target:x,width:O,height:B}),H.setAttrib(x,"style",H.getAttrib(x,"style")),o.nodeChanged()}function u(e,n,i){var u,d,f,h,p;v(),u=H.getPos(e,W),A=u.x,N=u.y,p=e.getBoundingClientRect(),d=p.width||p.right-p.left,f=p.height||p.bottom-p.top,x!=e&&(g(),x=e,O=B=0),h=o.fire("ObjectSelected",{target:e}),a(e)&&!h.isDefaultPrevented()?F(S,function(e,o){function a(t){k=t.screenX,T=t.screenY,R=x.clientWidth,D=x.clientHeight,M=D/R,E=e,e.startPos={x:d*e[0]+A,y:f*e[1]+N},I=W.scrollWidth,L=W.scrollHeight,w=x.cloneNode(!0),H.addClass(w,"mce-clonedresizable"),H.setAttrib(w,"data-mce-bogus","all"),w.contentEditable=!1,w.unSelectabe=!0,H.setStyles(w,{left:A,top:N,margin:0}),w.removeAttribute("data-mce-selected"),W.appendChild(w),H.bind(U,"mousemove",s),H.bind(U,"mouseup",l),j!=U&&(H.bind(j,"mousemove",s),H.bind(j,"mouseup",l)),C=H.add(W,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},R+" &times; "+D)}var u;return n?(o==n&&a(i),t):(u=H.get("mceResizeHandle"+o),u&&H.remove(u),u=H.add(W,"div",{id:"mceResizeHandle"+o,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+o+"-resize; margin:0; padding:0"}),r.ie&&(u.contentEditable=!1),H.bind(u,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),a(e)}),e.elm=u,H.setStyles(u,{left:d*e[0]+A-u.offsetWidth/2,top:f*e[1]+N-u.offsetHeight/2}),t)}):c(),x.setAttribute("data-mce-selected","1")}function c(){var e,t;v(),x&&x.removeAttribute("data-mce-selected");for(e in S)t=H.get("mceResizeHandle"+e),t&&(H.unbind(t),H.remove(t))}function d(e){function n(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)}var r,a;if(!P&&!o.removed)return F(H.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),a="mousedown"==e.type?e.target:i.getNode(),a=H.$(a).closest(z?"table":"table,img,hr")[0],n(a,W)&&(y(),r=i.getStart(!0),n(r,a)&&n(i.getEnd(!0),a)&&(!z||a!=r&&"IMG"!==r.nodeName))?(u(a),t):(c(),t)}function f(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function h(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function p(e){var t,n,r,i,a,s,l,c=e.srcElement;t=c.getBoundingClientRect(),s=_.clientX-t.left,l=_.clientY-t.top;for(n in S)if(r=S[n],i=c.offsetWidth*r[0],a=c.offsetHeight*r[1],8>V(i-s)&&8>V(a-l)){E=r;break}P=!0,o.fire("ObjectResizeStart",{target:x,width:x.clientWidth,height:x.clientHeight}),o.getDoc().selection.empty(),u(c,n,_)}function m(e){var n=e.srcElement;if(n!=x){if(o.fire("ObjectSelected",{target:n}),g(),0===n.id.indexOf("mceResizeHandle"))return e.returnValue=!1,t;("IMG"==n.nodeName||"TABLE"==n.nodeName)&&(c(),x=n,f(n,"resizestart",p))}}function g(){h(x,"resizestart",p)}function v(){for(var e in S){var t=S[e];t.elm&&(H.unbind(t.elm),delete t.elm)}}function y(){try{o.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function b(e){var t;if(z){t=U.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function $(){x=w=null,z&&(g(),h(W,"controlselect",m))}var x,w,C,S,E,_,k,T,A,N,R,D,M,P,O,B,I,L,H=o.dom,F=n.each,U=o.getDoc(),j=document,z=r.ie&&11>r.ie,V=Math.abs,q=Math.round,W=o.getBody();S={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var G=".mce-content-body";return o.contentStyles.push(G+" div.mce-resizehandle {"+"position: absolute;"+"border: 1px solid black;"+"background: #FFF;"+"width: 7px;"+"height: 7px;"+"z-index: 10000"+"}"+G+" .mce-resizehandle:hover {"+"background: #000"+"}"+G+" img[data-mce-selected], hr[data-mce-selected] {"+"outline: 1px solid black;"+"resize: none"+"}"+G+" .mce-clonedresizable {"+"position: absolute;"+(r.gecko?"":"outline: 1px dashed black;")+"opacity: .5;"+"filter: alpha(opacity=50);"+"z-index: 10000"+"}"+G+" .mce-resize-helper {"+"background: #555;"+"background: rgba(0,0,0,0.75);"+"border-radius: 3px;"+"border: 1px;"+"color: white;"+"display: none;"+"font-family: sans-serif;"+"font-size: 12px;"+"white-space: nowrap;"+"line-height: 14px;"+"margin: 5px 10px;"+"padding: 5px;"+"position: absolute;"+"z-index: 10001"+"}"),o.on("init",function(){z?(o.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(c(),b(e.target))}),f(W,"controlselect",m),o.on("mousedown",function(e){_=e})):(y(),r.ie>=11&&(o.on("mouseup",function(e){var t=e.target.nodeName;!P&&/^(TABLE|IMG|HR)$/.test(t)&&(o.selection.select(e.target,"TABLE"==t),o.nodeChanged())}),o.dom.bind(W,"mscontrolselect",function(e){/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&window.setTimeout(function(){o.selection.select(e.target)},0))}))),o.on("nodechange ResizeEditor ResizeWindow",function(e){window.requestAnimationFrame?window.requestAnimationFrame(function(){d(e)}):d(e)}),o.on("keydown keyup",function(e){x&&"TABLE"==x.nodeName&&d(e)}),o.on("hide",c)}),o.on("remove",v),{isResizable:a,showResizeRect:u,hideResizeRect:c,updateResizeRect:d,controlSelect:b,destroy:$}}}),r("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools"],function(e,t){function n(n){var r=n.dom;this.getBookmark=function(e,i){function o(e,n){var i=0;return t.each(r.select(e),function(e,t){e==n&&(i=t)}),i}function a(e){function t(t){var n,r,i,o=t?"start":"end";n=e[o+"Container"],r=e[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(i=n.childNodes,n=i[Math.min(t?r:r-1,i.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))}return t(!0),t(),e}function s(){function e(e,t){var n,a,s=e[t?"startContainer":"endContainer"],l=e[t?"startOffset":"endOffset"],u=[],c=0;if(3==s.nodeType){if(i)for(n=s.previousSibling;n&&3==n.nodeType;n=n.previousSibling)l+=n.nodeValue.length;u.push(l)}else a=s.childNodes,l>=a.length&&a.length&&(c=1,l=Math.max(0,a.length-1)),u.push(r.nodeIndex(a[l],i)+c);for(;s&&s!=o;s=s.parentNode)u.push(r.nodeIndex(s,i));return u}var t=n.getRng(!0),o=r.getRoot(),a={};return a.start=e(t,!0),n.isCollapsed()||(a.end=e(t)),a}var l,u,c,d,f,h,p,m="&#xFEFF;";if(2==e)return h=n.getNode(),f=h?h.nodeName:null,"IMG"==f?{name:f,index:o(f,h)}:n.tridentSel?n.tridentSel.getBookmark(e):s();if(e)return{rng:n.getRng()};if(l=n.getRng(),c=r.uniqueId(),d=n.isCollapsed(),p="overflow:hidden;line-height:0px",l.duplicate||l.item){if(l.item)return h=l.item(0),f=h.nodeName,{name:f,index:o(f,h)};u=l.duplicate();try{l.collapse(),l.pasteHTML('<span data-mce-type="bookmark" id="'+c+'_start" style="'+p+'">'+m+"</span>"),d||(u.collapse(!1),l.moveToElementText(u.parentElement()),0===l.compareEndPoints("StartToEnd",u)&&u.move("character",-1),u.pasteHTML('<span data-mce-type="bookmark" id="'+c+'_end" style="'+p+'">'+m+"</span>"))}catch(g){return null}}else{if(h=n.getNode(),f=h.nodeName,"IMG"==f)return{name:f,index:o(f,h)};u=a(l.cloneRange()),d||(u.collapse(!1),u.insertNode(r.create("span",{"data-mce-type":"bookmark",id:c+"_end",style:p},m))),l=a(l),l.collapse(!0),l.insertNode(r.create("span",{"data-mce-type":"bookmark",id:c+"_start",style:p},m))}return n.moveToBookmark({id:c,keep:1}),{id:c}},this.moveToBookmark=function(i){function o(e){var t,n,r,o,a=i[e?"start":"end"];if(a){for(r=a[0],n=u,t=a.length-1;t>=1;t--){if(o=n.childNodes,a[t]>o.length-1)return;n=o[a[t]]}3===n.nodeType&&(r=Math.min(a[0],n.nodeValue.length)),1===n.nodeType&&(r=Math.min(a[0],n.childNodes.length)),e?l.setStart(n,r):l.setEnd(n,r)}return!0}function a(n){var o,a,s,l,u=r.get(i.id+"_"+n),p=i.keep;if(u&&(o=u.parentNode,"start"==n?(p?(o=u.firstChild,a=1):a=r.nodeIndex(u),c=d=o,f=h=a):(p?(o=u.firstChild,a=1):a=r.nodeIndex(u),d=o,h=a),!p)){for(l=u.previousSibling,s=u.nextSibling,t.each(t.grep(u.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=r.get(i.id+"_"+n);)r.remove(u,1);l&&s&&l.nodeType==s.nodeType&&3==l.nodeType&&!e.opera&&(a=l.nodeValue.length,l.appendData(s.nodeValue),r.remove(s),"start"==n?(c=d=l,f=h=a):(d=l,h=a))}}function s(t){return!r.isBlock(t)||t.innerHTML||e.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t}var l,u,c,d,f,h;if(i)if(i.start){if(l=r.createRng(),u=r.getRoot(),n.tridentSel)return n.tridentSel.moveToBookmark(i);o(!0)&&o()&&n.setRng(l)}else i.id?(a("start"),a("end"),c&&(l=r.createRng(),l.setStart(s(c),f),l.setEnd(s(d),h),n.setRng(l))):i.name?n.select(r.select(i.name)[i.index]):i.rng&&n.setRng(i.rng)}}return n.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},n}),r("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/Env","tinymce/util/Tools"],function(e,n,r,i,o,a,s){function l(e,t,i,a){var s=this;s.dom=e,s.win=t,s.serializer=i,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new r(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var u=s.each,c=s.trim,d=a.ie;return l.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var n,r,i,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return e=e||{},n=r="",e.get=!0,e.format=e.format||"html",e.selection=!0,o.editor.fire("BeforeGetContent",e),"text"==e.format?o.isCollapsed()?"":a.text||(l.toString?""+l:""):(a.cloneContents?(i=a.cloneContents(),i&&s.appendChild(i)):a.item!==t||a.htmlText!==t?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=""+a,/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(r=" "),e.getInner=!0,e.content=o.isCollapsed()?"":n+o.serializer.serialize(s,e)+r,o.editor.fire("GetContent",e),e.content)
},setContent:function(e,t){var n,r,i,o=this,a=o.getRng(),s=o.win.document;if(t=t||{format:"html"},t.set=!0,t.selection=!0,e=t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(r=s.createDocumentFragment(),i=s.createElement("div"),r.appendChild(i),i.outerHTML=e,a.insertNode(r))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,r,i,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for(r=a.duplicate(),r.collapse(1),t=r.parentElement(),t.ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=i=a.parentElement();i=i.parentNode;)if(i==t){t=n;break}return t}return t=a.startContainer,1==t.nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,r=this,i=r.getRng();return i.duplicate||i.item?i.item?i.item(0):(i=i.duplicate(),i.collapse(0),t=i.parentElement(),t.ownerDocument!==r.dom.doc&&(t=r.dom.getRoot()),t&&"BODY"==t.nodeName?t.lastChild||t:t):(t=i.endContainer,n=i.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&i.collapsed||(t=t.childNodes[n>0?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,r=this,i=r.dom,o=i.createRng();if(r.lastFocusBookmark=null,e){if(!t&&r.controlSelection.controlSelect(e))return;n=i.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(r._moveEndPoint(o,e,!0),r._moveEndPoint(o,e)),r.setRng(o)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!t||t.item?!1:t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed},collapse:function(e){var t,n=this,r=n.getRng();r.item&&(t=r.item(0),r=n.win.document.body.createTextRange(),r.moveToElementText(t)),r.collapse(!!e),n.setRng(r)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var n,r,i,o,a=this,s=a.win.document;if(!e&&a.lastFocusBookmark){var l=a.lastFocusBookmark;return l.startContainer?(r=s.createRange(),r.setStart(l.startContainer,l.startOffset),r.setEnd(l.endContainer,l.endOffset)):r=l,r}if(e&&a.tridentSel)return a.tridentSel.getRangeAt(0);try{(n=a.getSel())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():s.createRange())}catch(u){}if(d&&r&&r.setStart&&s.selection){try{o=s.selection.createRange()}catch(u){}o&&o.item&&(i=o.item(0),r=s.createRange(),r.setStartBefore(i),r.setEndAfter(i))}return r||(r=s.createRange?s.createRange():s.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(i=a.dom.getRoot(),r.setStart(i,0),r.setEnd(i,0)),a.selectedRange&&a.explicitRange&&(0===t(r.START_TO_START,r,a.selectedRange)&&0===t(r.END_TO_END,r,a.selectedRange)?r=a.explicitRange:(a.selectedRange=null,a.explicitRange=null)),r},setRng:function(e,n){var r,i,o=this;if(e)if(e.select)try{e.select()}catch(s){}else if(o.tridentSel){if(e.cloneRange)try{return o.tridentSel.addRange(e),t}catch(s){}}else{if(r=o.getSel()){o.explicitRange=e;try{r.removeAllRanges(),r.addRange(e)}catch(s){}n===!1&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),o.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!r.setBaseAndExtent||a.ie||2>e.endOffset-e.startOffset&&e.startContainer.hasChildNodes()&&(i=e.startContainer.childNodes[e.startOffset],i&&"IMG"==i.tagName&&o.getSel().setBaseAndExtent(i,0,i,1))}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this,r=n.getRng(),i=r.startContainer,o=r.endContainer,a=r.startOffset,s=r.endOffset,l=n.dom.getRoot();return r?r.setStart?(t=r.commonAncestorContainer,!r.collapsed&&(i==o&&2>s-a&&i.hasChildNodes()&&(t=i.childNodes[a]),3===i.nodeType&&3===o.nodeType&&(i=i.length===a?e(i.nextSibling,!0):i.parentNode,o=0===s?e(o.previousSibling,!1):o.parentNode,i&&i===o))?i:t&&3==t.nodeType?t.parentNode:t):(t=r.item?r.item(0):r.parentElement(),t.ownerDocument!==n.win.document&&(t=l),t):l},getSelectedBlocks:function(t,n){var r,i,o=this,a=o.dom,s=[];if(i=a.getRoot(),t=a.getParent(t||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),t&&t!=i&&s.push(t),t&&n&&t!=n){r=t;for(var l=new e(t,i);(r=l.next())&&r!=n;)a.isBlock(r)&&s.push(r)}return n&&t!=n&&n!=i&&s.push(n),s},isForward:function(){var e,t,n=this.dom,r=this.getSel();return r&&r.anchorNode&&r.focusNode?(e=n.createRng(),e.setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),t=n.createRng(),t.setStart(r.focusNode,r.focusOffset),t.collapse(!0),0>=e.compareBoundaryPoints(e.START_TO_START,t)):!0},normalize:function(){var e=this,t=e.getRng();return a.range&&new i(e.dom).normalize(t)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,n){var r,i=this;return i.selectorChangedData||(i.selectorChangedData={},r={},i.editor.on("NodeChange",function(e){var n=e.element,o=i.dom,a=o.getParents(n,null,o.getRoot()),s={};u(i.selectorChangedData,function(e,n){u(a,function(i){return o.is(i,n)?(r[n]||(u(e,function(e){e(!0,{node:i,selector:n,parents:a})}),r[n]=e),s[n]=e,!1):t})}),u(r,function(e,t){s[t]||(delete r[t],u(e,function(e){e(!1,{node:n,selector:t,parents:a})}))})})),i.selectorChangedData[e]||(i.selectorChangedData[e]=[]),i.selectorChangedData[e].push(n),i},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function n(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var r,i,o,a,s=this,l=s.dom,u=l.getRoot();if("BODY"!=u.nodeName){var c=s.getScrollContainer();if(c)return r=n(e).y-n(c).y,a=c.clientHeight,o=c.scrollTop,(o>r||r+25>o+a)&&(c.scrollTop=o>r?r:r-a+25),t}i=l.getViewPort(s.editor.getWin()),r=l.getPos(e).y,o=i.y,a=i.h,(i.y>r||r+25>o+a)&&s.editor.getWin().scrollTo(0,o>r?r:r-a+25)},placeCaretAt:function(e,t){var n,r,i=this.editor.getDoc();if(i.caretPositionFromPoint)r=i.caretPositionFromPoint(e,t),n=i.createRange(),n.setStart(r.offsetNode,r.offset),n.collapse(!0);else if(i.caretRangeFromPoint)n=i.caretRangeFromPoint(e,t);else if(i.body.createTextRange){n=i.body.createTextRange();try{n.moveToPoint(e,t),n.collapse(!0)}catch(o){n.collapse(i.body.clientHeight>t)}}this.setRng(n)},_moveEndPoint:function(n,r,i){var o=r,s=new e(r,o),l=this.dom.schema.getNonEmptyElements();do{if(3==r.nodeType&&0!==c(r.nodeValue).length)return i?n.setStart(r,0):n.setEnd(r,r.nodeValue.length),t;if(l[r.nodeName]&&!/^(TD|TH)$/.test(r.nodeName))return i?n.setStartBefore(r):"BR"==r.nodeName?n.setEndBefore(r):n.setEndAfter(r),t;if(a.ie&&11>a.ie&&this.dom.isBlock(r)&&this.dom.isEmpty(r))return i?n.setStart(r,0):n.setEnd(r,0),t}while(r=i?s.next():s.prev());"BODY"==o.nodeName&&(i?n.setStart(o,0):n.setEnd(o,o.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},l}),r("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(e,n){function r(n){this.compare=function(r,o){function a(e){var t={};return i(n.getAttribs(e),function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&"data-mce-style"!==i&&(t[i]=n.getAttrib(e,i))}),t}function s(e,n){var r,i;for(i in e)if(e.hasOwnProperty(i)){if(r=n[i],r===t)return!1;if(e[i]!=r)return!1;delete n[i]}for(i in n)if(n.hasOwnProperty(i))return!1;return!0}return r.nodeName!=o.nodeName?!1:s(a(r),a(o))?s(n.parseStyle(n.getAttrib(r,"style")),n.parseStyle(n.getAttrib(o,"style")))?!e.isBookmarkNode(r)&&!e.isBookmarkNode(o):!1:!1}}var i=n.each;return r}),r("tinymce/fmt/Preview",["tinymce/util/Tools"],function(e){function t(e,t){function r(e){return e.replace(/%(\w+)/g,"")}var i,o,a,s,l=e.dom,u="";if(s=e.settings.preview_styles,s===!1)return"";if(s||(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return i=t.block||t.inline||"span",o=l.create(i),n(t.styles,function(e,t){e=r(e),e&&l.setStyle(o,t,e)}),n(t.attributes,function(e,t){e=r(e),e&&l.setAttrib(o,t,e)}),n(t.classes,function(e){e=r(e),l.hasClass(o,e)||l.addClass(o,e)}),e.fire("PreviewFormats"),l.setStyles(o,{position:"absolute",left:-65535}),e.getBody().appendChild(o),a=l.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,n(s.split(" "),function(t){var n=l.getStyle(o,t,!0);if(!("background-color"==t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(e.getBody(),t,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==t&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*a+"px"}"border"==t&&n&&(u+="padding:0 2px;"),u+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),l.remove(o),u}var n=e.each;return{getCssText:t}}),r("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview"],function(e,n,r,i,o,a){return function(s){function l(e){return e.nodeType&&(e=e.nodeName),!!s.schema.getTextBlockElements()[e.toLowerCase()]}function u(e){return/^(TH|TD)$/.test(e.nodeName)}function c(e){return e&&/^(IMG)$/.test(e.nodeName)}function d(e,t){return Y.getParents(e,t,Y.getRoot())}function f(e){return 1===e.nodeType&&"_mce_caret"===e.id}function h(){g({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,t,n){ut(n,function(t,n){Y.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),ut("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){g(e,{block:e,remove:"all"})}),g(s.settings.formats)}function p(){s.addShortcut("meta+b","bold_desc","Bold"),s.addShortcut("meta+i","italic_desc","Italic"),s.addShortcut("meta+u","underline_desc","Underline");for(var e=1;6>=e;e++)s.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])}function m(e){return e?K[e]:K}function g(e,t){e&&("string"!=typeof e?ut(e,function(e,t){g(t,e)}):(t=t.length?t:[t],ut(t,function(e){e.deep===W&&(e.deep=!e.selector),e.split===W&&(e.split=!e.selector||e.inline),e.remove===W&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),K[e]=t))}function v(e){return e&&K[e]&&delete K[e],K}function y(e){var t;return s.dom.getParent(e,function(e){return t=s.dom.getStyle(e,"text-decoration"),t&&"none"!==t}),t}function b(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=y(e.parentNode),s.dom.getStyle(e,"color")&&t?s.dom.setStyle(e,"text-decoration",t):s.dom.getStyle(e,"text-decoration")===t&&s.dom.setStyle(e,"text-decoration",null))}function $(n,r,i){function o(e,t){if(t=t||p,e){if(t.onformat&&t.onformat(e,t,r,i),ut(t.styles,function(t,n){Y.setStyle(e,n,M(t,r))}),t.styles){var n=Y.getAttrib(e,"style");n&&e.setAttribute("data-mce-style",n)}ut(t.attributes,function(t,n){Y.setAttrib(e,n,M(t,r))}),ut(t.classes,function(t){t=M(t,r),Y.hasClass(e,t)||Y.addClass(e,t)})}}function a(){function t(t,n){var r=new e(n);for(i=r.current();i;i=r.prev())if(i.childNodes.length>1||i==t||"BR"==i.tagName)return i}var n=s.selection.getRng(),r=n.startContainer,o=n.endContainer;if(r!=o&&0===n.endOffset){var a=t(r,o),l=3==a.nodeType?a.length:a.childNodes.length;n.setEnd(a,l)}return n}function u(e,i,a){var s,u,c=[],d=!0;s=p.inline||p.block,u=Y.create(s),o(u),Q.walk(e,function(e){function i(e){var v,y,b,$,x;return x=d,v=e.nodeName.toLowerCase(),y=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&st(e)&&(x=d,d="true"===st(e),$=!0),N(v,"br")?(m=0,p.block&&Y.remove(e),t):p.wrapper&&C(e,n,r)?(m=0,t):d&&!$&&p.block&&!p.wrapper&&l(v)&&Z(y,s)?(e=Y.rename(e,s),o(e),c.push(e),m=0,t):p.selector&&(ut(h,function(t){"collapsed"in t&&t.collapsed!==g||Y.is(e,t.selector)&&!f(e)&&(o(e,t),b=!0)}),!p.inline||b)?(m=0,t):(!d||$||!Z(s,v)||!Z(y,s)||!a&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||f(e)||p.inline&&et(e)?(m=0,ut(ct(e.childNodes),i),$&&(d=x),m=0):(m||(m=Y.clone(u,ot),e.parentNode.insertBefore(m,e),c.push(m)),m.appendChild(e)),t)}var m;ut(e,i)}),p.links===!0&&ut(c,function(e){function t(e){"A"===e.nodeName&&o(e,p),ut(ct(e.childNodes),t)}t(e)}),ut(c,function(e){function i(e){var t=0;return ut(e.childNodes,function(e){P(e)||lt(e)||t++}),t}function a(e){var n,r;return ut(e.childNodes,function(e){return 1!=e.nodeType||lt(e)||f(e)?t:(n=e,ot)}),n&&!lt(n)&&A(n,p)&&(r=Y.clone(n,ot),o(r),Y.replace(r,e,at),Y.remove(n,1)),r||e}var s;if(s=i(e),(c.length>1||!et(e))&&0===s)return Y.remove(e,1),t;if(p.inline||p.wrapper){if(p.exact||1!==s||(e=a(e)),ut(h,function(t){ut(Y.select(t.inline,e),function(e){lt(e)||L(t,r,e,t.exact?e:null)})}),C(e.parentNode,n,r))return Y.remove(e,1),e=0,at;p.merge_with_parents&&Y.getParent(e.parentNode,function(i){return C(i,n,r)?(Y.remove(e,1),e=0,at):t}),e&&p.merge_siblings!==!1&&(e=U(F(e),e),e=U(e,F(e,at)))}})}var c,d,h=m(n),p=h[0],g=!i&&J.isCollapsed();if(p)if(i)i.nodeType?(d=Y.createRng(),d.setStartBefore(i),d.setEndAfter(i),u(B(d,h),null,!0)):u(i,null,!0);else if(g&&p.inline&&!Y.select("td.mce-item-selected,th.mce-item-selected").length)z("apply",n,r);else{var v=s.selection.getNode();tt||!h[0].defaultBlock||Y.getParent(v,Y.isBlock)||$(h[0].defaultBlock),s.selection.setRng(a()),c=J.getBookmark(),u(B(J.getRng(at),h),c),p.styles&&(p.styles.color||p.styles.textDecoration)&&(dt(v,b,"childNodes"),b(v)),J.moveToBookmark(c),V(J.getRng(at)),s.nodeChanged()}}function x(e,n,r,i){function o(e){var t,r,i,a,s;if(1===e.nodeType&&st(e)&&(a=$,$="true"===st(e),s=!0),t=ct(e.childNodes),$&&!s)for(r=0,i=v.length;i>r&&!L(v[r],n,e,e);r++);if(b.deep&&t.length){for(r=0,i=t.length;i>r;r++)o(t[r]);s&&($=a)}}function a(t){var r;return ut(d(t.parentNode).reverse(),function(t){var o;r||"_start"==t.id||"_end"==t.id||(o=C(t,e,n,i),o&&o.split!==!1&&(r=t))}),r}function l(e,t,r,i){var o,a,s,l,u,c;if(e){for(c=e.parentNode,o=t.parentNode;o&&o!=c;o=o.parentNode){for(a=Y.clone(o,ot),u=0;v.length>u;u++)if(L(v[u],n,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!i||b.mixed&&et(e)||(t=Y.split(e,t)),s&&(r.parentNode.insertBefore(s,r),l.appendChild(r))}return t}function c(e){return l(a(e),e,e,!0)}function f(e){var t=Y.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return lt(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),Y.remove(t,!0),n}function h(e){var n,r,i=e.commonAncestorContainer;if(e=B(e,v,at),b.split){if(n=j(e,at),r=j(e),n!=r){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"==n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&u(r)&&r.firstChild&&(r=r.firstChild||r),Y.isChildOf(n,r)&&!et(r)&&!u(n)&&!u(r))return n=O(n,"span",{id:"_start","data-mce-type":"bookmark"}),c(n),n=f(at),t;n=O(n,"span",{id:"_start","data-mce-type":"bookmark"}),r=O(r,"span",{id:"_end","data-mce-type":"bookmark"}),c(n),c(r),n=f(at),r=f()}else n=r=c(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=nt(n),e.endContainer=r.parentNode?r.parentNode:r,e.endOffset=nt(r)+1}Q.walk(e,function(e){ut(e,function(e){o(e),1===e.nodeType&&"underline"===s.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===y(e.parentNode)&&L({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var p,g,v=m(e),b=v[0],$=!0;return r?(r.nodeType?(g=Y.createRng(),g.setStartBefore(r),g.setEndAfter(r),h(g)):h(r),t):(J.isCollapsed()&&b.inline&&!Y.select("td.mce-item-selected,th.mce-item-selected").length?z("remove",e,n,i):(p=J.getBookmark(),h(J.getRng(at)),J.moveToBookmark(p),b.inline&&S(e,n,J.getStart())&&V(J.getRng(!0)),s.nodeChanged()),t)}function w(e,t,n){var r=m(e);!S(e,t,n)||"toggle"in r[0]&&!r[0].toggle?$(e,t,n):x(e,t,n)}function C(e,t,n,r){function i(e,t,i){var o,a,s,l=t[i];if(t.onmatch)return t.onmatch(e,t,i);if(l)if(l.length===W){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===i?Y.getAttrib(e,o):R(e,o),r&&!a&&!t.exact)return;if((!r||t.exact)&&!N(a,D(M(l[o],n),o)))return}}else for(s=0;l.length>s;s++)if("attributes"===i?Y.getAttrib(e,l[s]):R(e,l[s]))return t;return t}var o,a,s,l=m(t);if(l&&e)for(a=0;l.length>a;a++)if(o=l[a],A(e,o)&&i(e,o,"attributes")&&i(e,o,"styles")){if(s=o.classes)for(a=0;s.length>a;a++)if(!Y.hasClass(e,s[a]))return;return o}}function S(e,t,n){function r(n){var r=Y.getRoot();return n===r?!1:(n=Y.getParent(n,function(n){return n.parentNode===r||!!C(n,e,t,!0)}),C(n,e,t))}var i;return n?r(n):(n=J.getNode(),r(n)?at:(i=J.getStart(),i!=n&&r(i)?at:ot))}function E(e,t){var n,r=[],i={};return n=J.getStart(),Y.getParent(n,function(n){var o,a;for(o=0;e.length>o;o++)a=e[o],!i[a]&&C(n,a,t)&&(i[a]=!0,r.push(a))},Y.getRoot()),r}function _(e){var t,n,r,i,o,a=m(e);if(a)for(t=J.getStart(),n=d(t),i=a.length-1;i>=0;i--){if(o=a[i].selector,!o||a[i].defaultBlock)return at;for(r=n.length-1;r>=0;r--)if(Y.is(n[r],o))return at}return ot}function k(e,n,r){var i;return q||(q={},i={},s.on("NodeChange",function(e){var n=d(e.element),r={};n=o.grep(n,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),ut(q,function(e,o){ut(n,function(a){return C(a,o,{},e.similar)?(i[o]||(ut(e,function(e){e(!0,{node:a,format:o,parents:n})}),i[o]=e),r[o]=e,!1):t})}),ut(i,function(t,o){r[o]||(delete i[o],ut(t,function(t){t(!1,{node:e.element,format:o,parents:n})}))})})),ut(e.split(","),function(e){q[e]||(q[e]=[],q[e].similar=r),q[e].push(n)}),this}function T(e){return a.getCssText(s,e)}function A(e,n){return N(e,n.inline)?at:N(e,n.block)?at:n.selector?1==e.nodeType&&Y.is(e,n.selector):t}function N(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function R(e,t){return D(Y.getStyle(e,t),t)}function D(e,t){return("color"==t||"backgroundColor"==t)&&(e=Y.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function M(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e}function P(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function O(e,t,n){var r=Y.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function B(n,r,i){function o(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var n,i,o,a,s;if(n=i=e?v:b,a=e?"previousSibling":"nextSibling",s=Y.getRoot(),3==n.nodeType&&!P(n)&&(e?y>0:n.nodeValue.length>$))return n;for(;;){if(!r[0].block_expand&&et(i))return i;for(o=i[a];o;o=o[a])if(!lt(o)&&!P(o)&&!t(o))return i;if(i.parentNode==s){n=i;break}i=i.parentNode}return n}function a(e,t){for(t===W&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function u(e){for(var t=e;t;){if(1===t.nodeType&&st(t))return"false"===st(t)?t:e;t=t.parentNode}return e}function c(n,r,o){function a(e,n){var r,a,s=e.nodeValue;return n===t&&(n=o?s.length:0),o?(r=s.lastIndexOf(" ",n),a=s.lastIndexOf("",n),r=r>a?r:a,-1===r||i||r++):(r=s.indexOf(" ",n),a=s.indexOf("",n),r=-1!==r&&(-1===a||a>r)?r:a),r}var l,u,c,d;if(3===n.nodeType){if(c=a(n,r),-1!==c)return{container:n,offset:c};d=n}for(l=new e(n,Y.getParent(n,et)||s.getBody());u=l[o?"prev":"next"]();)if(3===u.nodeType){if(d=u,c=a(u),-1!==c)return{container:u,offset:c}}else if(et(u))break;return d?(r=o?0:d.length,{container:d,offset:r}):t}function f(e,t){var i,o,a,s;for(3==e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),i=d(e),o=0;i.length>o;o++)for(a=0;r.length>a;a++)if(s=r[a],!("collapsed"in s&&s.collapsed!==n.collapsed)&&Y.is(i[o],s.selector))return i[o];return e}function h(e,t){var n,i=Y.getRoot();if(r[0].wrapper||(n=Y.getParent(e,r[0].block,i)),n||(n=Y.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&l(e)})),n&&r[0].wrapper&&(n=d(n,"ul,ol").reverse()[0]||n),!n)for(n=e;n[t]&&!et(n[t])&&(n=n[t],!N(n,"br")););return n||e}var p,m,g,v=n.startContainer,y=n.startOffset,b=n.endContainer,$=n.endOffset;if(1==v.nodeType&&v.hasChildNodes()&&(p=v.childNodes.length-1,v=v.childNodes[y>p?p:y],3==v.nodeType&&(y=0)),1==b.nodeType&&b.hasChildNodes()&&(p=b.childNodes.length-1,b=b.childNodes[$>p?p:$-1],3==b.nodeType&&($=b.nodeValue.length)),v=u(v),b=u(b),(lt(v.parentNode)||lt(v))&&(v=lt(v)?v:v.parentNode,v=v.nextSibling||v,3==v.nodeType&&(y=0)),(lt(b.parentNode)||lt(b))&&(b=lt(b)?b:b.parentNode,b=b.previousSibling||b,3==b.nodeType&&($=b.length)),r[0].inline&&(n.collapsed&&(g=c(v,y,!0),g&&(v=g.container,y=g.offset),g=c(b,$),g&&(b=g.container,$=g.offset)),m=a(b,$),m.node)){for(;m.node&&0===m.offset&&m.node.previousSibling;)m=a(m.node.previousSibling);m.node&&m.offset>0&&3===m.node.nodeType&&" "===m.node.nodeValue.charAt(m.offset-1)&&m.offset>1&&(b=m.node,b.splitText(m.offset-1))}return(r[0].inline||r[0].block_expand)&&(r[0].inline&&3==v.nodeType&&0!==y||(v=o(!0)),r[0].inline&&3==b.nodeType&&$!==b.nodeValue.length||(b=o())),r[0].selector&&r[0].expand!==ot&&!r[0].inline&&(v=f(v,"previousSibling"),b=f(b,"nextSibling")),(r[0].block||r[0].selector)&&(v=h(v,"previousSibling"),b=h(b,"nextSibling"),r[0].block&&(et(v)||(v=o(!0)),et(b)||(b=o()))),1==v.nodeType&&(y=nt(v),v=v.parentNode),1==b.nodeType&&($=nt(b)+1,b=b.parentNode),{startContainer:v,startOffset:y,endContainer:b,endOffset:$}}function I(e,t){return t.links&&"A"==e.tagName}function L(e,n,r,i){var o,a,s;if(!A(r,e)&&!I(r,e))return ot;if("all"!=e.remove)for(ut(e.styles,function(t,o){t=D(M(t,n),o),"number"==typeof o&&(o=t,i=0),(e.remove_similar||!i||N(R(i,o),t))&&Y.setStyle(r,o,""),s=1}),s&&""===Y.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),ut(e.attributes,function(e,o){var a;if(e=M(e,n),"number"==typeof o&&(o=e,i=0),!i||N(Y.getAttrib(i,o),e)){if("class"==o&&(e=Y.getAttrib(r,o),e&&(a="",ut(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(a+=(a?" ":"")+e)}),a)))return Y.setAttrib(r,o,a),t;"class"==o&&r.removeAttribute("className"),it.test(o)&&r.removeAttribute("data-mce-"+o),r.removeAttribute(o)}}),ut(e.classes,function(e){e=M(e,n),(!i||Y.hasClass(i,e))&&Y.removeClass(r,e)}),a=Y.getAttribs(r),o=0;a.length>o;o++)if(0!==a[o].nodeName.indexOf("_"))return ot;return"none"!=e.remove?(H(r,e),at):t}function H(e,t){function n(e,t,n){return e=F(e,t,n),!e||"BR"==e.nodeName||et(e)}var r,i=e.parentNode;t.block&&(tt?i==Y.getRoot()&&(t.list_block&&N(e,t.list_block)||ut(ct(e.childNodes),function(e){Z(tt,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=O(e,tt),Y.setAttribs(r,s.settings.forced_root_block_attrs)):r=0})):et(e)&&!et(i)&&(n(e,ot)||n(e.firstChild,at,1)||e.insertBefore(Y.create("br"),e.firstChild),n(e,at)||n(e.lastChild,ot,1)||e.appendChild(Y.create("br")))),t.selector&&t.inline&&!N(t.inline,e)||Y.remove(e,1)}function F(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!P(e))return e}function U(e,t){function n(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!lt(r))return r}return e}var r,o,a=new i(Y);if(e&&t&&(e=n(e,"previousSibling"),t=n(t,"nextSibling"),a.compare(e,t))){for(r=e.nextSibling;r&&r!=t;)o=r,r=r.nextSibling,e.appendChild(o);return Y.remove(t),ut(ct(t.childNodes),function(t){e.appendChild(t)}),e}return t}function j(t,n){var r,i,o;return r=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1==r.nodeType&&(o=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[i>o?o:i]),3===r.nodeType&&n&&i>=r.nodeValue.length&&(r=new e(r,s.getBody()).next()||r),3!==r.nodeType||n||0!==i||(r=new e(r,s.getBody()).prev()||r),r}function z(t,n,r,i){function o(e){var t=Y.create("span",{id:g,"data-mce-bogus":!0,style:v?"color:red":""});return e&&t.appendChild(s.getDoc().createTextNode(rt)),t}function a(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==rt||e.childNodes.length>1)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function u(e){for(;e;){if(e.id===g)return e;e=e.parentNode}}function c(t){var n;if(t)for(n=new e(t,t),t=n.current();t;t=n.next())if(3===t.nodeType)return t}function d(e,t){var n,r;if(e)r=J.getRng(!0),a(e)?(t!==!1&&(r.setStartBefore(e),r.setEndBefore(e)),Y.remove(e)):(n=c(e),n.nodeValue.charAt(0)===rt&&(n.deleteData(0,1),r.startContainer==n&&r.startOffset>0&&r.setStart(n,r.startOffset-1),r.endContainer==n&&r.endOffset>0&&r.setEnd(n,r.endOffset-1)),Y.remove(e,1)),J.setRng(r);else if(e=u(J.getStart()),!e)for(;e=Y.get(g);)d(e,!1)}function f(){var e,t,i,a,s,l,d;e=J.getRng(!0),a=e.startOffset,l=e.startContainer,d=l.nodeValue,t=u(J.getStart()),t&&(i=c(t)),d&&a>0&&d.length>a&&/\w/.test(d.charAt(a))&&/\w/.test(d.charAt(a-1))?(s=J.getBookmark(),e.collapse(!0),e=B(e,m(n)),e=Q.split(e),$(n,r,e),J.moveToBookmark(s)):(t&&i.nodeValue===rt?$(n,r,t):(t=o(!0),i=t.firstChild,e.insertNode(t),a=1,$(n,r,t)),J.setCursorLocation(i,a))}function h(){var e,t,a,s,u,c,d,f,h=J.getRng(!0),p=[];for(e=h.startContainer,t=h.startOffset,u=e,3==e.nodeType&&(t!=e.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(C(u,n,r,i)){c=u;break}u.nextSibling&&(s=!0),p.push(u),u=u.parentNode}if(c)if(s)a=J.getBookmark(),h.collapse(!0),h=B(h,m(n),!0),h=Q.split(h),x(n,r,h),J.moveToBookmark(a);else{for(f=o(),u=f,d=p.length-1;d>=0;d--)u.appendChild(Y.clone(p[d],!1)),u=u.firstChild;u.appendChild(Y.doc.createTextNode(rt)),u=u.firstChild;var g=Y.getParent(c,l);g&&Y.isEmpty(g)?c.parentNode.replaceChild(f,c):Y.insertAfter(f,c),J.setCursorLocation(u,1),Y.isEmpty(c)&&Y.remove(c)}}function p(){var e;e=u(J.getStart()),e&&!Y.isEmpty(e)&&dt(e,function(e){1!=e.nodeType||e.id===g||Y.isEmpty(e)||Y.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var g="_mce_caret",v=s.settings.caret_debug;s._hasCaretEvents||(X=function(){var e,t=[];if(a(u(J.getStart()),t))for(e=t.length;e--;)Y.setAttrib(t[e],"data-mce-bogus","1")},G=function(e){var t=e.keyCode;d(),(8==t&&J.isCollapsed()||37==t||39==t)&&d(u(J.getStart())),p()},s.on("SetContent",function(e){e.selection&&p()}),s._hasCaretEvents=!0),"apply"==t?f():h()}function V(n){var r,i,o,a,s,l=n.startContainer,u=n.startOffset;if((n.startContainer!=n.endContainer||!c(n.startContainer.childNodes[n.startOffset]))&&(3==l.nodeType&&u>=l.nodeValue.length&&(u=nt(l),l=l.parentNode,r=!0),1==l.nodeType))for(a=l.childNodes,l=a[Math.min(u,a.length-1)],i=new e(l,Y.getParent(l,Y.isBlock)),(u>a.length-1||r)&&i.next(),o=i.current();o;o=i.next())if(3==o.nodeType&&!P(o))return s=Y.create("a",{"data-mce-bogus":"all"},rt),o.parentNode.insertBefore(s,o),n.setStart(o,0),J.setRng(n),Y.remove(s),t}var q,W,G,X,K={},Y=s.dom,J=s.selection,Q=new n(Y),Z=s.schema.isValidChild,et=Y.isBlock,tt=s.settings.forced_root_block,nt=Y.nodeIndex,rt="",it=/^(src|href|style)$/,ot=!1,at=!0,st=Y.getContentEditable,lt=r.isBookmarkNode,ut=o.each,ct=o.grep,dt=o.walk,ft=o.extend;ft(this,{get:m,register:g,unregister:v,apply:$,remove:x,toggle:w,match:S,matchAll:E,matchNode:C,canApply:_,formatChanged:k,getCssText:T}),h(),p(),s.on("BeforeGetContent",function(e){X&&"raw"!=e.format&&X()}),s.on("mouseup keydown",function(e){G&&G(e)})}}),r("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env","tinymce/util/Tools","tinymce/html/SaxParser"],function(e,n,r,i){var o,a=r.trim;return o=RegExp(["<span[^>]+data-mce-bogus[^>]+>[]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(e){function r(){var t,n,r,s,l,u=e.getContent({format:"raw",no_events:1}),c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;for(u=u.replace(o,""),l=d.getShortEndedElements();s=c.exec(u);)n=c.lastIndex,r=s[0].length,t=l[s[1]]?n:i.findEndTag(d,u,n),u=u.substring(0,n-r)+u.substring(t),c.lastIndex=n-r;return a(u)}function s(t){e.isNotDirty=!t}function l(e){d.typing=!1,d.add({},e)}var u,c,d=this,f=0,h=[],p=0;return e.on("init",function(){d.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&d.beforeChange()}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&l(e)}),e.on("ObjectResizeStart",function(){d.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",function(t){var i=t.keyCode;(i>=33&&36>=i||i>=37&&40>=i||45==i||13==i||t.ctrlKey)&&(l(),e.nodeChanged()),(46==i||8==i||n.mac&&(91==i||93==i))&&e.nodeChanged(),c&&d.typing&&(e.isDirty()||(s(h[0]&&r()!=h[0].content),e.isNotDirty||e.fire("change",{level:h[0],lastLevel:null})),e.fire("TypingUndo"),c=!1,e.nodeChanged())}),e.on("KeyDown",function(e){var n=e.keyCode;if(n>=33&&36>=n||n>=37&&40>=n||45==n)return d.typing&&l(e),t;var r=e.ctrlKey&&!e.altKey||e.metaKey;!(16>n||n>20)||224==n||91==n||d.typing||r||(d.beforeChange(),d.typing=!0,d.add({},e),c=!0)}),e.on("MouseDown",function(e){d.typing&&l(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()
}),d={data:h,typing:!1,beforeChange:function(){p||(u=e.selection.getBookmark(2,!0))},add:function(t,n){var i,o,a=e.settings;if(t=t||{},t.content=r(),p||e.removed)return null;if(o=h[f],e.fire("BeforeAddUndo",{level:t,lastLevel:o,originalEvent:n}).isDefaultPrevented())return null;if(o&&o.content==t.content)return null;if(h[f]&&(h[f].beforeBookmark=u),a.custom_undo_redo_levels&&h.length>a.custom_undo_redo_levels){for(i=0;h.length-1>i;i++)h[i]=h[i+1];h.length--,f=h.length}t.bookmark=e.selection.getBookmark(2,!0),h.length-1>f&&(h.length=f+1),h.push(t),f=h.length-1;var l={level:t,lastLevel:o,originalEvent:n};return e.fire("AddUndo",l),f>0&&(s(!0),e.fire("change",l)),t},undo:function(){var t;return d.typing&&(d.add(),d.typing=!1),f>0&&(t=h[--f],0===f&&s(!1),e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.beforeBookmark),e.fire("undo",{level:t})),t},redo:function(){var t;return h.length-1>f&&(t=h[++f],e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(t.bookmark),s(!0),e.fire("redo",{level:t})),t},clear:function(){h=[],f=0,d.typing=!1,e.fire("ClearUndos")},hasUndo:function(){return f>0||d.typing&&h[0]&&r()!=h[0].content},hasRedo:function(){return h.length-1>f&&!this.typing},transact:function(e){d.beforeChange();try{p++,e()}finally{p--}d.add()}}}}),r("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(e,n,r){var i=r.ie&&11>r.ie;return function(o){function a(a){function p(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==s.getContentEditable(e)}function m(e){var t;s.isBlock(e)&&(t=l.getRng(),e.appendChild(s.create("span",null,"")),l.select(e),e.lastChild.outerHTML="",l.setRng(t))}function g(e){var t,n=e,r=[];if(n){for(;n=n.firstChild;){if(s.isBlock(n))return;1!=n.nodeType||f[n.nodeName.toLowerCase()]||r.push(n)}for(t=r.length;t--;)n=r[t],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?s.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&s.remove(n)}}function v(t){function n(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var i,o,a,u,c=t;if(t){if(r.ie&&9>r.ie&&D&&D.firstChild&&D.firstChild==D.lastChild&&"BR"==D.firstChild.tagName&&s.remove(D.firstChild),/^(LI|DT|DD)$/.test(t.nodeName)){var d=n(t.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&t.insertBefore(s.doc.createTextNode(""),t.firstChild)}if(a=s.createRng(),r.ie||t.normalize(),t.hasChildNodes()){for(i=new e(t,t);o=i.current();){if(3==o.nodeType){a.setStart(o,0),a.setEnd(o,0);break}if(h[o.nodeName.toLowerCase()]){a.setStartBefore(o),a.setEndBefore(o);break}c=o,o=i.next()}o||(a.setStart(c,0),a.setEnd(c,0))}else"BR"==t.nodeName?t.nextSibling&&s.isBlock(t.nextSibling)?((!M||9>M)&&(u=s.create("br"),t.parentNode.insertBefore(u,t)),a.setStartBefore(t),a.setEndBefore(t)):(a.setStartAfter(t),a.setEndAfter(t)):(a.setStart(t,0),a.setEnd(t,0));l.setRng(a),s.remove(u),l.scrollIntoView(t)}}function y(e){var t=u.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&s.setAttribs(e,u.forced_root_block_attrs)}function b(e){var t,n,r,o=N,a=d.getTextInlineElements();if(e||"TABLE"==L?(t=s.create(e||F),y(t)):t=D.cloneNode(!1),r=t,u.keep_styles!==!1)do if(a[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),s.setAttrib(n,"id",""),t.hasChildNodes()?(n.appendChild(t.firstChild),t.appendChild(n)):(r=n,t.appendChild(n))}while(o=o.parentNode);return i||(r.innerHTML='<br data-mce-bogus="1">'),t}function $(t){var n,r,i;if(3==N.nodeType&&(t?R>0:N.nodeValue.length>R))return!1;if(N.parentNode==D&&U&&!t)return!0;if(t&&1==N.nodeType&&N==D.firstChild)return!0;if("TABLE"===N.nodeName||N.previousSibling&&"TABLE"==N.previousSibling.nodeName)return U&&!t||!U&&t;for(n=new e(N,D),3==N.nodeType&&(t&&0===R?n.prev():t||R!=N.nodeValue.length||n.next());r=n.current();){if(1===r.nodeType){if(!r.getAttribute("data-mce-bogus")&&(i=r.nodeName.toLowerCase(),f[i]&&"br"!==i))return!1}else if(3===r.nodeType&&!/^[ \t\r\n]*$/.test(r.nodeValue))return!1;t?n.prev():n.next()}return!0}function x(e,t){var n,r,i,a,l,u,c=F||"P";if(r=s.getParent(e,s.isBlock),u=o.getBody().nodeName.toLowerCase(),!r||!p(r)){if(r=r||A,!r.hasChildNodes())return n=s.create(c),y(n),r.appendChild(n),k.setStart(n,0),k.setEnd(n,0),n;for(a=e;a.parentNode!=r;)a=a.parentNode;for(;a&&!s.isBlock(a);)i=a,a=a.previousSibling;if(i&&d.isValidChild(u,c.toLowerCase())){for(n=s.create(c),y(n),i.parentNode.insertBefore(n,i),a=i;a&&!s.isBlock(a);)l=a.nextSibling,n.appendChild(a),a=l;k.setStart(e,t),k.setEnd(e,t)}}return e}function w(){function e(e){for(var t=I[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===D}function t(){var e=I.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:I}var n=I.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(F="LI"),O=F?b(F):s.create("BR"),e(!0)&&e()?"LI"==n?s.insertAfter(O,t()):s.replace(O,I):e(!0)?"LI"==n?(s.insertAfter(O,t()),O.appendChild(s.doc.createTextNode(" ")),O.appendChild(I)):I.parentNode.insertBefore(O,I):e()?(s.insertAfter(O,t()),m(O)):(I=t(),T=k.cloneRange(),T.setStartAfter(D),T.setEndAfter(I),B=T.extractContents(),"LI"==F&&"LI"==B.firstChild.nodeName?(O=B.firstChild,s.insertAfter(B,I)):(s.insertAfter(B,I),s.insertAfter(O,I))),s.remove(D),v(O),c.add()}function C(){o.execCommand("InsertLineBreak",!1,a)}function S(e){do 3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)}function E(e){var t,n,r=s.getRoot();for(t=e;t!==r&&"false"!==s.getContentEditable(t);)"true"===s.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==r?n:r}function _(e){var t;i||(e.normalize(),t=e.lastChild,(!t||/^(left|right)$/gi.test(s.getStyle(t,"float",!0)))&&s.add(e,"br"))}var k,T,A,N,R,D,M,P,O,B,I,L,H,F,U;if(k=l.getRng(!0),!a.isDefaultPrevented()){if(!k.collapsed)return o.execCommand("Delete"),t;if(new n(s).normalize(k),N=k.startContainer,R=k.startOffset,F=(u.force_p_newlines?"p":"")||u.forced_root_block,F=F?F.toUpperCase():"",M=s.doc.documentMode,P=a.shiftKey,1==N.nodeType&&N.hasChildNodes()&&(U=R>N.childNodes.length-1,N=N.childNodes[Math.min(R,N.childNodes.length-1)]||N,R=U&&3==N.nodeType?N.nodeValue.length:0),A=E(N)){if(c.beforeChange(),!s.isBlock(A)&&A!=s.getRoot())return(!F||P)&&C(),t;if((F&&!P||!F&&P)&&(N=x(N,R)),D=s.getParent(N,s.isBlock),I=D?s.getParent(D.parentNode,s.isBlock):null,L=D?D.nodeName.toUpperCase():"",H=I?I.nodeName.toUpperCase():"","LI"!=H||a.ctrlKey||(D=I,L=H),/^(LI|DT|DD)$/.test(L)){if(!F&&P)return C(),t;if(s.isEmpty(D))return w(),t}if("PRE"==L&&u.br_in_pre!==!1){if(!P)return C(),t}else if(!F&&!P&&"LI"!=L||F&&P)return C(),t;F&&D===o.getBody()||(F=F||"P",$()?(O=/^(H[1-6]|PRE|FIGURE)$/.test(L)&&"HGROUP"!=H?b(F):b(),u.end_container_on_empty_block&&p(I)&&s.isEmpty(D)?O=s.split(I,D):s.insertAfter(O,D),v(O)):$(!0)?(O=D.parentNode.insertBefore(b(),D),m(O),v(D)):(T=k.cloneRange(),T.setEndAfter(D),B=T.extractContents(),S(B),O=B.firstChild,s.insertAfter(B,D),g(O),_(D),v(O)),s.setAttrib(O,"id",""),o.fire("NewBlock",{newBlock:O}),c.add())}}}var s=o.dom,l=o.selection,u=o.settings,c=o.undoManager,d=o.schema,f=d.getNonEmptyElements(),h=d.getMoveCaretBeforeOnEnterElements();o.on("keydown",function(e){13==e.keyCode&&a(e)!==!1&&e.preventDefault()})}}),r("tinymce/ForceBlocks",[],function(){return function(e){function t(){var t,s,l,u,c,d,f,h,p,m,g,v,y=i.getStart(),b=e.getBody(),$=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if(t=i.getRng(),t.setStart){s=t.startContainer,l=t.startOffset,u=t.endContainer,c=t.endOffset;try{p=e.getDoc().activeElement===b}catch(x){}}else t.item&&(y=t.item(0),t=e.getDoc().body.createTextRange(),t.moveToElementText(y)),p=t.parentElement().ownerDocument===e.getDoc(),m=t.duplicate(),m.collapse(!0),l=-1*m.move("character",$),m.collapsed||(m=t.duplicate(),m.collapse(!1),c=-1*m.move("character",$)-l);for(y=b.firstChild,g=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&o.isValidChild(g,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){f=y,y=y.nextSibling,r.remove(f);continue}d||(d=r.create(v,e.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),h=!0),f=y,y=y.nextSibling,d.appendChild(f)}else d=null,y=y.nextSibling;if(h&&p){if(t.setStart)t.setStart(s,l),t.setEnd(u,c),i.setRng(t);else try{t=e.getDoc().body.createTextRange(),t.moveToElementText(b),t.collapse(!0),t.moveStart("character",l),c>0&&t.moveEnd("character",c),t.select()}catch(x){}e.nodeChanged()}}}var n=e.settings,r=e.dom,i=e.selection,o=e.schema,a=o.getBlockElements();n.forced_root_block&&e.on("NodeChange",t)}}),r("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools","tinymce/dom/ElementUtils","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker"],function(e,n,r,i,o,a){var s=r.each,l=r.extend,u=r.map,c=r.inArray,d=r.explode,f=n.gecko,h=n.ie,p=n.ie&&11>n.ie,m=!0,g=!1;return function(r){function v(e,n,i,o){var a,u,c=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||o&&o.skip_focus||r.focus(),o=l({},o),o=r.fire("BeforeExecCommand",{command:e,ui:n,value:i}),o.isDefaultPrevented())return!1;if(u=e.toLowerCase(),a=O.exec[u])return a(u,n,i),r.fire("ExecCommand",{command:e,ui:n,value:i}),!0;if(s(r.plugins,function(o){return o.execCommand&&o.execCommand(e,n,i)?(r.fire("ExecCommand",{command:e,ui:n,value:i}),c=!0,!1):t}),c)return c;if(r.theme&&r.theme.execCommand&&r.theme.execCommand(e,n,i))return r.fire("ExecCommand",{command:e,ui:n,value:i}),!0;try{c=r.getDoc().execCommand(e,n,i)}catch(d){}return c?(r.fire("ExecCommand",{command:e,ui:n,value:i}),!0):!1}function y(e){var t;if(!r._isHidden()){if(e=e.toLowerCase(),t=O.state[e])return t(e);try{return r.getDoc().queryCommandState(e)}catch(n){}return!1}}function b(e){var t;if(!r._isHidden()){if(e=e.toLowerCase(),t=O.value[e])return t(e);try{return r.getDoc().queryCommandValue(e)}catch(n){}}}function $(e,t){t=t||"exec",s(e,function(e,n){s(n.toLowerCase().split(","),function(n){O[t][n]=e})})}function x(e,t,n){e=e.toLowerCase(),O.exec[e]=function(e,i,o,a){return t.call(n||r,i,o,a)}}function w(e){if(e=e.toLowerCase(),O.exec[e])return!0;try{return r.getDoc().queryCommandSupported(e)}catch(t){}return!1}function C(e,t,n){e=e.toLowerCase(),O.state[e]=function(){return t.call(n||r)}}function S(e,t,n){e=e.toLowerCase(),O.value[e]=function(){return t.call(n||r)}}function E(e){return e=e.toLowerCase(),!!O.exec[e]}function _(e,n,i){return n===t&&(n=g),i===t&&(i=null),r.getDoc().execCommand(e,n,i)}function k(e){return M.match(e)}function T(e,n){M.toggle(e,n?{value:n}:t),r.nodeChanged()}function A(e){P=D.getBookmark(e)}function N(){D.moveToBookmark(P)}var R,D,M,P,O={state:{},exec:{},value:{}},B=r.settings;r.on("PreInit",function(){R=r.dom,D=r.selection,B=r.settings,M=r.formatter}),l(this,{execCommand:v,queryCommandState:y,queryCommandValue:b,queryCommandSupported:w,addCommands:$,addCommand:x,addQueryStateHandler:C,addQueryValueHandler:S,hasCustomCommand:E}),$({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},"Cut,Copy,Paste":function(e){var t,i=r.getDoc();try{_(e)}catch(o){t=m}if(t||!i.queryCommandSupported(e)){var a=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");n.mac&&(a=a.replace(/Ctrl\+/g,"+")),r.windowManager.alert(a)}},unlink:function(){if(D.isCollapsed()){var e=D.getNode();return"A"==e.tagName&&r.dom.remove(e,!0),t}M.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),s("left,center,right,justify".split(","),function(e){t!=e&&M.remove("align"+e)}),"none"!=t&&(T("align"+t),v("mceRepaint"))},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;_(e),t=R.getParent(D.getNode(),"ol,ul"),t&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(A(),R.split(n,t),N()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){T(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){T(e,n)},FontSize:function(e,t,n){var r,i;n>=1&&7>=n&&(i=d(B.font_size_style_values),r=d(B.font_size_classes),n=r?r[n-1]||n:i[n-1]||n),T(e,n)},RemoveFormat:function(e){M.remove(e)},mceBlockQuote:function(){T("blockquote")},FormatBlock:function(e,t,n){return T(n||"p")},mceCleanup:function(){var e=D.getBookmark();r.setContent(r.getContent({cleanup:m}),{cleanup:m}),D.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||D.getNode();i!=r.getBody()&&(A(),r.dom.remove(i,m),N())},mceSelectNodeDepth:function(e,n,i){var o=0;R.getParent(D.getNode(),function(e){return 1==e.nodeType&&o++==i?(D.select(e),g):t},r.getBody())},mceSelectNode:function(e,t,n){D.select(n)},mceInsertContent:function(t,n,o){function a(e){function t(e){return r[e]&&3==r[e].nodeType}var n,r,i;return n=D.getRng(!0),r=n.startContainer,i=n.startOffset,3==r.nodeType&&(i>0?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r.length>i?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}function l(){var e,t,n;e=D.getRng(!0),t=e.startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&(""===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(o)||(o+=" ")):""===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(o)||(o=" "+o)))}function u(e){if(C)for($=e.firstChild;$;$=$.walk(!0))E[$.name]&&$.attr("data-mce-new","true")}function c(){if(C){var e=r.getBody(),t=new i(R);s(R.select("*[data-mce-new]"),function(n){n.removeAttribute("data-mce-new");for(var r=n.parentNode;r&&r!=e;r=r.parentNode)t.compare(r,n)&&R.remove(n,!0)})}}var d,f,p,m,g,v,y,b,$,x,w,C,S,E=r.schema.getTextInlineElements();"string"!=typeof o&&(C=o.merge,S=o.data,o=o.content),/^ | $/.test(o)&&(o=a(o)),d=r.parser,f=new e({},r.schema),w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',v={content:o,format:"html",selection:!0},r.fire("BeforeSetContent",v),o=v.content,-1==o.indexOf("{$caret}")&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,w),b=D.getRng();var _=b.startContainer||(b.parentElement?b.parentElement():null),k=r.getBody();_===k&&D.isCollapsed()&&R.isBlock(k.firstChild)&&R.isEmpty(k.firstChild)&&(b=R.createRng(),b.setStart(k.firstChild,0),b.setEnd(k.firstChild,0),D.setRng(b)),D.isCollapsed()||(r.getDoc().execCommand("Delete",!1,null),l()),p=D.getNode();var T={context:p.nodeName.toLowerCase(),data:S};if(g=d.parse(o,T),u(g),$=g.lastChild,"mce_marker"==$.attr("id"))for(y=$,$=$.prev;$;$=$.walk(!0))if(3==$.type||!R.isBlock($.name)){r.schema.isValidChild($.parent.name,"span")&&$.parent.insert(y,$,"br"===$.name);break}if(T.invalid){for(D.setContent(w),p=D.getNode(),m=r.getBody(),9==p.nodeType?p=$=m:$=p;$!==m;)p=$,$=$.parentNode;o=p==m?m.innerHTML:R.getOuterHTML(p),o=f.serialize(d.parse(o.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return f.serialize(g)}))),p==m?R.setHTML(m,o):R.setOuterHTML(p,o)}else o=f.serialize(g),$=p.firstChild,x=p.lastChild,!$||$===x&&"BR"===$.nodeName?R.setHTML(p,o):D.setContent(o);c(),y=R.get("mce_marker"),D.scrollIntoView(y),b=R.createRng(),$=y.previousSibling,$&&3==$.nodeType?(b.setStart($,$.nodeValue.length),h||(x=y.nextSibling,x&&3==x.nodeType&&($.appendData(x.data),x.parentNode.removeChild(x)))):(b.setStartBefore(y),b.setEndBefore(y)),R.remove(y),D.setRng(b),r.fire("SetContent",v),r.addVisual()},mceInsertRawHTML:function(e,t,n){D.setContent("tiny_mce_marker"),r.setContent(r.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){T(n)},mceSetContent:function(e,t,n){r.setContent(n)},"Indent,Outdent":function(e){var t,n,i;t=B.indentation,n=/[a-z%]+$/i.exec(t),t=parseInt(t,10),y("InsertUnorderedList")||y("InsertOrderedList")?_(e):(B.forced_root_block||R.getParent(D.getNode(),R.isBlock)||M.apply("div"),s(D.getSelectedBlocks(),function(o){if("LI"!=o.nodeName){var a=r.getParam("indent_use_margin",!1)?"margin":"padding";a+="rtl"==R.getStyle(o,"direction",!0)?"Right":"Left","outdent"==e?(i=Math.max(0,parseInt(o.style[a]||0,10)-t),R.setStyle(o,a,i?i+n:"")):(i=parseInt(o.style[a]||0,10)+t+n,R.setStyle(o,a,i))}}))},mceRepaint:function(){if(f)try{A(m),D.getSel()&&D.getSel().selectAllChildren(r.getBody()),D.collapse(m),N()}catch(e){}},InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(e,t,n){r.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,D.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=R.getParent(D.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||M.remove("link"),n.href&&M.apply("link",n,r)},selectAll:function(){var e,t=R.getRoot();D.getRng().setStart?(e=R.createRng(),e.setStart(t,0),e.setEnd(t,t.childNodes.length),D.setRng(e)):(e=D.getRng(),e.item||(e.moveToElementText(t),e.select()))},"delete":function(){_("Delete");var e=r.getBody();R.isEmpty(e)&&(r.setContent(""),e.firstChild&&R.isBlock(e.firstChild)?r.selection.setCursorLocation(e.firstChild,0):r.selection.setCursorLocation(e,0))},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(e,t,n){function i(){for(var e,t=new a(h,v),n=r.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||e.length>0)return!0}var s,l,u,c=n,d=D.getRng(!0);new o(R).normalize(d);var f=d.startOffset,h=d.startContainer;if(1==h.nodeType&&h.hasChildNodes()){var g=f>h.childNodes.length-1;h=h.childNodes[Math.min(f,h.childNodes.length-1)]||h,f=g&&3==h.nodeType?h.nodeValue.length:0}var v=R.getParent(h,R.isBlock),y=v?v.nodeName.toUpperCase():"",b=v?R.getParent(v.parentNode,R.isBlock):null,$=b?b.nodeName.toUpperCase():"",x=c&&c.ctrlKey;"LI"!=$||x||(v=b,y=$),h&&3==h.nodeType&&f>=h.nodeValue.length&&(p||i()||(s=R.create("br"),d.insertNode(s),d.setStartAfter(s),d.setEndAfter(s),l=!0)),s=R.create("br"),d.insertNode(s);var w=R.doc.documentMode;return p&&"PRE"==y&&(!w||8>w)&&s.parentNode.insertBefore(R.doc.createTextNode("\r"),s),u=R.create("span",{},"&nbsp;"),s.parentNode.insertBefore(u,s),D.scrollIntoView(u),R.remove(u),l?(d.setStartBefore(s),d.setEndBefore(s)):(d.setStartAfter(s),d.setEndAfter(s)),D.setRng(d),r.undoManager.add(),m}}),$({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=D.isCollapsed()?[R.getParent(D.getNode(),R.isBlock)]:D.getSelectedBlocks(),r=u(n,function(e){return!!M.matchNode(e,t)});return-1!==c(r,m)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return k(e)},mceBlockQuote:function(){return k("blockquote")},Outdent:function(){var e;if(B.inline_styles){if((e=R.getParent(D.getStart(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return m;if((e=R.getParent(D.getEnd(),R.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return m}return y("InsertUnorderedList")||y("InsertOrderedList")||!B.inline_styles&&!!R.getParent(D.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=R.getParent(D.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),$({"FontSize,FontName":function(e){var t,n=0;return(t=R.getParent(D.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),$({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}})}}),r("tinymce/util/URI",["tinymce/util/Tools"],function(e){function n(e,a){var s,l,u=this;if(e=i(e),a=u.settings=a||{},s=a.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return u.source=e,t;var c=0===e.indexOf("//");0!==e.indexOf("/")||c||(e=(s?s.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(l=a.base_uri?a.base_uri.path:new n(location.href).directory,""===a.base_uri.protocol?e="//mce_host"+u.toAbsPath(l,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(s&&s.protocol||"http")+"://mce_host"+u.toAbsPath(l,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),r(o,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),u[t]=r}),s&&(u.protocol||(u.protocol=s.protocol),u.userInfo||(u.userInfo=s.userInfo),u.port||"mce_host"!==u.host||(u.port=s.port),u.host&&"mce_host"!==u.host||(u.host=s.host),u.source=""),c&&(u.protocol="")}var r=e.each,i=e.trim,o="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),a={ftp:21,http:80,https:443,mailto:25};return n.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,r=this;if("./"===e)return e;if(e=new n(e,{base_uri:r}),"mce_host"!=e.host&&r.host!=e.host&&e.host||r.port!=e.port||r.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var i=r.getURI(),o=e.getURI();return i==o||"/"==i.charAt(i.length-1)&&i.substr(0,i.length-1)==o?i:(t=r.toRelPath(r.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new n(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=a[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,i,o=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,i=e.length;i>r;r++)if(r>=n.length||e[r]!=n[r]){o=r+1;break}if(e.length<n.length)for(r=0,i=n.length;i>r;r++)if(r>=e.length||e[r]!=n[r]){o=r+1;break}if(1===o)return t;for(r=0,i=e.length-(o-1);i>r;r++)a+="../";for(r=o-1,i=n.length;i>r;r++)a+=r!=o-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,i,o,a=0,s=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),r(e,function(e){e&&s.push(e)}),e=s,n=t.length-1,s=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?a>0?a--:s.push(t[n]):a++);return n=e.length-a,o=0>=n?s.reverse().join("/"):e.slice(0,n).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),i&&o.lastIndexOf("/")!==o.length-1&&(o+=i),o},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},n.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},n}),r("tinymce/util/Class",["tinymce/util/Tools"],function(e){function t(){}var n,r,i=e.each,o=e.extend;return t.extend=n=function(e){function t(){var e,t,n,i=this;if(!r&&(i.init&&i.init.apply(i,arguments),t=i.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(i,arguments)}function a(){return this}function s(e,t){return function(){var n,r=this,i=r._super;return r._super=f[e],n=t.apply(r,arguments),r._super=i,n}}var l,u,c,d=this,f=d.prototype;r=!0,l=new d,r=!1,e.Mixins&&(i(e.Mixins,function(t){t=t;for(var n in t)"init"!==n&&(e[n]=t[n])}),f.Mixins&&(e.Mixins=f.Mixins.concat(e.Mixins))),e.Methods&&i(e.Methods.split(","),function(t){e[t]=a}),e.Properties&&i(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t,r=this;return e!==t?(r[n]=e,r):r[n]}}),e.Statics&&i(e.Statics,function(e,n){t[n]=e}),e.Defaults&&f.Defaults&&(e.Defaults=o({},f.Defaults,e.Defaults));for(u in e)c=e[u],l[u]="function"==typeof c&&f[u]?s(u,c):c;return t.prototype=l,t.constructor=t,t.extend=n,t},t}),r("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(e){function t(t){function n(){return!1}function r(){return!0}function i(e,i){var o,s,l,c;if(e=e.toLowerCase(),i=i||{},i.type=e,i.target||(i.target=u),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=r},i.stopPropagation=function(){i.isPropagationStopped=r},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=r},i.isDefaultPrevented=n,i.isPropagationStopped=n,i.isImmediatePropagationStopped=n),t.beforeFire&&t.beforeFire(i),o=f[e])for(s=0,l=o.length;l>s;s++){if(c=o[s],c.once&&a(e,c.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(c.func.call(u,i)===!1)return i.preventDefault(),i}return i}function o(t,r,i,o){var a,s,l;if(r===!1&&(r=n),r)for(r={func:r},o&&e.extend(r,o),s=t.toLowerCase().split(" "),l=s.length;l--;)t=s[l],a=f[t],a||(a=f[t]=[],c(t,!0)),i?a.unshift(r):a.push(r);return d}function a(e,t){var n,r,i,o,a;if(e)for(o=e.toLowerCase().split(" "),n=o.length;n--;){if(e=o[n],r=f[e],!e){for(i in f)c(i,!1),delete f[i];return d}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),f[e]=r);else r.length=0;r.length||(c(e,!1),delete f[e])}}else{for(e in f)c(e,!1);f={}}return d}function s(e,t,n){return o(e,t,n,{once:!0})}function l(e){return e=e.toLowerCase(),!(!f[e]||0===f[e].length)}var u,c,d=this,f={};t=t||{},u=t.scope||d,c=t.toggleEvent||n,d.fire=i,d.on=o,d.off=a,d.once=s,d.has=l}var n=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return t.isNative=function(e){return!!n[e.toLowerCase()]},t}),r("tinymce/data/Binding",[],function(){function e(e){this.create=e.create}return e.create=function(t,n){return new e({create:function(e,r){function i(t){e.set(r,t.value)}function o(e){t.set(n,e.value)}var a;return e.on("change:"+r,o),t.on("change:"+n,i),a=e._bindings,a||(a=e._bindings=[],e.on("destroy",function(){for(var e=a.length;e--;)a[e]()})),a.push(function(){t.off("change:"+n,i)}),t.get(n)}})},e}),r("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(e){function t(t){return t._eventDispatcher||(t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){e.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&&"remove"!==e)return n;if(n=t(i).fire(e,n,r),r!==!1&&i.parent)for(var o=i.parent();o&&!n.isPropagationStopped();)o.fire(e,n,!1),o=o.parent();return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}}),r("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(e,t,n,r){function i(e,t){var n,o;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(r.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!i(e[n],t[n]))return!1}o={};for(n in t){if(!i(e[n],t[n]))return!1;o[n]=!0}for(n in e)if(!o[n]&&!i(e[n],t[n]))return!1;return!0}return n.extend({Mixins:[t],init:function(t){var n,r;t=t||{};for(n in t)r=t[n],r instanceof e&&(t[n]=r.create(this,n));this.data=t},set:function(t,n){var r,o,a=this.data[t];if(n instanceof e&&(n=n.create(this,t)),"object"==typeof t){for(r in t)this.set(r,t[r]);return this}return i(a,n)||(this.data[t]=n,o={target:this,name:t,value:n,oldValue:a},this.fire("change:"+t,o),this.fire("change",o)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(t){return e.create(this,t)},destroy:function(){this.fire("destroy")}})}),r("tinymce/ui/Selector",["tinymce/util/Class"],function(e){function n(e){for(var t,n=[],r=e.length;r--;)t=e[r],t.__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}var r,i=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,o=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,a=/^\s*|\s*$/g,s=e.extend({init:function(e){function n(e){return e?(e=e.toLowerCase(),function(t){return"*"===e||t.type===e}):t}function r(e){return e?function(t){return t._name===e}:t}function s(e){return e?(e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}):t}function l(e,n,r){return e?function(t){var i=t[e]?t[e]():"";return n?"="===n?i===r:"*="===n?i.indexOf(r)>=0:"~="===n?(" "+i+" ").indexOf(" "+r+" ")>=0:"!="===n?i!=r:"^="===n?0===i.indexOf(r):"$="===n?i.substr(i.length-r.length)===r:!1:!!r}:t}function u(e){var n;return e?(e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(n=d(e[1],[]),function(e){return!f(e,n)}):(e=e[2],function(t,n,r){return"first"===e?0===n:"last"===e?n===r-1:"even"===e?0===n%2:"odd"===e?1===n%2:t[e]?t[e]():!1})):t}function c(e,t,o){function c(e){e&&t.push(e)}var d;return d=i.exec(e.replace(a,"")),c(n(d[1])),c(r(d[2])),c(s(d[3])),c(l(d[4],d[5],d[6])),c(u(d[7])),t.psuedo=!!d[7],t.direct=o,t}function d(e,t){var n,r,i,a=[];do if(o.exec(""),r=o.exec(e),r&&(e=r[3],a.push(r[1]),r[2])){n=r[3];break}while(r);for(n&&d(n,t),e=[],i=0;a.length>i;i++)">"!=a[i]&&e.push(c(a[i],[],">"===a[i-1]));return t.push(e),t}var f=this.match;this._selectors=d(e,[])},match:function(e,t){var n,r,i,o,a,s,l,u,c,d,f,h,p;for(t=t||this._selectors,n=0,r=t.length;r>n;n++){for(a=t[n],o=a.length,p=e,h=0,i=o-1;i>=0;i--)for(u=a[i];p;){if(u.psuedo)for(f=p.parent().items(),c=d=f.length;c--&&f[c]!==p;);for(s=0,l=u.length;l>s;s++)if(!u[s](p,c,d)){s=l+1;break}if(s===l){h++;break}if(i===o-1)break;p=p.parent()}if(h===o)return!0}return!1},find:function(e){function t(e,n,r){var i,o,s,l,u,c=n[r];for(i=0,o=e.length;o>i;i++){for(u=e[i],s=0,l=c.length;l>s;s++)if(!c[s](u,i,o)){s=l+1;break}if(s===l)r==n.length-1?a.push(u):u.items&&t(u.items(),n,r+1);else if(c.direct)return;u.items&&t(u.items(),n,r)}}var i,o,a=[],l=this._selectors;if(e.items){for(i=0,o=l.length;o>i;i++)t(e.items(),l[i],0);o>1&&(a=n(a))}return r||(r=s.Collection),new r(a)}});return s}),r("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(e,n,r){var i,o,a=Array.prototype.push,s=Array.prototype.slice;return o={length:0,init:function(e){e&&this.add(e)},add:function(t){var n=this;return e.isArray(t)?a.apply(n,t):t instanceof i?n.add(t.toArray()):a.call(n,t),n},set:function(e){var t,n=this,r=n.length;for(n.length=0,n.add(e),t=n.length;r>t;t++)delete n[t];return n},filter:function(e){var t,r,o,a,s=this,l=[];for("string"==typeof e?(e=new n(e),a=function(t){return e.match(t)}):a=e,t=0,r=s.length;r>t;t++)o=s[t],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(s.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(t){return e.each(this,t),this},toArray:function(){return e.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new i(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].classes.contains(e):!1},prop:function(e,n){var r,i,o=this;return n!==r?(o.each(function(t){t[e]&&t[e](n)}),o):(i=o[0],i&&i[e]?i[e]():t)},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);return n.each(function(e){e[t]&&e[t].apply(e,r)}),n},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},e.each("fire on off show hide append prepend before after reflow".split(" "),function(t){o[t]=function(){var n=e.toArray(arguments);return this.each(function(e){t in e&&e[t].apply(e,n)}),this}}),e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){o[e]=function(t){return this.prop(e,t)
}}),i=r.extend(o),n.Collection=i,i}),r("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,t){var n=0;return{id:function(){return"mceu_"+n++},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,r){return t.DOM.toggleClass(e,n,r)},css:function(e,n,r){return t.DOM.setStyle(e,n,r)},getRuntimeStyle:function(e,n){return t.DOM.getStyle(e,n,!0)},on:function(e,n,r,i){return t.DOM.bind(e,n,r,i)},off:function(e,n,r){return t.DOM.unbind(e,n,r)},fire:function(e,n,r){return t.DOM.fire(e,n,r)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}}),r("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(e,t){function n(t){var n=document.defaultView;return n?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}}}}),r("tinymce/ui/ClassList",["tinymce/util/Tools"],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;this.cls.length>t&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;this.cls.length>t;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),r("tinymce/ui/ReflowQueue",[],function(){function e(e,t){function n(e){window.setTimeout(e,0)}var r,i=window.requestAnimationFrame,o=["ms","moz","webkit"];for(r=0;o.length>r&&!i;r++)i=window[o[r]+"RequestAnimationFrame"];i||(i=n),i(e,t)}var t,n={};return{add:function(r){var i=r.parent();if(i){if(!i._layout||i._layout.isNative())return;n[i._id]||(n[i._id]=i),t||(t=!0,e(function(){var e,r;t=!1;for(e in n)r=n[e],r.state.get("rendered")&&r.reflow();n={}},document.body))}},remove:function(e){n[e._id]&&delete n[e._id]}}}),r("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(e,n,r,i,o,a,s,l,u,c){function d(e){return e._eventDispatcher||(e._eventDispatcher=new r({scope:e,toggleEvent:function(t,n){n&&r.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&f(e))}})),e._eventDispatcher}function f(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function r(t){var n,r,i,o=e.getParentCtrl(t.target),a=u._lastHoverCtrl,s=0;if(o!==a){if(u._lastHoverCtrl=o,r=o.parents().toArray().reverse(),r.push(o),a){for(i=a.parents().toArray().reverse(),i.push(a),s=0;i.length>s&&r[s]===i[s];s++);for(n=i.length-1;n>=s;n--)a=i[n],a.fire("mouseleave",{target:a.getEl()})}for(n=s;r.length>n;n++)o=r[n],o.fire("mouseenter",{target:o.getEl()})}}function i(t){t.preventDefault(),"mousewheel"==t.type?(t.deltaY=-1/40*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-1/40*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,a,l,u,c,d;if(c=e._nativeEvents){for(l=e.parents().toArray(),l.unshift(e),o=0,a=l.length;!u&&a>o;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||e),e._eventsRoot=u,a=o,o=0;a>o;o++)l[o]._eventsRoot=u;var f=u._delegates;f||(f=u._delegates={});for(d in c){if(!c)return!1;"wheel"!==d||m?("mouseenter"===d||"mouseleave"===d?u._hasMouseEnter||(s(u.getEl()).on("mouseleave",n).on("mouseover",r),u._hasMouseEnter=1):f[d]||(s(u.getEl()).on(d,t),f[d]=!0),c[d]=!1):p?s(e.getEl()).on("mousewheel",i):s(e.getEl()).on("DOMMouseScroll",i)}}}var h,p="onmousewheel"in document,m=!1,g="mce-",v=0,y={Statics:{classPrefix:g},isRtl:function(){return h.rtl},classPrefix:g,init:function(e){function r(e){var t;for(e=e.split(" "),t=0;e.length>t;t++)c.classes.add(e[t])}var o,a,c=this;c.settings=e=n.extend({},c.Defaults,e),c._id=e.id||"mceu_"+v++,c._aria={role:e.role},c._elmCache={},c.$=s,c.state=new i({visible:!0,active:!1,disabled:!1,value:""}),c.data=new i(e.data),c.classes=new u(function(){c.state.get("rendered")&&(c.getEl().className=""+this)}),c.classes.prefix=c.classPrefix,o=e.classes,o&&(c.Defaults&&(a=c.Defaults.classes,a&&o!=a&&r(a)),r(o)),n.each("title text name visible disabled active value".split(" "),function(t){t in e&&c[t](e[t])}),c.on("click",function(){return c.disabled()?!1:t}),c.settings=e,c.borderBox=l.parseBox(e.border),c.paddingBox=l.parseBox(e.padding),c.marginBox=l.parseBox(e.margin),e.hidden&&c.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,n,r,i,o,s,u,c,d,f,h=this,p=h.settings,m=h.getEl();e=h.borderBox=h.borderBox||l.measureBox(m,"border"),h.paddingBox=h.paddingBox||l.measureBox(m,"padding"),h.marginBox=h.marginBox||l.measureBox(m,"margin"),f=a.getSize(m),c=p.minWidth,d=p.minHeight,o=c||f.width,s=d||f.height,r=p.width,i=p.height,u=p.autoResize,u=u!==t?u:!r&&!i,r=r||o,i=i||s;var g=e.left+e.right,v=e.top+e.bottom,y=p.maxWidth||65535,b=p.maxHeight||65535;return h._layoutRect=n={x:p.x||0,y:p.y||0,w:r,h:i,deltaW:g,deltaH:v,contentW:r-g,contentH:i-v,innerW:r-g,innerH:i-v,startMinWidth:c||0,startMinHeight:d||0,minW:Math.min(o,y),minH:Math.min(s,b),maxW:y,maxH:b,autoResize:u,scrollW:0},h._lastLayoutRect={},n},layoutRect:function(e){var t,n,r,i,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),e?(r=l.deltaW,i=l.deltaH,e.x!==o&&(l.x=e.x),e.y!==o&&(l.y=e.y),e.minW!==o&&(l.minW=e.minW),e.minH!==o&&(l.minH=e.minH),n=e.w,n!==o&&(n=l.minW>n?l.minW:n,n=n>l.maxW?l.maxW:n,l.w=n,l.innerW=n-r),n=e.h,n!==o&&(n=l.minH>n?l.minH:n,n=n>l.maxH?l.maxH:n,l.h=n,l.innerH=n-i),n=e.innerW,n!==o&&(n=l.minW-r>n?l.minW-r:n,n=n>l.maxW-r?l.maxW-r:n,l.innerW=n,l.w=n+r),n=e.innerH,n!==o&&(n=l.minH-i>n?l.minH-i:n,n=n>l.maxH-i?l.maxH-i:n,l.innerH=n,l.h=n+i),e.contentW!==o&&(l.contentW=e.contentW),e.contentH!==o&&(l.contentH=e.contentH),t=s._lastLayoutRect,(t.x!==l.x||t.y!==l.y||t.w!==l.w||t.h!==l.h)&&(a=h.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=l.x,t.y=l.y,t.w=l.w,t.h=l.h),s):l},repaint:function(){var e,t,n,r,i,o,a,s,l=this,u=0,c=0;a=document.createRange?function(e){return e}:Math.round,e=l.getEl().style,r=l._layoutRect,o=l._lastRepaintRect||{},i=l.borderBox,u=i.left+i.right,c=i.top+i.bottom,r.x!==o.x&&(e.left=a(r.x)+"px",o.x=r.x),r.y!==o.y&&(e.top=a(r.y)+"px",o.y=r.y),r.w!==o.w&&(s=a(r.w-u),e.width=(s>=0?s:0)+"px",o.w=r.w),r.h!==o.h&&(s=a(r.h-c),e.height=(s>=0?s:0)+"px",o.h=r.h),l._hasBody&&r.innerW!==o.innerW&&(s=a(r.innerW),n=l.getEl("body"),n&&(t=n.style,t.width=(s>=0?s:0)+"px"),o.innerW=r.innerW),l._hasBody&&r.innerH!==o.innerH&&(s=a(r.innerH),n=n||l.getEl("body"),n&&(t=t||n.style,t.height=(s>=0?s:0)+"px"),o.innerH=r.innerH),l._lastRepaintRect=o,l.fire("repaint",{},!1)},on:function(e,n){function r(e){var n,r;return"string"!=typeof e?e:function(o){return n||i.parentsAndSelf().each(function(i){var o=i.settings.callbacks;return o&&(n=o[e])?(r=i,!1):t}),n?n.call(r,o):(o.action=e,this.fire("execute",o),t)}}var i=this;return d(i).on(e,r(n)),i},off:function(e,t){return d(this).off(e,t),this},fire:function(e,t,n){var r=this;if(t=t||{},t.control||(t.control=r),t=d(r).fire(e,t),n!==!1&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return d(this).has(e)},parents:function(e){var t,n=this,r=new o;for(t=n.parent();t;t=t.parent())r.add(t);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new o(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=s("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,n){var r=this,i=r.getEl(r.ariaTarget);return n===t?r._aria[e]:(r._aria[e]=n,r.state.get("rendered")&&i.setAttribute("role"==e?e:"aria-"+e,n),r)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return h.translate?h.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,r=n.getEl(),i=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}i&&i.items&&(e=[],i.items().each(function(t){t!==n&&e.push(t)}),i.items().set(e),i._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&s(r).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],r&&r.parentNode&&r.parentNode.removeChild(r),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return s(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return s(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r,i,o=this,a=o.settings;o.$el=s(o.getEl()),o.state.set("rendered",!0);for(r in a)0===r.indexOf("on")&&o.on(r.substr(2),a[r]);if(o._eventsRoot){for(n=o.parent();!i&&n;n=n.parent())i=n._eventsRoot;if(i)for(r in i._nativeEvents)o._nativeEvents[r]=!0}f(o),a.style&&(e=o.getEl(),e&&(e.setAttribute("style",a.style),e.style.cssText=a.style)),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var l=o.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o;for(var u in o._aria)o.aria(u,o._aria[u]);o.state.get("visible")===!1&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=n===!1?"none":"",o.getEl().getBoundingClientRect()),t=o.parent(),t&&(t._lastRect=null),o.fire(n?"show":"hide"),c.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n,r,i,o,a,s,l=this.getEl(),u=l.parentNode,c=t(l,u);return n=c.x,r=c.y,i=l.offsetWidth,o=l.offsetHeight,a=u.clientWidth,s=u.clientHeight,"end"==e?(n-=a-i,r-=s-o):"center"==e&&(n-=a/2-i/2,r-=s/2-o/2),u.scrollLeft=n,u.scrollTop=r,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){c.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return n.each("text title visible disabled active value".split(" "),function(e){y[e]=function(n){return 0===arguments.length?this.state.get(e):(n!==t&&this.state.set(e,n),this)}}),h=e.extend(y)}),r("tinymce/ui/Factory",[],function(){var e,t={};return{add:function(e,n){t[e.toLowerCase()]=n},has:function(e){return!!t[e.toLowerCase()]},create:function(n,r){var i,o,a;if(!e){a=tinymce.ui;for(o in a)t[o.toLowerCase()]=a[o];e=!0}if("string"==typeof n?(r=r||{},r.type=n):(r=n,n=r.type),n=n.toLowerCase(),i=t[n],!i)throw Error("Could not find control by type: "+n);return i=new i(r),i.type=n,i}}}),r("tinymce/ui/KeyboardNavigation",[],function(){return function(e){function n(e){return e&&1===e.nodeType}function r(e){return e=e||$,n(e)?e.getAttribute("role"):null}function i(e){for(var t,n=e||$;n=n.parentNode;)if(t=r(n))return t}function o(e){var r=$;return n(r)?r.getAttribute("aria-"+e):t}function a(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t}function s(e){return a(e)&&!e.hidden?!0:/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(r(e))?!0:!1}function l(e){function t(e){if(1==e.nodeType&&"none"!=e.style.display){s(e)&&n.push(e);for(var r=0;e.childNodes.length>r;r++)t(e.childNodes[r])}}var n=[];return t(e||w.getEl()),n}function u(e){var t,n;e=e||x,n=e.parents().toArray(),n.unshift(e);for(var r=0;n.length>r&&(t=n[r],!t.settings.ariaRoot);r++);return t}function c(e){var t=u(e),n=l(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?d(t.lastAriaIndex,n):d(0,n)}function d(e,t){return 0>e?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,t){var n=-1,r=u();t=t||l(r.getEl());for(var i=0;t.length>i;i++)t[i]===$&&(n=i);n+=e,r.lastAriaIndex=d(n,t)}function h(){var e=i();"tablist"==e?f(-1,l($.parentNode)):x.parent().submenu?y():f(-1)}function p(){var e=r(),t=i();"tablist"==t?f(1,l($.parentNode)):"menuitem"==e&&"menu"==t&&o("haspopup")?b():f(1)}function m(){f(-1)}function g(){var e=r(),t=i();"menuitem"==e&&"menubar"==t?b():"button"==e&&o("haspopup")?b({key:"down"}):f(1)}function v(e){var t=i();if("tablist"==t){var n=l(x.getEl("body"))[0];n&&n.focus()}else f(e.shiftKey?-1:1)}function y(){x.fire("cancel")}function b(e){e=e||{},x.fire("click",{target:$,aria:e})}var $,x,w=e.root;try{$=document.activeElement}catch(C){$=document.body}return x=w.getParentCtrl($),w.on("keydown",function(e){function t(e,t){a($)||t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,h);break;case 39:t(e,p);break;case 38:t(e,m);break;case 40:t(e,g);break;case 27:y();break;case 14:case 13:case 32:t(e,b);break;case 9:v(e)!==!1&&e.preventDefault()}}),w.on("focusin",function(e){$=e.target,x=e.control}),{focusFirst:c}}}),r("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(e,n,r,i,o,a,s,l,u){var c={};return e.extend({init:function(e){var t=this;t._super(e),e=t.settings,e.fixed&&t.state.set("fixed",!0),t._items=new n,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new l(function(){t.state.get("rendered")&&(t.getEl("body").className=""+this)}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=i.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return e=c[e]=c[e]||new r(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var n,r,i,o=this;return e&&(r=o.keyboardNav||o.parents().eq(-1)[0].keyboardNav)?(r.focusFirst(o),t):(i=o.find("*"),o.statusbar&&i.add(o.statusbar.items()),i.each(function(e){return e.settings.autofocus?(n=null,!1):(e.canFocus&&(n=n||e),t)}),n&&n.focus(),o)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}i>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(t){var n,r=this,o=[];return a.isArray(t)||(t=[t]),a.each(t,function(t){t&&(t instanceof e||("string"==typeof t&&(t={type:t}),n=a.extend({},r.settings.defaults,t),t.type=n.type=n.type||t.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),t=i.create(n)),o.push(t))}),o},renderNew:function(){var e=this;return e.items().each(function(t,n){var r;t.parent(e),t.state.get("rendered")||(r=e.getEl("body"),r.hasChildNodes()&&r.childNodes.length-1>=n?s(r.childNodes[n]).before(t.renderHtml()):s(r).append(t.renderHtml()),t.postRender(),u.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r,i,o,a=this;return e=a.create(e),r=a.items(),!n&&r.length-1>t&&(t+=1),t>=0&&r.length>t&&(i=r.slice(0,t).toArray(),o=r.slice(t).toArray(),r.set(i.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,n={};return e.find("*").each(function(e){var r=e.name(),i=e.value();r&&i!==t&&(n[r]=i)}),n},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+">"+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new o({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,n=e._layoutRect,r=e._lastRect;return r&&r.w==n.w&&r.h==n.h?t:(e._layout.recalc(e),n=e.layoutRect(),e._lastRect={x:n.x,y:n.y,w:n.w,h:n.h},!0)},reflow:function(){var t;if(u.remove(this),this.visible()){for(e.repaintControls=[],e.repaintControls.map={},this.recalc(),t=e.repaintControls.length;t--;)e.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),e.repaintControls=[]}return this}})}),r("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(e){function n(e){var t,n,r,i,o,a,s,l,u=Math.max;return t=e.documentElement,n=e.body,r=u(t.scrollWidth,n.scrollWidth),i=u(t.clientWidth,n.clientWidth),o=u(t.offsetWidth,n.offsetWidth),a=u(t.scrollHeight,n.scrollHeight),s=u(t.clientHeight,n.clientHeight),l=u(t.offsetHeight,n.offsetHeight),{width:o>r?i:r,height:l>a?s:a}}function r(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;t.length>n;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(i,o){function a(){return p.getElementById(o.handle||i)}var s,l,u,c,d,f,h,p=o.document||document;o=o||{},u=function(t){var i,u,m=n(p);r(t),t.preventDefault(),l=t.button,i=a(),f=t.screenX,h=t.screenY,u=window.getComputedStyle?window.getComputedStyle(i,null).getPropertyValue("cursor"):i.runtimeStyle.cursor,s=e("<div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:u}).appendTo(p.body),e(p).on("mousemove touchmove",d).on("mouseup touchend",c),o.start(t)},d=function(e){return r(e),e.button!==l?c(e):(e.deltaX=e.screenX-f,e.deltaY=e.screenY-h,e.preventDefault(),o.drag(e),t)},c=function(t){r(t),e(p).off("mousemove touchmove",d).off("mouseup touchend",c),s.remove(),o.stop&&o.stop(t)},this.destroy=function(){e(a()).off()},e(a()).on("mousedown touchstart",u)}}),r("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(e,n){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function r(){function n(n,s,l,u,c,d){var f,h,p,m,g,v,y,b,$;if(h=o.getEl("scroll"+n)){if(b=s.toLowerCase(),$=l.toLowerCase(),e(o.getEl("absend")).css(b,o.layoutRect()[u]-1),!c)return e(h).css("display","none"),t;e(h).css("display","block"),f=o.getEl("body"),p=o.getEl("scroll"+n+"t"),m=f["client"+l]-2*a,m-=r&&i?h["client"+d]:0,g=f["scroll"+l],v=m/g,y={},y[b]=f["offset"+s]+a,y[$]=m,e(h).css(y),y={},y[b]=f["scroll"+s]*v,y[$]=m*v,e(p).css(y)}}var r,i,s;s=o.getEl("body"),r=s.scrollWidth>s.clientWidth,i=s.scrollHeight>s.clientHeight,n("h","Left","Width","contentW",r,"Height"),n("v","Top","Height","contentH",i,"Width")}function i(){function t(t,r,i,s,l){var u,c=o._id+"-scroll"+t,d=o.classPrefix;e(o.getEl()).append('<div id="'+c+'" class="'+d+"scrollbar "+d+"scrollbar-"+t+'">'+'<div id="'+c+'t" class="'+d+'scrollbar-thumb"></div>'+"</div>"),o.draghelper=new n(c+"t",{start:function(){u=o.getEl("body")["scroll"+r],e("#"+c).addClass(d+"active")},drag:function(e){var n,c,d,f,h=o.layoutRect();c=h.contentW>h.innerW,d=h.contentH>h.innerH,f=o.getEl("body")["client"+i]-2*a,f-=c&&d?o.getEl("scroll"+t)["client"+l]:0,n=f/o.getEl("body")["scroll"+i],o.getEl("body")["scroll"+r]=u+e["delta"+s]/n},stop:function(){e("#"+c).removeClass(d+"active")}})}o.classes.add("scroll"),t("v","Top","Height","Y","Width"),t("h","Left","Width","X","Height")}var o=this,a=2;o.settings.autoScroll&&(o._hasScroll||(o._hasScroll=!0,i(),o.on("wheel",function(e){var t=o.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,r()}),e(o.getEl("body")).on("scroll",r)),r())}}}),r("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,n){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[n],renderHtml:function(){var e=this,n=e._layout,r=e.settings.html;return e.preRender(),n.preRender(e),r===t?r='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+n.renderHtml(e)+"</div>":("function"==typeof r&&(r=r.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+r+"</div>"}})}),r("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(e){function t(t,n,r){var i,o,a,s,l,u,c,d,f,h;return f=e.getViewPort(),o=e.getPos(n),a=o.x,s=o.y,t.state.get("fixed")&&"static"==e.getRuntimeStyle(document.body,"position")&&(a-=f.x,s-=f.y),i=t.getEl(),h=e.getSize(i),l=h.width,u=h.height,h=e.getSize(n),c=h.width,d=h.height,r=(r||"").split(""),"b"===r[0]&&(s+=d),"r"===r[1]&&(a+=c),"c"===r[0]&&(s+=Math.round(d/2)),"c"===r[1]&&(a+=Math.round(c/2)),"b"===r[3]&&(s-=u),"r"===r[4]&&(a-=l),"c"===r[3]&&(s-=Math.round(u/2)),"c"===r[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,r){for(var i=e.getViewPort(),o=0;r.length>o;o++){var a=t(this,n,r[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<i.w&&a.y>0&&a.y+a.h<i.h)return r[o]}else if(a.x>i.x&&a.x+a.w<i.w+i.x&&a.y>i.y&&a.y+a.h<i.h+i.y)return r[o]}return r[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(t,n){function r(e,t,n){return 0>e?0:e+n>t?(e=t-n,0>e?0:e):e}var i=this;if(i.settings.constrainToViewport){var o=e.getViewPort(window),a=i.layoutRect();t=r(t,o.w+o.x,a.w),n=r(n,o.h+o.y,a.h)}return i.state.get("rendered")?i.layoutRect({x:t,y:n}).repaint():(i.settings.x=t,i.settings.y=n),i.fire("move",{x:t,y:n}),i}}}),r("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(e){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,n){if(1>=t||1>=n){var r=e.getWindowSize();t=1>=t?t*r.w:t,n=1>=n?n*r.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}}),r("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,n,r,i,o){function a(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){for(var t=y.length;t--;){var n=y[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(a(r,n)||n.parent()===r))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function l(){p||(p=function(e){2!=e.button&&s(e)},o(document).on("click touchstart",p))}function u(){m||(m=function(){var e;for(e=y.length;e--;)d(y[e])},o(window).on("scroll",m))}function c(){if(!g){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;g=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,$.hideAll())},o(window).on("resize",g)}}function d(e){function t(t,n){for(var r,i=0;y.length>i;i++)if(y[i]!=e)for(r=y[i].parent();r&&(r=r.parent());)r==e&&y[i].fixed(t).moveBy(0,n).repaint()}var n=i.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,n>e._autoFixY&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function f(e,t){var n,r,i=$.zIndex||65535;if(e)b.push(t);else for(n=b.length;n--;)b[n]===t&&b.splice(n,1);if(b.length)for(n=0;b.length>n;n++)b[n].modal&&(i++,r=b[n]),b[n].getEl().style.zIndex=i,b[n].zIndex=i,i++;var a=document.getElementById(t.classPrefix+"modal-block");r?o(a).css("z-index",r.zIndex-1):a&&(a.parentNode.removeChild(a),v=!1),$.currentZIndex=i}function h(e){var t;for(t=y.length;t--;)y[t]===e&&y.splice(t,1);for(t=b.length;t--;)b[t]===e&&b.splice(t,1)}var p,m,g,v,y=[],b=[],$=e.extend({Mixins:[n,r],init:function(e){var n=this;n._super(e),n._eventsRoot=n,n.classes.add("floatpanel"),e.autohide&&(l(),c(),y.push(n)),e.autofix&&(u(),n.on("move",function(){d(this)})),n.on("postrender show",function(e){if(e.control==n){var t,r=n.classPrefix;n.modal&&!v&&(t=o("#"+r+"modal-block"),t[0]||(t=o('<div id="'+r+'modal-block" class="'+r+"reset "+r+'fade"></div>').appendTo(n.getContainerElm())),setTimeout(function(){t.addClass(r+"in"),o(n.getEl()).addClass(r+"in")},0),v=!0),f(!0,n)}}),n.on("show",function(){n.parents().each(function(e){return e.state.get("fixed")?(n.fixed(!0),!1):t})}),e.popover&&(n._preBodyHtml='<div class="'+n.classPrefix+'arrow"></div>',n.classes.add("popover").add("bottom").add(n.isRtl()?"end":"start"))},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=i.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=y.length;e--&&y[e]!==t;);return-1===e&&y.push(t),n},hide:function(){return h(this),f(!1,this),this._super()},hideAll:function(){$.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),f(!1,e)),e},remove:function(){h(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return $.hideAll=function(){for(var e=y.length;e--;){var t=y[e];t&&t.settings.autohide&&(t.hide(),y.splice(e,1))}},$}),r("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env"],function(e,n,r,i,o,a,s){function l(e){var n,r="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",o=i("meta[name=viewport]")[0];s.overrideViewPort!==!1&&(o||(o=document.createElement("meta"),o.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(o)),n=o.getAttribute("content"),n&&f!==t&&(f=n),o.setAttribute("content",e?r:f))}function u(e){for(var t=0;d.length>t;t++)if(d[t]._fullscreen)return;i([document.documentElement,document.body]).removeClass(e+"fullscreen")}function c(){function e(){var e,t,n=r.getWindowSize();for(e=0;d.length>e;e++)t=d[e].layoutRect(),d[e].moveTo(d[e].settings.x||Math.max(0,n.w/2-t.w/2),d[e].settings.y||Math.max(0,n.h/2-t.h/2))}var t={w:window.innerWidth,h:window.innerHeight};window.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;(t.w!=e||t.h!=n)&&(t={w:e,h:n},i(window).trigger("resize"))},0),i(window).on("resize",e)}var d=[],f="",h=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new n({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()}),t.on("cancel",function(){t.close()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,i,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(r.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),e=o.layoutRect(),o.settings.title&&!o._fullscreen&&(t=e.headerW,t>e.w&&(n=e.x-Math.max(0,t/2),o.layoutRect({w:t,x:n}),i=!0)),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),t=a.layoutRect().minW+e.deltaW,t>e.w&&(n=e.x-Math.max(0,t-e.w),o.layoutRect({w:t,x:n}),i=!0)),i&&o.recalc()},initLayoutRect:function(){var e,t=this,n=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var o=r.getSize(e);n.headerW=o.width,n.headerH=o.height,i+=n.headerH}t.statusbar&&(i+=t.statusbar.layoutRect().h),n.deltaH+=i,n.minH+=i,n.h+=i;var a=r.getWindowSize();return n.x=t.settings.x||Math.max(0,a.w/2-n.w/2),n.y=t.settings.y||Math.max(0,a.h/2-n.h/2),n},renderHtml:function(){var e=this,n=e._layout,r=e._id,i=e.classPrefix,o=e.settings,a="",s="",l=o.html;return e.preRender(),n.preRender(e),o.title&&(a='<div id="'+r+'-head" class="'+i+'window-head">'+'<div id="'+r+'-title" class="'+i+'title">'+e.encode(o.title)+"</div>"+'<button type="button" class="'+i+'close" aria-hidden="true"></button>'+'<div id="'+r+'-dragh" class="'+i+'dragh"></div>'+"</div>"),o.url&&(l='<iframe src="'+o.url+'" tabindex="-1"></iframe>'),l===t&&(l=n.renderHtml(e)),e.statusbar&&(s=e.statusbar.renderHtml()),'<div id="'+r+'" class="'+e.classes+'" hidefocus="1">'+'<div class="'+e.classPrefix+'reset" role="application">'+a+'<div id="'+r+'-body" class="'+e.bodyClasses+'">'+l+"</div>"+s+"</div>"+"</div>"},fullscreen:function(e){var t,n,o=this,s=document.documentElement,l=o.classPrefix;if(e!=o._fullscreen)if(i(window).on("resize",function(){var e;if(o._fullscreen)if(t)o._timer||(o._timer=setTimeout(function(){var e=r.getWindowSize();o.moveTo(0,0).resizeTo(e.w,e.h),o._timer=0},50));else{e=(new Date).getTime();var n=r.getWindowSize();o.moveTo(0,0).resizeTo(n.w,n.h),(new Date).getTime()-e>50&&(t=!0)}}),n=o.layoutRect(),o._fullscreen=e,e){o._initial={x:n.x,y:n.y,w:n.w,h:n.h},o.borderBox=a.parseBox("0"),o.getEl("head").style.display="none",n.deltaH-=n.headerH+2,i([s,document.body]).addClass(l+"fullscreen"),o.classes.add("fullscreen");
var u=r.getWindowSize();o.moveTo(0,0).resizeTo(u.w,u.h)}else o.borderBox=a.parseBox(o.settings.border),o.getEl("head").style.display="",n.deltaH+=n.headerH,i([s,document.body]).removeClass(l+"fullscreen"),o.classes.remove("fullscreen"),o.moveTo(o._initial.x,o._initial.y).resizeTo(o._initial.w,o._initial.h);return o.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new o(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),d.push(t),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),e=d.length;e--;)d[e]===t&&d.splice(e,1);l(d.length>0),u(t.classPrefix)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return s.desktop||c(),h}),r("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(e){var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function r(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),o(t)}}}var i,o=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:i=[r("Ok",!0,!0),r("Cancel",!1)];break;case t.YES_NO:case t.YES_NO_CANCEL:i=[r("Yes",1,!0),r("No",0)],n.buttons==t.YES_NO_CANCEL&&i.push(r("Cancel",-1));break;default:i=[r("Ok",!0,!0)]}return new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,t.msgBox(e)},confirm:function(e,n){return"string"==typeof e&&(e={text:e}),e.callback=n,e.buttons=t.OK_CANCEL,t.msgBox(e)}}});return t}),r("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(e,n){return function(r){function i(){return a.length?a[a.length-1]:t}var o=this,a=[];o.windows=a,r.on("remove",function(){for(var e=a.length;e--;)a[e].close()}),o.open=function(t,n){var i;return r.editorManager.setActive(r),t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),i=new e(t),a.push(i),i.on("close",function(){for(var e=a.length;e--;)a[e]===i&&a.splice(e,1);a.length||r.focus()}),t.data&&i.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),i.features=t||{},i.params=n||{},1===a.length&&r.nodeChanged(),i.renderTo().reflow()},o.alert=function(e,t,i){n.alert(e,function(){t?t.call(i||this):r.focus()})},o.confirm=function(e,t,r){n.confirm(e,function(e){t.call(r||this,e)})},o.close=function(){i()&&i().close()},o.getParams=function(){return i()?i().params:null},o.setParams=function(e){i()&&(i().params=e)},o.getWindows=function(){return a}}}),r("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,n,r,i,o,a,s){return function(l){function u(e,t){try{l.getDoc().execCommand(e,!1,t)}catch(n){}}function c(){var e=l.getDoc().documentMode;return e?e:6}function d(e){return e.isDefaultPrevented()}function f(e){var t;e.dataTransfer&&(l.selection.isCollapsed()&&"IMG"==e.target.tagName&&Q.select(e.target),t=l.selection.getContent(),t.length>0&&e.dataTransfer.setData(at,ot+escape(t)))}function h(e){var t,n;return e.dataTransfer&&(t=e.dataTransfer.getData(at),t&&t.indexOf(ot)>=0&&(n=unescape(t.substr(ot.length)))),n}function p(e){l.queryCommandSupported("mceInsertClipboardContent")?l.execCommand("mceInsertClipboardContent",!1,{content:e}):l.execCommand("mceInsertContent",!1,e)}function m(){function i(e){var t=$.schema.getBlockElements(),n=l.getBody();if("BR"!=e.nodeName)return!1;for(e=e;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function o(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==X.trim(n.data).length)&&n!==t)return!1;return n===t}function a(e,t,n){var o,a,s;for(s=$.schema.getNonEmptyElements(),o=new r(n||e,e);a=o[t?"next":"prev"]();){if(s[a.nodeName]&&!i(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function u(e){var t,r,i,o,s;if(!e.collapsed&&(t=$.getParent(n.getNode(e.startContainer,e.startOffset),$.isBlock),r=$.getParent(n.getNode(e.endContainer,e.endOffset),$.isBlock),s=l.schema.getTextBlockElements(),t!=r&&s[t.nodeName]&&s[r.nodeName]&&"false"!==$.getContentEditable(t)&&"false"!==$.getContentEditable(r)))return e.deleteContents(),i=a(t,!1),o=a(r,!0),$.isEmpty(r)||X(t).append(r.childNodes),X(r).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):o&&(1==o.nodeType?(e.setStartBefore(o),e.setEndBefore(o)):(e.setStart(o,0),e.setEnd(o,0))),x.setRng(e),!0}function c(e,t){var r,i,s,u,c,d;if(!e.collapsed)return e;if(c=e.startContainer,d=e.startOffset,3==c.nodeType)if(t){if(c.data.length>d)return e}else if(d>0)return e;if(r=n.getNode(e.startContainer,e.startOffset),s=$.getParent(r,$.isBlock),i=a(l.getBody(),t,r),u=$.getParent(i,$.isBlock),!r||!i)return e;if(u&&s!=u)if(t){if(!o(s,u))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!o(u,s))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==r.nodeType?e.setEnd(r,0):e.setEndBefore(r)}return e}function m(e){var n=x.getRng();return n=c(n,e),u(n)?!0:t}function g(e){var t,n,r;m(e)||(s.each(l.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&l.dom.setAttrib(e,"style",l.dom.getAttrib(e,"style"))}),t=new w(function(){}),t.observe(l.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),l.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),n=l.selection.getRng(),r=n.startContainer.parentNode,s.each(t.takeRecords(),function(e){if($.isChildOf(e.target,l.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}s.each(e.addedNodes,function(e){if("SPAN"==e.nodeName&&!e.getAttribute("mce-data-marked")){var t,i;e==r&&(t=n.startOffset,i=e.firstChild),$.remove(e,!0),i&&(n.setStart(i,t),n.setEnd(i,t),l.selection.setRng(n))}})}}),t.disconnect(),s.each(l.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}var v,y,b=l.getDoc(),$=l.dom,x=l.selection,w=window.MutationObserver;w||(v=!0,w=function(){function e(e){var t=e.relatedNode||e.target;r.push({target:t,addedNodes:[t]})}function t(e){var t=e.relatedNode||e.target;r.push({target:t,attributeName:e.attrName})}var n,r=[];this.observe=function(r){n=r,n.addEventListener("DOMSubtreeModified",e,!1),n.addEventListener("DOMNodeInsertedIntoDocument",e,!1),n.addEventListener("DOMNodeInserted",e,!1),n.addEventListener("DOMAttrModified",t,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",e,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",e,!1),n.removeEventListener("DOMNodeInserted",e,!1),n.removeEventListener("DOMAttrModified",t,!1)},this.takeRecords=function(){return r}}),l.on("keydown",function(e){var t=e.keyCode==Y,n=e.ctrlKey||e.metaKey;if(!d(e)&&(t||e.keyCode==K)){var r=l.selection.getRng(),i=r.startContainer,o=r.startOffset;if(!n&&r.collapsed&&3==i.nodeType&&(t?i.data.length>o:o>0))return;e.preventDefault(),n&&l.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),g(t)}}),l.on("keypress",function(t){if(!d(t)&&!x.isCollapsed()&&t.charCode&&!e.metaKeyPressed(t)){var n,r,i,o,a,s;n=l.selection.getRng(),s=String.fromCharCode(t.charCode),t.preventDefault(),r=X(n.startContainer).parents().filter(function(e,t){return!!l.schema.getTextInlineElements()[t.nodeName]}),g(!0),r=r.filter(function(e,t){return!X.contains(l.getBody(),t)}),r.length?(i=$.createFragment(),r.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?(t.appendChild(i.firstChild),i.appendChild(t)):(a=t,i.appendChild(t)),i.appendChild(t)}),a.appendChild(l.getDoc().createTextNode(s)),o=$.getParent(n.startContainer,$.isBlock),$.isEmpty(o)?X(o).empty().append(i):n.insertNode(i),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),l.selection.setRng(n)):l.selection.setContent(s)}}),l.addCommand("Delete",function(){g()}),l.addCommand("ForwardDelete",function(){g(!0)}),v||(l.on("dragstart",function(e){y=x.getRng(),f(e)}),l.on("drop",function(e){if(!d(e)){var t=h(e);t&&(e.preventDefault(),window.setTimeout(function(){var r=n.getCaretRangeFromPoint(e.x,e.y,b);y&&(x.setRng(y),y=null),g(),x.setRng(r),p(t)},0))}}),l.on("cut",function(e){d(e)||!e.clipboardData||l.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",l.selection.getContent()),e.clipboardData.setData("text/plain",l.selection.getContent({format:"text"})),window.setTimeout(function(){g(!0)},0))}))}function g(){function e(e){var t=J.create("body"),n=e.cloneContents();return t.appendChild(n),Q.serializer.serialize(t,{format:"html"})}function t(t){if(!t.setStart){if(t.item)return!1;var r=t.duplicate();return r.moveToElementText(l.getBody()),n.compareRanges(t,r)}var i=e(t),o=J.createRng();o.selectNode(l.getBody());var a=e(o);return i===a}l.on("keydown",function(e){var n,r,i=e.keyCode;if(!d(e)&&(i==Y||i==K)){if(n=l.selection.isCollapsed(),r=l.getBody(),n&&!J.isEmpty(r))return;if(!n&&!t(l.selection.getRng()))return;e.preventDefault(),l.setContent(""),r.firstChild&&J.isBlock(r.firstChild)?l.selection.setCursorLocation(r.firstChild,0):l.selection.setCursorLocation(r,0),l.nodeChanged()}})}function v(){l.shortcuts.add("meta+a",null,"SelectAll")}function y(){l.settings.content_editable||(J.bind(l.getDoc(),"focusin",function(){Q.setRng(Q.getRng())}),J.bind(l.getDoc(),"mousedown mouseup",function(e){e.target==l.getDoc().documentElement&&(l.getBody().focus(),"mousedown"==e.type?Q.placeCaretAt(e.clientX,e.clientY):Q.setRng(Q.getRng()))}))}function b(){l.on("keydown",function(e){if(!d(e)&&e.keyCode===K){if(!l.getBody().getElementsByTagName("hr").length)return;if(Q.isCollapsed()&&0===Q.getRng(!0).startOffset){var n=Q.getNode(),r=n.previousSibling;if("HR"==n.nodeName)return J.remove(n),e.preventDefault(),t;r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(J.remove(r),e.preventDefault())}}})}function $(){window.Range.prototype.getClientRects||l.on("mousedown",function(e){if(!d(e)&&"HTML"===e.target.nodeName){var t=l.getBody();t.blur(),setTimeout(function(){t.focus()},0)}})}function x(){l.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&(e.preventDefault(),Q.getSel().setBaseAndExtent(t,0,t,1),l.nodeChanged()),"A"==t.nodeName&&J.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),Q.select(t))})}function w(){function e(){var e=J.getAttribs(Q.getStart().cloneNode(!1));return function(){var t=Q.getStart();t!==l.getBody()&&(J.setAttrib(t,"style",null),G(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function n(){return!Q.isCollapsed()&&J.getParent(Q.getStart(),J.isBlock)!=J.getParent(Q.getEnd(),J.isBlock)}l.on("keypress",function(r){var i;return d(r)||8!=r.keyCode&&46!=r.keyCode||!n()?t:(i=e(),l.getDoc().execCommand("delete",!1,null),i(),r.preventDefault(),!1)}),J.bind(l.getDoc(),"cut",function(t){var r;!d(t)&&n()&&(r=e(),setTimeout(function(){r()},0))})}function C(){document.body.setAttribute("role","application")}function S(){l.on("keydown",function(e){if(!d(e)&&e.keyCode===K&&Q.isCollapsed()&&0===Q.getRng(!0).startOffset){var t=Q.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function E(){c()>7||(u("RespectVisibilityInDesign",!0),l.contentStyles.push(".mceHideBrInPre pre br {display: none}"),J.addClass(l.getBody(),"mceHideBrInPre"),et.addNodeFilter("pre",function(e){for(var t,n,r,o,a=e.length;a--;)for(t=e[a].getAll("br"),n=t.length;n--;)r=t[n],o=r.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":r.parent.insert(new i("#text",3),r,!0).value="\n"}),tt.addNodeFilter("pre",function(e){for(var t,n,r,i,o=e.length;o--;)for(t=e[o].getAll("br"),n=t.length;n--;)r=t[n],i=r.prev,i&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))}))}function _(){J.bind(l.getBody(),"mouseup",function(){var e,t=Q.getNode();"IMG"==t.nodeName&&((e=J.getStyle(t,"width"))&&(J.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),J.setStyle(t,"width","")),(e=J.getStyle(t,"height"))&&(J.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),J.setStyle(t,"height","")))})}function k(){l.on("keydown",function(t){var n,r,i,o,a;if(!d(t)&&t.keyCode==e.BACKSPACE&&(n=Q.getRng(),r=n.startContainer,i=n.startOffset,o=J.getRoot(),a=r,n.collapsed&&0===i)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(l.formatter.toggle("blockquote",null,a),n=J.createRng(),n.setStart(r,0),n.setEnd(r,0),Q.setRng(n))}})}function T(){function e(){l._refreshContentEditable(),u("StyleWithCSS",!1),u("enableInlineTableEditing",!1),Z.object_resizing||u("enableObjectResizing",!1)}Z.readonly||l.on("BeforeExecCommand MouseDown",e)}function A(){function e(){G(J.select("a"),function(e){var t=e.parentNode,n=J.getRoot();if(t.lastChild===e){for(;t&&!J.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}J.add(t,"br",{"data-mce-bogus":1})}})}l.on("SetContent ExecCommand",function(t){("setcontent"==t.type||"mceInsertLink"===t.command)&&e()})}function N(){Z.forced_root_block&&l.on("init",function(){u("DefaultParagraphSeparator",Z.forced_root_block)})}function R(){l.on("Undo Redo SetContent",function(e){e.initial||l.execCommand("mceRepaint")})}function D(){l.on("keydown",function(e){var t;d(e)||e.keyCode!=K||(t=l.getDoc().selection.createRange(),t&&t.item&&(e.preventDefault(),l.undoManager.beforeChange(),J.remove(t.item(0)),l.undoManager.add()))})}function M(){var e;c()>=10&&(e="",G("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"}),l.contentStyles.push(e+"{padding-right: 1px !important}"))}function P(){9>c()&&(et.addNodeFilter("noscript",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.firstChild,n&&t.attr("data-mce-innertext",n.value)}),tt.addNodeFilter("noscript",function(e){for(var t,n,r,a=e.length;a--;)t=e[a],n=e[a].firstChild,n?n.value=o.decode(n.value):(r=t.attributes.map["data-mce-innertext"],r&&(t.attr("data-mce-innertext",null),n=new i("#text",3),n.value=r,n.raw=!0,t.append(n)))}))}function O(){function e(e,t){var n=s.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(t){var r;t.button?(r=e(t.x,t.y),r&&(r.compareEndPoints("StartToStart",i)>0?r.setEndPoint("StartToStart",i):r.setEndPoint("EndToEnd",i),r.select())):n()}function n(){var e=a.selection.createRange();i&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&i.select(),J.unbind(a,"mouseup",n),J.unbind(a,"mousemove",t),i=r=0}var r,i,o,a=J.doc,s=a.body;a.documentElement.unselectable=!0,J.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(r&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;r=1,i=e(s.x,s.y),i&&(J.bind(a,"mouseup",n),J.bind(a,"mousemove",t),J.getRoot().focus(),i.select())}})}function B(){l.on("keyup focusin mouseup",function(t){65==t.keyCode&&e.metaKeyPressed(t)||Q.normalize()},!0)}function I(){l.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function L(){l.inline||l.on("keydown",function(){document.activeElement==document.body&&l.getWin().focus()})}function H(){l.inline||(l.contentStyles.push("body {min-height: 150px}"),l.on("click",function(e){if("HTML"==e.target.nodeName){var t;t=l.selection.getRng(),l.getBody().focus(),l.selection.setRng(t),l.selection.normalize(),l.nodeChanged()}}))}function F(){a.mac&&l.on("keydown",function(t){!e.metaKeyPressed(t)||t.shiftKey||37!=t.keyCode&&39!=t.keyCode||(t.preventDefault(),l.selection.getSel().modify("move",37==t.keyCode?"backward":"forward","lineboundary"))})}function U(){u("AutoUrlDetect",!1)}function j(){l.inline||l.on("focus blur beforegetcontent",function(){var e=l.dom.create("br");l.getBody().appendChild(e),e.parentNode.removeChild(e)},!0)}function z(){l.on("click",function(e){var n=e.target;do if("A"===n.tagName)return e.preventDefault(),t;while(n=n.parentNode)}),l.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function V(){l.on("init",function(){l.dom.bind(l.getBody(),"submit",function(e){e.preventDefault()})})}function q(){et.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})}function W(){l.on("dragstart",function(e){f(e)}),l.on("drop",function(e){if(!d(e)){var t=h(e);if(t){e.preventDefault();var r=n.getCaretRangeFromPoint(e.x,e.y,l.getDoc());Q.setRng(r),p(t)}}})}var G=s.each,X=l.$,K=e.BACKSPACE,Y=e.DELETE,J=l.dom,Q=l.selection,Z=l.settings,et=l.parser,tt=l.serializer,nt=a.gecko,rt=a.ie,it=a.webkit,ot="data:text/mce-internal,",at=rt?"Text":"URL";k(),g(),B(),it&&(m(),y(),x(),N(),V(),S(),q(),a.iOS?(L(),H(),z()):v()),rt&&11>a.ie&&(b(),C(),E(),_(),D(),M(),P(),O()),a.ie>=11&&(H(),j(),S()),a.ie&&(v(),U(),W()),nt&&(b(),$(),w(),T(),A(),R(),I(),F(),S())}}),r("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t,n){function r(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=a.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(e,t){var n,i=r(e,t);if(e.delegates||(e.delegates={}),!e.delegates[t])if(e.settings.event_root){if(o||(o={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&o){for(t in o)e.dom.unbind(r(e,t));o=null}})),o[t])return;n=function(n){for(var r=n.target,i=e.editorManager.editors,o=i.length;o--;){var s=i[o].getBody();(s===r||a.isChildOf(r,s))&&(i[o].hidden||i[o].fire(t,n))}},o[t]=n,a.bind(i,t,n)}else n=function(n){e.hidden||e.fire(t,n)},a.bind(i,t,n),e.delegates[t]=n}var o,a=t.DOM,s={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){i(e,t)})},toggleNativeEvent:function(e,t){var n=this;n.settings.readonly||"focus"!=e&&"blur"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(r(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(r(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return s=n.extend({},e,s)}),r("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,n){var r=e.each,i=e.explode,o={f9:120,f10:121,f11:122},a=e.makeMap("alt,ctrl,shift,meta,access");return function(s){function l(e,t,l,u){var c,d,f;f={func:l,scope:u||s,desc:s.translate(t)},r(i(e,"+"),function(e){e in a?f[e]=!0:/^[0-9]{2,}$/.test(e)?f.keyCode=parseInt(e,10):(f.charCode=e.charCodeAt(0),f.keyCode=o[e]||e.toUpperCase().charCodeAt(0))}),c=[f.keyCode];for(d in a)f[d]?c.push(d):f[d]=!1;return f.id=c.join(","),f.access&&(f.alt=!0,n.mac?f.ctrl=!0:f.shift=!0),f.meta&&(n.mac?f.meta=!0:(f.ctrl=!0,f.meta=!1)),f}var u=this,c={};s.on("keyup keypress keydown",function(e){(e.altKey||e.ctrlKey||e.metaKey)&&!e.isDefaultPrevented()&&r(c,function(n){return n.ctrl==e.ctrlKey&&n.meta==e.metaKey&&n.alt==e.altKey&&n.shift==e.shiftKey?e.keyCode==n.keyCode||e.charCode&&e.charCode==n.charCode?(e.preventDefault(),"keydown"==e.type&&n.func.call(n.scope),!0):t:t})}),u.add=function(t,n,o,a){var u;return u=o,"string"==typeof o?o=function(){s.execCommand(u,!1,null)}:e.isArray(u)&&(o=function(){s.execCommand(u[0],u[1],u[2])}),r(i(t.toLowerCase()),function(e){var t=l(e,n,o,a);c[t.id]=t}),!0},u.remove=function(e){var t=l(e);return c[t.id]?(delete c[t.id],!0):!1}}}),r("tinymce/util/Promise",[],function(){function e(e,t){return function(){e.apply(t,arguments)}}function n(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(t,e(i,this),e(o,this))}function r(e){var n=this;return null===this._state?(this._deferreds.push(e),t):(u(function(){var r=n._state?e.onFulfilled:e.onRejected;if(null===r)return(n._state?e.resolve:e.reject)(n._value),t;var i;try{i=r(n._value)}catch(o){return e.reject(o),t}e.resolve(i)}),t)}function i(n){try{if(n===this)throw new TypeError("A promise cannot be resolved with itself.");if(n&&("object"==typeof n||"function"==typeof n)){var r=n.then;if("function"==typeof r)return l(e(r,n),e(i,this),e(o,this)),t}this._state=!0,this._value=n,a.call(this)}catch(s){o.call(this,s)}}function o(e){this._state=!1,this._value=e,a.call(this)}function a(){for(var e=0,t=this._deferreds.length;t>e;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}if(window.Promise)return window.Promise;var u=n.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},c=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return n.prototype["catch"]=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var i=this;return new n(function(n,o){r.call(i,new s(e,t,n,o))})},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&c(arguments[0])?arguments[0]:arguments);return new n(function(n,r){function i(a,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var l=s.then;if("function"==typeof l)return l.call(s,function(e){i(a,e)},r),t}e[a]=s,0===--o&&n(e)}catch(u){r(u)}}if(0===e.length)return n([]);for(var o=e.length,a=0;e.length>a;a++)i(a,e[a])})},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n(function(t){t(e)})},n.reject=function(e){return new n(function(t,n){n(e)})},n.race=function(e){return new n(function(t,n){for(var r=0,i=e.length;i>r;r++)e[r].then(t,n)})},n}),r("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools"],function(e,n){return function(r){function i(e){var t,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},t=n[e.blob().type.toLowerCase()]||"dat",e.id()+"."+t}function o(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function a(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:n.constant(i(e))}}function s(e,n,a){var s,l;s=new XMLHttpRequest,s.withCredentials=r.credentials,s.open("POST",r.url),s.onload=function(){var e;return 200!=s.status?(a("HTTP Error: "+s.status),t):(e=JSON.parse(s.responseText),e&&"string"==typeof e.location?(n(o(r.basePath,e.location)),t):(a("Invalid JSON: "+s.responseText),t))},l=new FormData,l.append("file",e.blob(),i(e)),s.send(l)}function l(i){return new e(function(e,o){function l(){var n,r=u[d++];return r?(n=f[r.blobInfo.id()])?(r.url=n,r.status=!0,l(),t):(c(a(r.blobInfo),function(e){f[r.blobInfo.id()]=e,r.url=e,r.status=!0,l()},function(e){r.status=!1,o(e)}),t):(e(u),t)}var u,c=r.handler,d=0,f={};return r.url||c!==s?(u=n.map(i,function(e){return{status:!1,blobInfo:e,url:""}}),l(),t):(e([]),t)})}return r=n.extend({credentials:!1,handler:s},r),{upload:l}}}),r("tinymce/file/Conversions",["tinymce/util/Promise"],function(e){function n(t){return new e(function(e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){200==this.status&&e(this.response)},n.send()})}function r(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}}function i(n){return new e(function(e){var i,o,a;n=r(n);try{i=atob(n.data)}catch(s){return e(new Blob([])),t}for(o=new Uint8Array(i.length),a=0;o.length>a;a++)o[a]=i.charCodeAt(a);e(new Blob([o],{type:n.type}))})}function o(e){return 0===e.indexOf("blob:")?n(e):0===e.indexOf("data:")?i(e):null}function a(t){return new e(function(e){var n=new FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}return{uriToBlob:o,blobToDataUri:a,parseDataUri:r}}),r("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Tools","tinymce/file/Conversions"],function(e,n,r){function i(t,n){return new e(function(e){function r(o){n(t[o],function(n){i.push(n),t.length-1>o?r(o+1):e(i)})}var i=[];0===t.length?e(i):r(0)})}var o=0;return{findAll:function(e,a){function s(e,n){var i,s,l;return 0===e.src.indexOf("blob:")?(s=a.getByUri(e.src),s&&n({image:e,blobInfo:s}),t):(l="blobid"+o++,i=r.parseDataUri(e.src).data,s=a.findFirst(function(e){return e.base64()===i}),s?n({image:e,blobInfo:s}):r.uriToBlob(e.src).then(function(t){var r=a.create(l,t,i);a.add(r),n({image:e,blobInfo:r})}),t)}return i(n.filter(e.getElementsByTagName("img"),function(e){return e.src&&(0===e.src.indexOf("data:")||0===e.src.indexOf("blob:"))}),s)}}}),r("tinymce/file/BlobCache",["tinymce/util/Tools"],function(e){return function(){function t(e,t,n){return{id:l(e),blob:l(t),base64:l(n),blobUri:l(URL.createObjectURL(t))}}function n(e){r(e.id())||s.push(e)}function r(e){return i(function(t){return t.id()===e})}function i(t){return e.grep(s,t)[0]}function o(e){return i(function(t){return t.blobUri()==e})}function a(){e.each(s,function(e){URL.revokeObjectURL(e.blobUri())}),s=[]}var s=[],l=e.constant;return{create:t,add:n,get:r,getByUri:o,findFirst:i,destroy:a}}}),r("tinymce/EditorUpload",["tinymce/util/Tools","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache"],function(e,t,n,r){return function(i){function o(e,t,n){var r=0;do r=e.indexOf(t,r),-1!==r&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(-1!==r);return e}function a(e,t,n){return e=o(e,'src="'+t+'"','src="'+n+'"'),e=o(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function s(t,n){e.each(i.undoManager.data,function(e){e.content=a(e.content,t,n)})}function l(n){function r(t){return e.map(t,function(e){return e.blobInfo})}var o=new t({url:i.settings.images_upload_url,basePath:i.settings.images_upload_base_path,credentials:i.settings.images_upload_credentials,handler:i.settings.images_upload_handler});return u().then(r).then(o.upload).then(function(t){return t=e.map(t,function(e){var t;return t=i.dom.select('img[src="'+e.blobInfo.blobUri()+'"]')[0],t&&(s(t.src,e.url),i.$(t).attr({src:e.url,"data-mce-src":i.convertURL(e.url,"src")})),{element:t,status:e.status}}),n&&n(t),t},function(){})}function u(){return n.findAll(i.getBody(),f).then(function(t){return e.each(t,function(e){s(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri()}),t})}function c(){f.destroy()}function d(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,t){var n=f.getByUri(t);return'src="data:'+n.blob().type+";base64,"+n.base64()+'"'})}var f=new r;return i.on("setContent paste",u),i.on("RawSaveContent",function(e){e.content=d(e.content)}),i.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=d(e.content))}),{blobCache:f,uploadImages:l,scanForImages:u,destroy:c}}}),r("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/EditorUpload"],function(e,n,r,i,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,$,x,w,C,S,E){function _(e,t,i){var o,a,s=this;o=s.documentBaseUrl=i.documentBaseURL,a=i.baseURI,s.settings=t=N({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s,ie7_compat:!0},t),r.language=t.language||"en",r.languageLoad=t.language_load,r.baseURL=i.baseURL,s.id=t.id=e,s.isNotDirty=!0,s.plugins={},s.documentBaseURI=new p(t.document_base_url||o,{base_uri:a}),s.baseURI=a,s.contentCSS=[],s.contentStyles=[],s.shortcuts=new S(s),s.loadedCSS={},s.editorCommands=new h(s),t.target&&(s.targetElm=t.target),s.suffix=i.suffix,s.editorManager=i,s.inline=t.inline,t.cache_suffix&&(x.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(x.overrideViewPort=!1),i.fire("SetupEditor",s),s.execCallback("setup",s),s.$=n.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}var k=e.DOM,T=r.ThemeManager,A=r.PluginManager,N=w.extend,R=w.each,D=w.explode,M=w.inArray,P=w.trim,O=w.resolve,B=g.Event,I=x.gecko,L=x.ie;return _.prototype={render:function(){function e(){k.unbind(window,"ready",e),r.render()}function n(){var e=m.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=r.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!T.urls[i.theme]){var t=i.theme_url;t=t?r.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+a+".js",T.load(i.theme,t)}w.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),R(i.external_plugins,function(e,t){A.load(t,e),i.plugins+=" "+t}),R(i.plugins.split(/[ ,]/),function(e){if(e=P(e),e&&!A.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=A.dependencies(e);R(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+a+".js"};e=A.createUrl(t,e),A.load(e.resource,e)})}else A.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+a+".js"})}),e.loadQueue(function(){r.removed||r.init()})}var r=this,i=r.settings,o=r.id,a=r.suffix;
if(!B.domLoaded)return k.bind(window,"ready",e),t;if(r.getElement()&&x.contentEditable){i.inline?r.inline=!0:(r.orgVisibility=r.getElement().style.visibility,r.getElement().style.visibility="hidden");var s=r.getElement().form||k.getParent(o,"form");s&&(r.formElement=s,i.hidden_input&&!/TEXTAREA|INPUT/i.test(r.getElement().nodeName)&&(k.insertAfter(k.create("input",{type:"hidden",name:o}),o),r.hasHiddenInput=!0),r.formEventDelegate=function(e){r.fire(e.type,e)},k.bind(s,"submit reset",r.formEventDelegate),r.on("reset",function(){r.setContent(r.startContent,{format:"raw"})}),!i.submit_patch||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=function(){return r.editorManager.triggerSave(),r.isNotDirty=!0,s._mceOldSubmit(s)})),r.windowManager=new v(r),"xml"==i.encoding&&r.on("GetContent",function(e){e.save&&(e.content=k.encode(e.content))}),i.add_form_submit_trigger&&r.on("submit",function(){r.initialized&&r.save()}),i.add_unload_trigger&&(r._beforeUnload=function(){!r.initialized||r.destroyed||r.isHidden()||r.save({format:"raw",no_events:!0,set_dirty:!1})},r.editorManager.on("BeforeUnload",r._beforeUnload)),n()}},init:function(){function e(t){var n,r,i=A.get(t);n=A.urls[t]||f.documentBaseUrl.replace(/\/$/,""),t=P(t),i&&-1===M(m,t)&&(R(A.dependencies(t),function(t){e(t)}),r=new i(f,n,f.$),f.plugins[t]=r,r.init&&(r.init(f,n),m.push(t)))}var t,n,r,i,o,a,s,l,u,c,d,f=this,h=f.settings,p=f.getElement(),m=[];if(this.editorManager.i18n.setCode(h.language),f.rtl=h.rtl_ui||this.editorManager.i18n.rtl,f.editorManager.add(f),h.aria_label=h.aria_label||k.getAttrib(p,"aria-label",f.getLang("aria.rich_text_area")),h.theme&&("function"!=typeof h.theme?(h.theme=h.theme.replace(/-/,""),a=T.get(h.theme),f.theme=new a(f,T.urls[h.theme]),f.theme.init&&f.theme.init(f,T.urls[h.theme]||f.documentBaseUrl.replace(/\/$/,""),f.$)):f.theme=h.theme),R(h.plugins.replace(/\-/g,"").split(/[ ,]/),e),h.render_ui&&f.theme&&(f.orgDisplay=p.style.display,"function"!=typeof h.theme?(t=h.width||p.style.width||p.offsetWidth,n=h.height||p.style.height||p.offsetHeight,r=h.min_height||100,c=/^[0-9\.]+(|px)$/i,c.test(""+t)&&(t=Math.max(parseInt(t,10),100)),c.test(""+n)&&(n=Math.max(parseInt(n,10),r)),o=f.theme.renderUI({targetNode:p,width:t,height:n,deltaWidth:h.delta_width,deltaHeight:h.delta_height}),h.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),r>n&&(n=r))):(o=h.theme(f,p),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||f.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||f.id+"_iframecontainer"),n=o.iframeHeight||p.offsetHeight),f.editorContainer=o.editorContainer),h.content_css&&R(D(h.content_css),function(e){f.contentCSS.push(f.documentBaseURI.toAbsolute(e))}),h.content_style&&f.contentStyles.push(h.content_style),h.content_editable)return p=i=o=null,f.initContentBody();for(f.iframeHTML=h.doctype+"<html><head>",h.document_base_url!=f.documentBaseUrl&&(f.iframeHTML+='<base href="'+f.documentBaseURI.getURI()+'" />'),!x.caretAfter&&h.ie7_compat&&(f.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),f.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=0;f.contentCSS.length>d;d++){var g=f.contentCSS[d];f.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+w._addCacheSuffix(g)+'" />',f.loadedCSS[g]=!0}l=h.body_id||"tinymce",-1!=l.indexOf("=")&&(l=f.getParam("body_id","","hash"),l=l[f.id]||l),u=h.body_class||"",-1!=u.indexOf("=")&&(u=f.getParam("body_class","","hash"),u=u[f.id]||""),h.content_security_policy&&(f.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+h.content_security_policy+'" />'),f.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+u+'" data-id="'+f.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+f.id+'");document.write(ed.iframeHTML);'+"document.close();ed.initContentBody(true);})()";document.domain!=location.hostname&&(s=v);var y=k.create("iframe",{id:f.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:f.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}});if(y.onload=function(){y.onload=null,f.fire("load")},k.setAttrib(y,"src",s||'javascript:""'),f.contentAreaContainer=o.iframeContainer,f.iframeElement=y,i=k.add(o.iframeContainer,y),L)try{f.getDoc()}catch(b){i.src=s=v}o.editorContainer&&(k.get(o.editorContainer).style.display=f.orgDisplay,f.hidden=k.isHidden(o.editorContainer)),f.getElement().style.display="none",k.setAttrib(f.id,"aria-hidden",!0),s||f.initContentBody(),p=i=o=null},initContentBody:function(t){var n,r,s=this,h=s.settings,p=s.getElement(),m=s.getDoc();h.inline||(s.getElement().style.visibility=s.orgVisibility),t||h.content_editable||(m.open(),m.write(s.iframeHTML),m.close()),h.content_editable&&(s.on("remove",function(){var e=this.getBody();k.removeClass(e,"mce-content-body"),k.removeClass(e,"mce-edit-focus"),k.setAttrib(e,"contentEditable",null)}),k.addClass(p,"mce-content-body"),s.contentDocument=m=h.content_document||document,s.contentWindow=h.content_window||window,s.bodyElement=p,h.content_document=h.content_window=null,h.root_name=p.nodeName.toLowerCase()),n=s.getBody(),n.disabled=!0,h.readonly||(s.inline&&"static"==k.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new E(s),s.schema=new y(h),s.dom=new e(m,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:h.force_hex_style_colors,class_filter:h.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:h.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new b(h,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,i,o=e.length,a=s.dom;o--;)if(n=e[o],r=n.attr(t),i="data-mce-"+t,!n.attributes.map[i]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?(r=a.serializeStyle(a.parseStyle(r),n.name),r.length||(r=null),n.attr(i,r),n.attr(t,r)):"tabindex"===t?(n.attr(i,r),n.attr(t,null)):n.attr(i,s.convertURL(r,t,n.name))}}),s.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)t=e[n],t.attr("type","mce-"+(t.attr("type")||"no/type"))}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=s.schema.getNonEmptyElements();n--;)t=e[n],t.isEmpty(r)&&(t.append(new o("br",1)).shortEnded=!0)}),s.serializer=new a(h,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new u(s),s.undoManager=new c(s),s.forceBlocks=new f(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new i(s),s.fire("PreInit"),h.browser_spellcheck||h.gecko_spellcheck||(m.body.spellcheck=!1,k.setAttrib(n,"spellcheck","false")),s.fire("PostRender"),s.quirks=new $(s),h.directionality&&(n.dir=h.directionality),h.nowrap&&(n.style.whiteSpace="nowrap"),h.protect&&s.on("BeforeSetContent",function(e){R(h.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),h.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.contentStyles.length>0&&(r="",R(s.contentStyles,function(e){r+=e+"\r\n"}),s.dom.addStyle(r)),R(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),h.auto_focus&&setTimeout(function(){var e;e=h.auto_focus===!0?s:s.editorManager.get(h.auto_focus),e.destroyed||e.focus()},100),p=m=n=null},focus:function(e){var t,n,r,i=this,o=i.selection,a=i.settings.content_editable,s=i.getDoc();if(!e){if(t=o.getRng(),t.item&&(n=t.item(0)),i._refreshContentEditable(),a||(x.opera||i.getBody().focus(),i.getWin().focus()),I||a){if(r=i.getBody(),r.setActive)try{r.setActive()}catch(l){r.focus()}else r.focus();a&&o.normalize()}n&&n.ownerDocument==s&&(t=s.body.createControlRange(),t.addElement(n),t.select())}i.editorManager.setActive(i)},execCallback:function(e){var t,n=this,r=n.settings[e];if(r)return n.callbackLookup&&(t=n.callbackLookup[e])&&(r=t.func,t=t.scope),"string"==typeof r&&(t=r.replace(/\.\w+$/,""),t=t?O(t):0,r=O(r),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:r,scope:t}),r.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;return e?n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"}):""},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var r,i=e in this.settings?this.settings[e]:t;return"hash"===n?(r={},"string"==typeof i?R(i.indexOf("=")>0?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){e=e.split("="),r[P(e[0])]=e.length>1?P(e[1]):P(e)}):r=i,r):i},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(k.show(e.getContainer()),k.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(L&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(k.hide(e.getContainer()),k.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n,r=this,i=r.getElement();return i?(e=e||{},e.load=!0,n=r.setContent(i.value!==t?i.value:i.innerHTML,e),e.element=i,e.no_events||r.fire("LoadContent",e),e.element=i=null,n):t},save:function(e){var n,r,i=this,o=i.getElement();if(o&&i.initialized)return e=e||{},e.save=!0,e.element=o,n=e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"==e.format&&i.fire("RawSaveContent",e),n=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=n:(i.inline||(o.innerHTML=n),(r=k.getParent(i.id,"form"))&&R(r.elements,function(e){return e.name==i.id?(e.value=n,!1):t})),e.element=o=null,e.set_dirty!==!1&&(i.isNotDirty=!0),n},setContent:function(e,t){var n,r=this,i=r.getBody();return t=t||{},t.format=t.format||"html",t.set=!0,t.content=e,t.no_events||r.fire("BeforeSetContent",t),e=t.content,0===e.length||/^\s+$/.test(e)?(n=r.settings.forced_root_block,n&&r.schema.isValidChild(i.nodeName.toLowerCase(),n.toLowerCase())?(e=L&&11>L?"":'<br data-mce-bogus="1">',e=r.dom.createHTML(n,r.settings.forced_root_block_attrs,e)):L||(e='<br data-mce-bogus="1">'),r.dom.setHTML(i,e),r.fire("SetContent",t)):("raw"!==t.format&&(e=new s({},r.schema).serialize(r.parser.parse(e,{isRootContent:!0}))),t.content=P(e),r.dom.setHTML(i,t.content),t.no_events||r.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,r=n.getBody();return e=e||{},e.format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?r.innerHTML:"text"==e.format?r.innerText||r.textContent:n.serializer.serialize(r,e),e.content="text"!=e.format?P(t):t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=N({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;return e.container||(e.container=k.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=k.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,r=this,i=r.settings,o=r.dom;e=e||r.getBody(),r.hasVisual===t&&(r.hasVisual=i.visual),R(o.select("table,a",e),function(e){var a;switch(e.nodeName){case"TABLE":return n=i.visual_table_class||"mce-item-table",a=o.getAttrib(e,"border"),a&&"0"!=a||!r.hasVisual?o.removeClass(e,n):o.addClass(e,n),t;case"A":return o.getAttrib(e,"href",!1)||(a=o.getAttrib(e,"name")||e.id,n=i.visual_anchor_class||"mce-item-anchor",a&&r.hasVisual?o.addClass(e,n):o.removeClass(e,n)),t}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&k.remove(e.getElement().nextSibling),e.inline||(L&&10>L&&e.getDoc().execCommand("SelectAll",!1,null),k.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),k.remove(e.getContainer()),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var n,r=this;if(!r.destroyed){if(!e&&!r.removed)return r.remove(),t;e||(r.editorManager.off("beforeunload",r._beforeUnload),r.theme&&r.theme.destroy&&r.theme.destroy(),r.selection.destroy(),r.dom.destroy()),n=r.formElement,n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),k.unbind(n,"submit reset",r.formEventDelegate)),r.contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),r.destroyed=1}},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()},_refreshContentEditable:function(){var e,t,n=this;n._isHidden()&&(e=n.getBody(),t=e.parentNode,t.removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return I?(e=this.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount):0}},N(_.prototype,C),_}),r("tinymce/util/I18n",[],function(){var e={},n="en";return{setCode:function(e){e&&(n=e,this.rtl=this.data[e]?"rtl"===this.data[e]._dir:!1)},getCode:function(){return n},rtl:!1,add:function(t,n){var r=e[t];r||(e[t]=r={});for(var i in n)r[i]=n[i];this.setCode(t)},translate:function(r){var i;if(i=e[n],i||(i={}),r===t)return r;if("string"!=typeof r&&r.raw)return r.raw;if(r.push){var o=r.slice(1);r=(i[r[0]]||r[0]).replace(/\{([0-9]+)\}/g,function(e,t){return o[t]})}return(i[r]||r).replace(/{context:\w+}$/,"")},data:e}}),r("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(e,t){function n(e){function s(){try{return document.activeElement}catch(e){return document.body}}function l(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function u(e,t){var n;return t.startContainer?(n=e.getDoc().createRange(),n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function c(e){return!!a.getParent(e,n.isEditorUIElement)}function d(n){var d=n.editor;d.on("init",function(){(d.inline||t.ie)&&("onbeforedeactivate"in document&&9>t.ie?d.dom.bind(d.getBody(),"beforedeactivate",function(e){if(e.target==d.getBody())try{d.lastRng=d.selection.getRng()}catch(t){}}):d.on("nodechange mouseup keyup",function(e){var t=s();"nodechange"==e.type&&e.selectionChange||(t&&t.id==d.id+"_ifr"&&(t=d.getBody()),d.dom.isChildOf(t,d.getBody())&&(d.lastRng=d.selection.getRng()))}),t.webkit&&!r&&(r=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();n&&!n.collapsed&&(d.lastRng=n)}},a.bind(document,"selectionchange",r)))}),d.on("setcontent",function(){d.lastRng=null}),d.on("mousedown",function(){d.selection.lastFocusBookmark=null}),d.on("focusin",function(){var t=e.focusedEditor;d.selection.lastFocusBookmark&&(d.selection.setRng(u(d,d.selection.lastFocusBookmark)),d.selection.lastFocusBookmark=null),t!=d&&(t&&t.fire("blur",{focusedEditor:d}),e.setActive(d),e.focusedEditor=d,d.fire("focus",{blurredEditor:t}),d.focus(!0)),d.lastRng=null}),d.on("focusout",function(){window.setTimeout(function(){var t=e.focusedEditor;c(s())||t!=d||(d.fire("blur",{focusedEditor:null}),e.focusedEditor=null,d.selection&&(d.selection.lastFocusBookmark=null))},0)}),i||(i=function(t){var n=e.activeEditor;n&&t.target.ownerDocument==document&&(n.selection&&t.target!=n.getBody()&&(n.selection.lastFocusBookmark=l(n.dom,n.lastRng)),t.target==document.body||c(t.target)||e.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},a.bind(document,"focusin",i)),d.inline&&!o&&(o=function(t){var n=e.activeEditor;if(n.inline&&!n.dom.isChildOf(t.target,n.getBody())){var r=n.selection.getRng();r.collapsed||(n.lastRng=r)}},a.bind(document,"mouseup",o))}function f(t){e.focusedEditor==t.editor&&(e.focusedEditor=null),e.activeEditor||(a.unbind(document,"selectionchange",r),a.unbind(document,"focusin",i),a.unbind(document,"mouseup",o),r=i=o=null)}e.on("AddEditor",d),e.on("RemoveEditor",f)}var r,i,o,a=e.DOM;return n.isEditorUIElement=function(e){return-1!==(""+e.className).indexOf("mce-")},n}),r("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(e,n,r,i,o,a,s,l,u){function c(e){y(m.editors,function(t){t.fire("ResizeWindow",e)})}function d(e,t){t!==x&&(t?n(window).on("resize",c):n(window).off("resize",c),x=t)}function f(e){var t,n=m.editors;delete n[e.id];for(var r=0;n.length>r;r++)if(n[r]==e){n.splice(r,1),t=!0;break}return m.activeEditor==e&&(m.activeEditor=n[0]),m.focusedEditor==e&&(m.focusedEditor=null),t}function h(e){return e&&!(e.getContainer()||e.getBody()).parentNode&&(f(e),e.unbindAllNativeEvents(),e.destroy(!0),e=null),e}var p,m,g=r.DOM,v=a.explode,y=a.each,b=a.extend,$=0,x=!1;return m={$:n,majorVersion:"4",minorVersion:"2.3",releaseDate:"2015-07-30",editors:[],i18n:l,activeEditor:null,setup:function(){var e,t,n,r,o=this,a="";if(t=document.location.href,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;s.length>l;l++)if(r=s[l].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=r.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/"));break}!e&&document.currentScript&&(r=document.currentScript.src,-1!=r.indexOf(".min")&&(a=".min"),e=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new i(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new i(o.baseURL),o.suffix=a,o.focusManager=new u(o)},init:function(n){function r(e){var t=e.id;return t||(t=e.name,t=t&&!g.get(t)?e.name:g.uniqueId(),e.setAttribute("id",t)),t}function i(t,n,r){if(!h(l.get(t))){var i=new e(t,n,l);i.targetElm=i.targetElm||r,u.push(i),i.render()}}function o(e){var t=n[e];if(t)return t.apply(l,Array.prototype.slice.call(arguments,2))}function a(e,t){return t.constructor===RegExp?t.test(e.className):g.hasClass(e,t)}function s(){var e,l;if(g.unbind(window,"ready",s),o("onpageload"),n.types)return y(n.types,function(e){y(g.select(e.selector),function(t){i(r(t),b({},n,e),t)})}),t;if(n.selector)return y(g.select(n.selector),function(e){i(r(e),n,e)}),t;switch(n.target&&i(r(n.target),n),n.mode){case"exact":e=n.elements||"",e.length>0&&y(v(e),function(e){var t;(t=g.get(e))?i(e,n,t):y(document.forms,function(t){y(t.elements,function(t){t.name===e&&(e="mce_editor_"+$++,g.setAttrib(t,"id",e),i(e,n,t))})})});break;case"textareas":case"specific_textareas":y(g.select("textarea"),function(e){n.editor_deselector&&a(e,n.editor_deselector)||(!n.editor_selector||a(e,n.editor_selector))&&i(r(e),n,e)})}n.oninit&&(e=l=0,y(u,function(t){l++,t.initialized?e++:t.on("init",function(){e++,e==l&&o("oninit")}),e==l&&o("oninit")}))}var l=this,u=[];l.settings=n,g.bind(window,"ready",s)},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),d(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),p||(p=function(){t.fire("BeforeUnload")},g.bind(window,"beforeunload",p)),e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var n,r,i=this,o=i.editors;{if(e)return"string"==typeof e?(e=e.selector||e,y(g.select(e),function(e){r=o[e.id],r&&i.remove(r)}),t):(r=e,o[r.id]?(f(r)&&i.fire("RemoveEditor",{editor:r}),o.length||g.unbind(window,"beforeunload",p),r.remove(),d(o,o.length>0),r):null);for(n=o.length-1;n>=0;n--)i.remove(o[n])}},execCommand:function(t,n,r){var i=this,o=i.get(r);switch(t){case"mceAddEditor":return i.get(r)||new e(r,i.settings,i).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(i.execCommand("mceAddEditor",0,r),!0)}return i.activeEditor?i.activeEditor.execCommand(t,n,r):!1},triggerSave:function(){y(this.editors,function(e){e.save()})},addI18n:function(e,t){l.add(e,t)},translate:function(e){return l.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},b(m,s),m.setup(),window.tinymce=window.tinyMCE=m,m}),r("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var n=t.each,r=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function e(e,t){n(t,function(t,n){t&&s.setStyle(e,n,t)}),s.rename(e,"span")}function i(e){s=t.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",e.node),function(e){o[e.nodeName.toLowerCase()](s,e)})}var o,a,s,l=t.settings;l.inline_styles&&(a=r(l.font_size_legacy_values),o={font:function(t,n){e(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,r){"html4"===t.settings.schema&&e(r,{textDecoration:"underline"})},strike:function(t,n){e(n,{textDecoration:"line-through"})}},t.on("PreProcess SetContent",i))})})}),r("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(e,t){var n={send:function(e){function t(){!e.async||4==r.readyState||i++>1e4?(e.success&&1e4>i&&200==r.status?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,i>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):setTimeout(t,10)}var r,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async===!1?!1:!0,e.data=e.data||"",r=new XMLHttpRequest){if(r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=n.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return t();setTimeout(t,10)}}};return t.extend(n,e),n}),r("tinymce/util/JSON",[],function(){function e(t,n){var r,i,o,a;if(n=n||'"',null===t)return"null";if(o=typeof t,"string"==o)return i="\bb	t\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t),r+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(r=0,i="[";t.length>r;r++)i+=(r>0?",":"")+e(t[r],n);return i+"]"}i="{";for(a in t)t.hasOwnProperty(a)&&(i+="function"!=typeof t[a]?(i.length>1?","+n:n)+a+n+":"+e(t[a],n):"");return i+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),r("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(e,n,r){function i(e){this.settings=o({},e),this.count=0}var o=r.extend;return i.sendRPC=function(e){return(new i).send(e)},i.prototype={send:function(r){var i=r.error,a=r.success;r=o(this.settings,r),r.success=function(n,o){n=e.parse(n),n===t&&(n={error:"JSON Parse error."}),n.error?i.call(r.error_scope||r.scope,n.error,o):a.call(r.success_scope||r.scope,n.result)},r.error=function(e,t){i&&i.call(r.error_scope||r.scope,e,t)},r.data=e.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),r.content_type="application/json",n.send(r)}},i}),r("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,o=n.count!==t?n.count:r.count,a="tinymce_jsonp_"+o;r.callbacks[o]=function(e){i.remove(a),delete r.callbacks[o],n.callback(e)},i.add(i.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),r.count++}}}),r("tinymce/util/LocalStorage",[],function(){function e(){s=[];for(var e in a)s.push(e);i.length=s.length}function n(){function n(e){var n,r;return r=e!==t?c+e:i.indexOf(",",c),-1===r||r>i.length?null:(n=i.substring(c,r),c=r+1,n)}var r,i,s,c=0;if(a={},u){o.load(l),i=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(r=n(parseInt(d,32)||0),null!==r){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),r&&(a[r]=s)}}while(null!==r);e()}}function r(){var t,n="";if(u){for(var r in a)t=a[r],n+=(n?",":"")+r.length.toString(32)+","+r+","+t.length.toString(32)+","+t;o.setAttribute(l,n);try{o.save(l)}catch(i){}e()}}var i,o,a,s,l,u;try{if(window.localStorage)return localStorage}catch(c){}return l="tinymce",o=document.documentElement,u=!!o.addBehavior,u&&o.addBehavior("#default#userData"),i={key:function(e){return s[e]},getItem:function(e){return e in a?a[e]:null},setItem:function(e,t){a[e]=""+t,r()},removeItem:function(e){delete a[e],r()},clear:function(){a={},r()}},n(),i}),r("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,r,i,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=r.PluginManager,a.ThemeManager=r.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each(i,function(e,t){a[t]=e}),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),r("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,i,o=this,a=o.settings;t=a.firstControlClass,n=a.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(a.controlClass),e.visible()&&(r||(r=e),i=e)}),r&&r.classes.add(t),i&&i.classes.add(n)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),r("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),r("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation">'+'<div class="'+t+'tooltip-arrow"></div>'+'<div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div>"+"</div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),r("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){var n,r=e.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&r.tooltips!==!1&&(t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.classes.toggle("tooltip-n","bc-tc"==i),r.classes.toggle("tooltip-nw","bc-tl"==i),r.classes.toggle("tooltip-ne","bc-tr"==i),r.moveRel(t.getEl(),i)}else r.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().hide()})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"}),n.renderTo()),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return r}),r("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%",this._super()},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i=t.state.get("icon"),o=t.state.get("text");
return e=t.settings.image,e?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&t.classes.add("btn-has-text"),i=t.settings.icon?r+"ico "+r+"i-"+i:"",'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'">'+'<button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+(o?t.encode(o):"")+"</button>"+"</div>"},bindStates:function(){function e(e){for(var n=t.getEl().firstChild.firstChild;n;n=n.nextSibling)3==n.nodeType&&(n.data=t.translate(e));t.classes.toggle("btn-has-text",!!e)}var t=this;return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var r=n.value,i=t.classPrefix;t.settings.icon=r,r=r?i+"ico "+i+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,a=o.getElementsByTagName("i")[0];r?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a),e(t.state.get("text"))}),t._super()}})}),r("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'">'+'<div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})}),r("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1">'+'<i class="'+n+"ico "+n+'i-checkbox"></i>'+'<span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span>"+"</div>"},bindStates:function(){function e(e){n.classes.toggle("checked",e),n.aria("checked",e)}var n=this;return n.state.on("change:text",function(e){n.getEl("al").firstChild.data=n.translate(e.value)}),n.state.on("change:checked change:value",function(t){n.fire("change"),e(t.value)}),n.state.on("change:icon",function(e){var r=e.value,i=n.classPrefix;if(r===t)return n.settings.icon;n.settings.icon=r,r=r?i+"ico "+i+"i-"+n.settings.icon:"";var o=n.getEl().firstChild,a=o.getElementsByTagName("i")[0];r?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=r):a&&o.removeChild(a)}),n.state.get("checked")&&e(!0),n._super()}})}),r("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,n,r,i){return e.extend({init:function(e){var n=this;n._super(e),e=n.settings,n.classes.add("combobox"),n.subinput=!0,n.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),n.on("click",function(t){var r=t.target,o=n.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&-1!=r.id.indexOf("-open")&&(n.fire("action"),e.menu&&(n.showMenu(),t.aria&&n.menu.items()[0].focus())),r=r.parentNode}),n.on("keydown",function(e){"INPUT"==e.target.nodeName&&13==e.keyCode&&n.parents().reverse().each(function(r){var i=n.state.get("value"),o=n.getEl("inp").value;return e.preventDefault(),n.state.set("value",o),i!=o&&n.fire("change"),r.hasEventListeners("submit")&&r.toJSON?(r.fire("submit",{data:r.toJSON()}),!1):t})}),n.on("keyup",function(e){"INPUT"==e.target.nodeName&&n.state.set("value",e.target.value)})},showMenu:function(){var e,t=this,r=t.settings;t.menu||(e=r.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=n.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this,o=n.getEl(),a=n.getEl("open"),s=n.layoutRect();e=a?s.w-r.getSize(a).width-10:s.w-10;var l=document;return l.all&&(!l.documentMode||8>=l.documentMode)&&(t=n.layoutRect().h-2+"px"),i(o.firstChild).css({width:e,lineHeight:t}),n._super(),n},postRender:function(){var e=this;return i(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this,r=n._id,i=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",l="";return"spellcheck"in i&&(l+=' spellcheck="'+i.spellcheck+'"'),i.maxLength&&(l+=' maxlength="'+i.maxLength+'"'),i.size&&(l+=' size="'+i.size+'"'),i.subtype&&(l+=' type="'+i.subtype+'"'),n.disabled()&&(l+=' disabled="disabled"'),e=i.icon,e&&"caret"!=e&&(e=o+"ico "+o+"i-"+i.icon),t=n.state.get("text"),(e||t)&&(s='<div id="'+r+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button">'+'<button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button>"+"</div>",n.classes.add("has-open")),'<div id="'+r+'" class="'+n.classes+'">'+'<input id="'+r+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(i.placeholder)+'" />'+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl("inp").value!=t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e._super()},remove:function(){i(this.getEl("inp")).off(),this._super()}})}),r("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl().getElementsByTagName("i")[0];if(t)try{t.style.background=e}catch(n){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e._rendered&&e.repaintColor(t.value)}),e._super()}})}),r("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,t){return e.extend({showPanel:function(){var e=this,n=e.settings;if(e.active(!0),e.panel)e.panel.show();else{var r=n.panel;r.type&&(r={layout:"grid",items:r}),r.role=r.role||"dialog",r.popover=!0,r.autohide=!0,r.ariaRoot=!0,e.panel=new t(r).on("hide",function(){e.active(!1)}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),r("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){var n=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true">'+'<button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(r?(i?" ":"")+r:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(r){r.aria&&"down"==r.aria.key||r.control!=e||n.getParent(r.target,"."+e.classPrefix+"open")||(r.stopImmediatePropagation(),t.call(e,r))}),delete e.settings.onclick,e._super()}})}),r("tinymce/util/Color",[],function(){function e(e){function o(e,t,o){var a,s,l,u,c,d;return a=0,s=0,l=0,e/=255,t/=255,o/=255,c=n(e,n(t,o)),d=r(e,r(t,o)),c==d?(l=c,{h:0,s:0,v:100*l}):(u=e==c?t-o:o==c?e-t:o-e,a=e==c?3:o==c?1:5,a=60*(a-u/(d-c)),s=(d-c)/d,l=d,{h:i(a),s:i(100*s),v:i(100*l)})}function a(e,o,a){var s,l,u,c;if(e=(parseInt(e,10)||0)%360,o=parseInt(o,10)/100,a=parseInt(a,10)/100,o=r(0,n(o,1)),a=r(0,n(a,1)),0===o)return f=h=p=i(255*a),t;switch(s=e/60,l=a*o,u=l*(1-Math.abs(s%2-1)),c=a-l,Math.floor(s)){case 0:f=l,h=u,p=0;break;case 1:f=u,h=l,p=0;break;case 2:f=0,h=l,p=u;break;case 3:f=0,h=u,p=l;break;case 4:f=u,h=0,p=l;break;case 5:f=l,h=0,p=u;break;default:f=h=p=0}f=i(255*(f+c)),h=i(255*(h+c)),p=i(255*(p+c))}function s(){function e(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e}return"#"+e(f)+e(h)+e(p)}function l(){return{r:f,g:h,b:p}}function u(){return o(f,h,p)}function c(e){var t;return"object"==typeof e?"r"in e?(f=e.r,h=e.g,p=e.b):"v"in e&&a(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(f=parseInt(t[1],10),h=parseInt(t[2],10),p=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(f=parseInt(t[1],16),h=parseInt(t[2],16),p=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(f=parseInt(t[1]+t[1],16),h=parseInt(t[2]+t[2],16),p=parseInt(t[3]+t[3],16)),f=0>f?0:f>255?255:f,h=0>h?0:h>255?255:h,p=0>p?0:p>255?255:p,d}var d=this,f=0,h=0,p=0;e&&c(e),d.toRgb=l,d.toHsv=u,d.toHex=s,d.parse=c}var n=Math.min,r=Math.max,i=Math.round;return e}),r("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(e,n,r,i){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var n,i,o=r.getPos(e);return n=t.pageX-o.x,i=t.pageY-o.y,n=Math.max(0,Math.min(n/e.clientWidth,1)),i=Math.max(0,Math.min(i/e.clientHeight,1)),{x:n,y:i}}function t(e,t){var n=(360-e.h)/360;r.css(u,{top:100*n+"%"}),t||r.css(d,{left:e.s+"%",top:100-e.v+"%"}),c.style.background=new i({s:100,v:100,h:e.h}).toHex(),f.color().parse({s:e.s,v:e.v,h:e.h})}function o(n){var r;r=e(c,n),s.s=100*r.x,s.v=100*(1-r.y),t(s),f.fire("change")}function a(n){var r;r=e(l,n),s=h.toHsv(),s.h=360*(1-r.y),t(s,!0),f.fire("change")}var s,l,u,c,d,f=this,h=f.color();l=f.getEl("h"),u=f.getEl("hp"),c=f.getEl("sv"),d=f.getEl("svp"),f._repaint=function(){s=h.toHsv(),t(s)},f._super(),f._svdraghelper=new n(f._id+"-sv",{start:o,drag:o}),f._hdraghelper=new n(f._id+"-h",{start:a,drag:a}),f._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var n=this;return arguments.length?(n.color().parse(e),n._rendered&&n._repaint(),t):n.color().toHex()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){function e(){var e,t,n,r,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",r=o.split(","),e=0,t=r.length-1;t>e;e++)a+='<div class="'+i+'colorpicker-h-chunk" style="'+"height:"+100/t+"%;"+n+r[e]+",endColorstr="+r[e+1]+");"+"-ms-"+n+r[e]+",endColorstr="+r[e+1]+")"+'"></div>';return a}var t,n=this,r=n._id,i=n.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",a="background: -ms-linear-gradient(top,"+o+");"+"background: linear-gradient(to bottom,"+o+");";return t='<div id="'+r+'-h" class="'+i+'colorpicker-h" style="'+a+'">'+e()+'<div id="'+r+'-hp" class="'+i+'colorpicker-h-marker"></div>'+"</div>",'<div id="'+r+'" class="'+n.classes+'">'+'<div id="'+r+'-sv" class="'+i+'colorpicker-sv">'+'<div class="'+i+'colorpicker-overlay1">'+'<div class="'+i+'colorpicker-overlay2">'+'<div id="'+r+'-svp" class="'+i+'colorpicker-selector1">'+'<div class="'+i+'colorpicker-selector2"></div>'+"</div>"+"</div>"+"</div>"+"</div>"+t+"</div>"}})}),r("tinymce/ui/Path",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n,r=e.target;(n=r.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,r=this,i=e||[],o="",a=r.classPrefix;for(t=0,n=i.length;n>t;t++)o+=(t>0?'<div class="'+a+'divider" aria-hidden="true"> '+r.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+r._id+"-"+t+'" aria-level="'+t+'">'+i[t].name+"</div>";return o||(o='<div class="'+a+'path-item"></div>'),o}})}),r("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(e,t){return e.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var n=this,r=t.activeEditor;return r.settings.elementpath!==!1&&(n.on("select",function(e){r.focus(),r.selection.select(this.row()[e.index].element),r.nodeChanged()}),r.on("nodeChange",function(t){for(var i=[],o=t.parents,a=o.length;a--;)if(1==o[a].nodeType&&!e(o[a])){var s=r.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||i.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}n.row(i)})),n._super()}})}),r("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})}),r("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(e,n,r){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,i=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(i){var o,a=i.settings.label;a&&(o=new n(r.extend({items:{type:"label",id:i._id+"-l",text:a,flex:0,forId:i._id,disabled:i.disabled()}},e.settings.formItemDefaults)),o.type="formitem",i.aria("labelledby",i._id+"-l"),i.settings.flex===t&&(i.settings.flex=1),e.replace(i,o),o.add(i))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,r,i=0,o=[];if(t.settings.labelGapCalc!==!1)for(r="children"==t.settings.labelGapCalc?t.find("formitem"):t.items(),r.filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=n>i?n:i,o.push(t)}),n=t.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=i+n}var t=this;t._super(),t.on("show",e),e()}})}),r("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</fieldset>"}})}),r("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(e,t){return e.extend({init:function(e){var n,r,i,o=this,a=tinymce.activeEditor,s=a.settings;e.spellcheck=!1,i=s.file_picker_types||s.file_browser_callback_types,i&&(i=t.makeMap(i,/[, ]/)),(!i||i[e.filetype])&&(r=s.file_picker_callback,!r||i&&!i[e.filetype]?(r=s.file_browser_callback,!r||i&&!i[e.filetype]||(n=function(){r(o.getEl("inp").id,o.value(),e.filetype,window)})):n=function(){var n=o.fire("beforecall").meta;n=t.extend({filetype:e.filetype},n),r.call(a,function(e,t){o.value(e).fire("change",{meta:t})},o.value(),n)}),n&&(e.icon="browse",e.onaction=n),o._super(e)}})}),r("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),r("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,$,x,w,C,S,E,_,k,T,A,N,R,D,M,P,O,B,I,L,H=[],F=Math.max,U=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,u=a.spacing||0,("row-reversed"==f||"column-reverse"==f)&&(r=r.set(r.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",C="h",S="minH",_="maxH",T="innerH",k="top",A="deltaH",N="contentH",O="left",M="w",R="x",D="innerW",P="minW",B="right",I="deltaW",L="contentW"):(E="x",C="w",S="minW",_="maxW",T="innerW",k="left",A="deltaW",N="contentW",O="top",M="h",R="y",D="innerH",P="minH",B="bottom",I="deltaH",L="contentH"),d=i[T]-o[k]-o[k],w=c=0,t=0,n=r.length;n>t;t++)h=r[t],p=h.layoutRect(),m=h.settings,g=m.flex,d-=n-1>t?u:0,g>0&&(c+=g,p[_]&&H.push(h),p.flex=g),d-=p[S],v=o[O]+p[P]+o[B],v>w&&(w=v);if($={},$[S]=0>d?i[S]-d+i[A]:i[T]-d+i[A],$[P]=w+i[I],$[N]=i[T]-d,$[L]=w,$.minW=U($.minW,i.maxW),$.minH=U($.minH,i.maxH),$.minW=F($.minW,i.startMinWidth),$.minH=F($.minH,i.startMinHeight),!i.autoResize||$.minW==i.minW&&$.minH==i.minH){for(b=d/c,t=0,n=H.length;n>t;t++)h=H[t],p=h.layoutRect(),y=p[_],v=p[S]+p.flex*b,v>y?(d-=p[_]-p[S],c-=p.flex,p.flex=0,p.maxFlexSize=y):p.maxFlexSize=0;for(b=d/c,x=o[k],$={},0===c&&("end"==l?x=d+o[k]:"center"==l?(x=Math.round(i[T]/2-(i[T]-d)/2)+o[k],0>x&&(x=o[k])):"justify"==l&&(x=o[k],u=Math.floor(d/(r.length-1)))),$[R]=o[O],t=0,n=r.length;n>t;t++)h=r[t],p=h.layoutRect(),v=p.maxFlexSize||p[S],"center"===s?$[R]=Math.round(i[D]/2-p[M]/2):"stretch"===s?($[M]=F(p[P]||0,i[D]-o[O]-o[B]),$[R]=o[O]):"end"===s&&($[R]=i[D]-p[M]-o.top),p.flex>0&&(v+=p.flex*b),$[C]=v,$[E]=x,h.layoutRect($),h.recalc&&h.recalc(),x+=v+u}else if($.w=$.minW,$.h=$.minH,e.layoutRect($),this.recalc(e),null===e._lastRect){var j=e.parent();j&&(j._lastRect=null,j.recalc())}}})}),r("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),r("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(e,n,r,i,o,a){function s(e){function n(n,r){return function(){var i=this;e.on("nodeChange",function(o){var a=e.formatter,s=null;l(o.parents,function(e){return l(n,function(n){return r?a.matchNode(e,r,{value:n.value})&&(s=n.value):a.matchNode(e,n.value)&&(s=n.value),s?!1:t}),s?!1:t}),i.value(s)})}}function i(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e}function o(){function n(e){var t=[];if(e)return l(e,function(e){var r={text:e.title,icon:e.icon};if(e.items)r.menu=n(e.items);else{var a=e.format||"custom"+i++;e.format||(e.name=a,o.push(e)),r.format=a,r.cmd=e.cmd}t.push(r)}),t}function r(){var t;return t=e.settings.style_formats_merge?e.settings.style_formats?n(a.concat(e.settings.style_formats)):n(a):n(e.settings.style_formats||a)}var i=0,o=[],a=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return e.on("init",function(){l(o,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:r(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?e.formatter.getCssText(this.settings.format):t},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,r;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),r=t.settings.cmd,r&&t.active(e.queryCommandState(r))})},onclick:function(){this.settings.format&&u(this.settings.format),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}}function a(t){return function(){function n(){return e.undoManager?e.undoManager[t]():!1}var r=this;t="redo"==t?"hasRedo":"hasUndo",r.disabled(!n()),e.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){r.disabled(!n())})}}function s(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}function u(t){t.control&&(t=t.control.value()),t&&e.execCommand("mceToggleFormat",!1,t)}var c;c=o(),l({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})},onclick:function(){u(n)}})}),l({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})}),l({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;e.formatter?e.formatter.formatChanged(n,function(e){t.active(e)}):e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}})}),e.addButton("undo",{tooltip:"Undo",onPostRender:a("undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:a("redo"),cmd:"redo"}),e.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:a("undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:a("redo"),cmd:"redo"}),e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:s,cmd:"mceToggleVisualAid"}),e.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),l({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.on("mousedown",function(){r.hideAll()}),e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:c}),e.addButton("formatselect",function(){var t=[],r=i(e.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return l(r,function(n){t.push({text:n[0],value:n[1],textStyle:function(){return e.formatter.getCssText(n[1])}})}),{type:"listbox",text:r[0][0],values:t,fixedWidth:!0,onselect:u,onPostRender:n(t)}}),e.addButton("fontselect",function(){var t="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",r=[],o=i(e.settings.font_formats||t);return l(o,function(e){r.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:r,fixedWidth:!0,onPostRender:n(r,"fontname"),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}}),e.addButton("fontsizeselect",function(){var t=[],r="8pt 10pt 12pt 14pt 18pt 24pt 36pt",i=e.settings.fontsize_formats||r;return l(i.split(" "),function(e){var n=e,r=e,i=e.split("=");i.length>1&&(n=i[0],r=i[1]),t.push({text:n,value:r})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:n(t,"fontsize"),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}}),e.addMenuItem("formats",{text:"Formats",menu:c})}var l=i.each;o.on("AddEditor",function(t){t.editor.rtl&&(e.rtl=!0),s(t.editor)}),e.translate=function(e){return o.translate(e)},n.tooltips=!a.iOS}),r("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,l,u,c,d,f,h,p,m,g,v,y,b,$,x,w,C,S,E,_,k,T,A=e.settings,N=[],R=[];A=e.settings,r=e.items().filter(":visible"),i=e.layoutRect(),n=A.columns||Math.ceil(Math.sqrt(r.length)),t=Math.ceil(r.length/n),v=A.spacingH||A.spacing||0,y=A.spacingV||A.spacing||0,b=A.alignH||A.align,$=A.alignV||A.align,m=e.paddingBox,k="reverseRows"in A?A.reverseRows:e.isRtl(),b&&"string"==typeof b&&(b=[b]),$&&"string"==typeof $&&($=[$]);for(c=0;n>c;c++)N.push(0);for(d=0;t>d;d++)R.push(0);for(d=0;t>d;d++)for(c=0;n>c&&(u=r[d*n+c],u);c++)l=u.layoutRect(),C=l.minW,S=l.minH,N[c]=C>N[c]?C:N[c],R[d]=S>R[d]?S:R[d];for(E=i.innerW-m.left-m.right,x=0,c=0;n>c;c++)x+=N[c]+(c>0?v:0),E-=(c>0?v:0)+N[c];for(_=i.innerH-m.top-m.bottom,w=0,d=0;t>d;d++)w+=R[d]+(d>0?y:0),_-=(d>0?y:0)+R[d];if(x+=m.left+m.right,w+=m.top+m.bottom,s={},s.minW=x+(i.w-i.innerW),s.minH=w+(i.h-i.innerH),s.contentW=s.minW-i.deltaW,s.contentH=s.minH-i.deltaH,s.minW=Math.min(s.minW,i.maxW),s.minH=Math.min(s.minH,i.maxH),s.minW=Math.max(s.minW,i.startMinWidth),s.minH=Math.max(s.minH,i.startMinHeight),!i.autoResize||s.minW==i.minW&&s.minH==i.minH){i.autoResize&&(s=e.layoutRect(s),s.contentW=s.minW-i.deltaW,s.contentH=s.minH-i.deltaH);var D;D="start"==A.packV?0:_>0?Math.floor(_/t):0;var M=0,P=A.flexWidths;if(P)for(c=0;P.length>c;c++)M+=P[c];else M=n;var O=E/M;for(c=0;n>c;c++)N[c]+=P?P[c]*O:O;for(h=m.top,d=0;t>d;d++){for(f=m.left,a=R[d]+D,c=0;n>c&&(T=k?d*n+n-1-c:d*n+c,u=r[T],u);c++)p=u.settings,l=u.layoutRect(),o=Math.max(N[c],l.startMinWidth),l.x=f,l.y=h,g=p.alignH||(b?b[c]||b[0]:null),"center"==g?l.x=f+o/2-l.w/2:"right"==g?l.x=f+o-l.w:"stretch"==g&&(l.w=o),g=p.alignV||($?$[c]||$[0]:null),"center"==g?l.y=h+a/2-l.h/2:"bottom"==g?l.y=h+a-l.h:"stretch"==g&&(l.h=a),u.layoutRect(l),f+=o+v,u.recalc&&u.recalc();h+=a+y}}else if(s.w=s.minW,s.h=s.minH,e.layoutRect(s),this.recalc(e),null===e._lastRect){var B=e.parent();B&&(B._lastRect=null,B.recalc())}}})}),r("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&&t()):setTimeout(function(){n.html(e)},0),this}})}),r("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var r=t.getSize(e.getEl());r.width>n.maxW&&(n.minW=n.maxW,e.classes.add("multiline")),e.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes+'"'+(t?' for="'+t+'"':"")+">"+e.encode(e.state.get("text"))+"</label>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value))}),e._super()}})}),r("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}})}),r("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})
}),r("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,n,r){function i(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var o=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(){var e,r=this;return r.menu&&r.menu.visible()?r.hideMenu():(r.menu||(e=r.state.get("menu")||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",r.menu=e.renderTo?e.parent(r).show().renderTo():n.create(e).parent(r).renderTo(),r.fire("createmenu"),r.menu.reflow(),r.menu.on("cancel",function(e){e.control.parent()===r.menu&&(e.stopPropagation(),r.focus(),r.hideMenu())}),r.menu.on("select",function(){r.focus()}),r.menu.on("show hide",function(e){e.control==r.menu&&r.activeMenu("show"==e.type),r.aria("expanded","show"==e.type)}).fire("show")),r.menu.show(),r.menu.layoutRect({w:r.layoutRect().w}),r.menu.moveRel(r.getEl(),r.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),t)},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,o=t.settings.icon,a=t.state.get("text");return e=t.settings.image,e?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o=t.settings.icon?i+"ico "+i+"i-"+o:"",t.aria("role",t.parent()instanceof r?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'">'+'<button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+(a?(o?"":"")+t.encode(a):"")+' <i class="'+i+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&i(t.target,e.getEl())&&(e.showMenu(),t.aria&&e.menu.items()[0].focus())}),e.on("mouseenter",function(t){var n,r=t.control,i=e.parent();r&&i&&r instanceof o&&r.parent()==i&&(i.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=r&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(r.focus(),r.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),r("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(e,n,r){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),t=n.state.get("text"),("-"===t||"|"===t)&&(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,t=this,r=t.settings,i=t.parent();if(i.items().each(function(e){e!==t&&e.hideMenu()}),r.menu){e=t.menu,e?e.show():(e=r.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",i.settings.itemDefaults&&(e.itemDefaults=i.settings.itemDefaults),e=t.menu=n.create(e).parent(t).renderTo(),e.reflow(),e.on("cancel",function(n){n.stopPropagation(),t.focus(),e.hide()}),e.on("show hide",function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(n){n.control===e&&t.classes.remove("selected")}),e.submenu=!0),e._parentMenu=i,e.classes.add("menu-sub");var o=e.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(t.getEl(),o),e.rel=o,o="menu-sub-"+o,e.classes.remove(e._lastRel).add(o),e._lastRel=o,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,n,i={};for(i=r.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;e.length>t;t++)n=i[e[t].toLowerCase()],n&&(e[t]=n);return e.join("+")}var t=this,n=t._id,i=t.settings,o=t.classPrefix,a=t.encode(t.state.get("text")),s=t.settings.icon,l="",u=i.shortcut;return s&&t.parent().classes.add("menu-has-icons"),i.image&&(s="none",l=" style=\"background-image: url('"+i.image+"')\""),u&&(u=e(u)),s=o+"ico "+o+"i-"+(t.settings.icon||"none"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1">'+("-"!==a?'<i class="'+s+'"'+l+"></i>":"")+("-"!==a?'<span id="'+n+'-text" class="'+o+'text">'+a+"</span>":"")+(u?'<div id="'+n+'-shortcut" class="'+o+'menu-shortcut">'+u+"</div>":"")+(i.menu?'<div class="'+o+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=e.getEl("text");r&&r.setAttribute("style",n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),e.parent().hideAll()))}),e._super(),e},active:function(e){return e!==t&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),r("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(e,n,r){var i=e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=r.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(n){var r=n.settings;return r.icon||r.image||r.selectable?(e._hasIcons=!0,!1):t}),e._super()}});return i}),r("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(e,n){return e.extend({init:function(e){function n(t){for(var r=0;t.length>r;r++){if(i=t[r].selected||e.value===t[r].value)return o=o||t[r].text,s.state.set("value",t[r].value),!0;if(t[r].menu&&n(t[r].menu))return!0}}var r,i,o,a,s=this;s._super(e),e=s.settings,s._values=r=e.values,r&&(e.value!==t&&n(r),!i&&r.length>0&&(o=r[0].text,s.state.set("value",r[0].value)),s.state.set("menu",r)),s.state.set("text",e.text||o||r[0].text),s.classes.add("listbox"),s.on("select",function(t){var n=t.control;a&&(t.lastControl=a),e.multiple?n.active(!n.active()):s.value(t.control.value()),a=n})},bindStates:function(){function e(e,t){e instanceof n&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}function t(e,n){var r;if(e)for(var i=0;e.length>i;i++){if(e[i].value===n)return e[i];if(e[i].menu&&(r=t(e[i].menu,n)))return r}}var r=this;return r.on("show",function(t){e(t.control,r.value())}),r.state.on("change:value",function(e){var n=t(r.state.get("menu"),e.value);n?r.text(n.text):r.text(r.settings.text)}),r._super()}})}),r("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),r("tinymce/ui/Rect",[],function(){function e(e,t,n){var r,i,o,a,l,u;return r=t.x,i=t.y,o=e.w,a=e.h,l=t.w,u=t.h,n=(n||"").split(""),"b"===n[0]&&(i+=u),"r"===n[1]&&(r+=l),"c"===n[0]&&(i+=s(u/2)),"c"===n[1]&&(r+=s(l/2)),"b"===n[3]&&(i-=a),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=s(a/2)),"c"===n[4]&&(r-=s(o/2)),{x:r,y:i,w:o,h:a}}function t(t,n,r,i){var o,a;for(a=0;i.length>a;a++)if(o=e(t,n,i[a]),o.x>=r.x&&o.x+o.w<=r.w+r.x&&o.y>=r.y&&o.y+o.h<=r.h+r.y)return i[a]}function n(e,t,n){return{x:e.x-t,y:e.y-n,w:e.w+2*t,h:e.h+2*n}}function r(e,t){var n,r,i,s;return n=a(e.x,t.x),r=a(e.y,t.y),i=o(e.x+e.w,t.x+t.w),s=o(e.y+e.h,t.y+t.h),0>i-n||0>s-r?null:{x:n,y:r,w:i-n,h:s-r}}function i(e,t,n){var r,i,o,s,l,u,c,d,f,h;return l=e.x,u=e.y,c=e.x+e.w,d=e.y+e.h,f=t.x+t.w,h=t.y+t.h,r=a(0,t.x-l),i=a(0,t.y-u),o=a(0,c-f),s=a(0,d-h),l+=r,u+=i,n&&(c+=r,d+=i,l-=o,u-=s),c-=o,d-=s,{x:l,y:u,w:c-l,h:d-u}}var o=Math.min,a=Math.max,s=Math.round;return{inflate:n,relativePosition:e,findBestRelativePosition:t,intersect:r,clamp:i}}),r("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,t){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'">'+'<i class="'+t+"ico "+t+'i-resize"></i>'+"</div>"},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!=e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),r("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(e,t,n){function r(e,t,n){return t>e&&(e=t),e>n&&(e=n),e}function i(e,t){var r,i,o,a,s;"v"==e.settings.orientation?(a="top",o="height",i="h"):(a="left",o="width",i="w"),r=(e.layoutRect()[i]||100)-n.getSize(e.getEl("handle"))[o],s=r*((t-e._minValue)/(e._maxValue-e._minValue))+"px",e.getEl("handle").style[a]=s,e.getEl("handle").style.height=e.layoutRect().h+"px"}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'">'+'<div id="'+t+'-handle" class="'+n+'slider-handle"></div>'+"</div>"},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var e,i,o,a,s,l,u,c,d,f,h=this,p=0;a=h._minValue,s=h._maxValue,o=h.value(),"v"==h.settings.orientation?(u="screenY",c="top",d="height",f="h"):(u="screenX",c="left",d="width",f="w"),h._super(),h._dragHelper=new t(h._id,{handle:h._id+"-handle",start:function(t){e=t[u],i=parseInt(h.getEl("handle").style[c],10),l=(h.layoutRect()[f]||100)-n.getSize(h.getEl("handle"))[d],h.fire("dragstart",{value:o})},drag:function(t){var n=t[u]-e,d=h.getEl("handle");p=r(i+n,0,l),d.style[c]=p+"px",o=a+p/l*(s-a),h.value(o),h.tooltip().text(""+h.settings.previewFilter(o)).show().moveRel(d,"bc tc"),h.fire("drag",{value:o})},stop:function(){h.tooltip().hide(),h.fire("dragend",{value:o})}})},repaint:function(){this._super(),i(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){i(e,t.value)}),e._super()}})}),r("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),r("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,n,r){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,i=this,o=i.getEl(),a=i.layoutRect();return i._super(),e=o.firstChild,t=o.lastChild,r(e).css({width:a.w-n.getSize(t).width,height:a.h-2}),r(t).css({height:a.h-2}),i},activeMenu:function(e){var t=this;r(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i=t.state.get("icon"),o=t.state.get("text");return e=t.settings.image,e?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=t.settings.icon?r+"ico "+r+"i-"+i:"",'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1">'+'<button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+(o?(i?" ":"")+o:"")+"</button>"+'<button type="button" class="'+r+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(i?"":"")+t._menuBtnText:"")+' <i class="'+r+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,n=e.settings.onclick;return e.on("click",function(e){var r=e.target;if(e.control==this)for(;r;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==r.nodeName&&-1==r.className.indexOf("open"))return e.stopImmediatePropagation(),n&&n.call(this,e),t;r=r.parentNode}}),delete e.settings.onclick,e._super()}})}),r("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),r("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(e,t,n){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),t(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+e,n=this.getEl("t"+e),n.setAttribute("aria-selected","true"),t(n).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!=n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,i){var o=e._id+"-t"+i;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+r+'tab" '+'unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+'<div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+"</div>"+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head")for(var r=n.childNodes.length;r--;)n.childNodes[r]==t.target&&e.activateTab(r)})},initLayoutRect:function(){var e,t,r,i=this;t=n.getSize(i.getEl("head")).width,t=0>t?0:t,r=0,i.items().each(function(e){t=Math.max(t,e.layoutRect().minW),r=Math.max(r,e.layoutRect().minH)}),i.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=r,e.layoutRect({x:0,y:0,w:t,h:r})});var o=n.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=r+o,e=i._super(),e.deltaH+=o,e.innerH=e.h-e.deltaH,e}})}),r("tinymce/ui/TextBox",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var r;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){return e.toJSON?(r=e,!1):t}),n.fire("submit",{data:r.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,r,i=this,o=0,a=0;e=i.getEl().style,t=i._layoutRect,r=i._lastRepaintRect||{};var s=document;return!i.settings.multiline&&s.all&&(!s.documentMode||8>=s.documentMode)&&(e.lineHeight=t.h-a+"px"),n=i.borderBox,o=n.left+n.right+8,a=n.top+n.bottom+(i.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-o+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-a+"px",r.h=t.h),i._lastRepaintRect=r,i.fire("repaint",{},!1),i},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.encode(e.state.get("value"),!1),i="";return"spellcheck"in n&&(i+=' spellcheck="'+n.spellcheck+'"'),n.maxLength&&(i+=' maxlength="'+n.maxLength+'"'),n.size&&(i+=' size="'+n.size+'"'),n.subtype&&(i+=' type="'+n.subtype+'"'),e.disabled()&&(i+=' disabled="disabled"'),n.multiline?'<textarea id="'+t+'" class="'+e.classes+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="1"'+i+">"+r+"</textarea>":'<input id="'+t+'" class="'+e.classes+'" value="'+r+'" hidefocus="1"'+i+" />"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!=t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}})}),r("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control"],function(e,t){return function(n,r){var i,o=this,a=t.classPrefix;o.show=function(t,s){return o.hide(),i=!0,window.setTimeout(function(){i&&(e(n).append('<div class="'+a+"throbber"+(r?" "+a+"throbber-inline":"")+'"></div>'),s&&s())},t||0),o},o.hide=function(){var e=n.lastChild;return e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),i=!1,o}}}),o(["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/Env","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/dom/ElementUtils","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/data/Binding","tinymce/util/Observable","tinymce/data/ObservableObject","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/util/Promise","tinymce/file/Conversions","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/Rect","tinymce/ui/ResizeHandle","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])}(this),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["uiTinymceConfig",function(e){e=e||{};var t=0;return{priority:10,require:"ngModel",link:function(n,r,i,o){function a(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var n=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,r=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(r,"").replace(n,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})}var s,l,u,c=function(){o.$setViewValue(r.val()),n.$root.$$phase||n.$apply()};if(i.id||i.$set("id","uiTinymce"+t++),s=i.uiTinymce?n.$eval(i.uiTinymce):{},s.setup){var d=s.setup;delete s.setup}l={setup:function(e){e.on("init",function(){o.$render(),o.$setPristine()}),e.on("ExecCommand",function(){e.save(),c()}),e.on("KeyUp",function(){e.save(),c()}),e.on("SetContent",function(t){t.initial||o.$viewValue===t.content||(e.save(),c())}),e.on("blur",function(){r.blur()}),e.on("ObjectResized",function(){e.save(),c()}),d&&d(e)},mode:"exact",menubar:!1,statusbar:!1,plugins:"advlist autolink link image lists charmap print preview jbimages paste code youtube",toolbar:"bold | italic | removeformat | link | code ",forced_root_block:"p",paste_preprocess:function(e,t){t.content=a(t.content,"")},paste_postprocess:function(){},elements:i.id},angular.extend(l,e,s),setTimeout(function(){tinymce.init(l)}),o.$render=function(){u||(u=tinymce.get(i.id)),u&&u.setContent(o.$viewValue||"")},n.$on("$destroy",function(){u||(u=tinymce.get(i.id)),u&&(u.remove(),u=null)})}}}]);